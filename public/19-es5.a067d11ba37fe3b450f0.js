function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,c=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(o){r=!0,c=o}finally{try{i||null==s.return||s.return()}finally{if(r)throw c}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw c}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"0k1G":function(e,t,n){"use strict";n.r(t),n.d(t,"ProjectModule",(function(){return _c}));var i,r,c,a,s=n("ofXK"),o=n("3Pt+"),l=n("/1cH"),u=n("bTqV"),b=n("jaxi"),f=n("Wp6s"),d=n("bSwM"),p=n("A5z7"),h=n("7EHt"),m=n("NFeN"),g=n("qFsG"),v=n("M9IT"),S=n("d3UM"),T=n("xHqg"),y=n("wZkO"),k=n("f0Cb"),I=n("MutI"),w=n("QibW"),A=n("nNey"),C=n("5+WD"),j=n("fXoL"),P=n("R0Ic"),x=["ngx-masonry",""],O=["*"],K=((a=function(){function e(t,n){_classCallCheck(this,e),this.platformId=t,this._element=n,this.updateLayout=!1,this.ordered=!1,this.layoutComplete=new j.o,this.removeComplete=new j.o,this.itemsLoaded=new j.o,this.pendingItems=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;Object(s.x)(this.platformId)&&void 0===i&&(i=n("hNNL")),this.options||(this.options={}),this.options.itemSelector||(this.options.itemSelector="[ngxMasonryItem], ngxMasonryItem"),this.options.transitionDuration="0s",Object(s.x)(this.platformId)&&(this.masonryInstance=new i(this._element.nativeElement,this.options),this.masonryInstance.on("layoutComplete",(function(t){e.layoutComplete.emit(t)})),this.masonryInstance.on("removeComplete",(function(t){e.removeComplete.emit(t)})))}},{key:"ngOnChanges",value:function(e){e.updateLayout&&(e.updateLayout.firstChange||this.layout())}},{key:"ngOnDestroy",value:function(){this.masonryInstance&&this.masonryInstance.destroy()}},{key:"layout",value:function(){var e=this;setTimeout((function(){e.masonryInstance.layout()}))}},{key:"reloadItems",value:function(){var e=this;setTimeout((function(){e.masonryInstance.reloadItems()}))}},{key:"addPendingItem",value:function(e){this.pendingItems.push(e)}},{key:"add",value:function(e){if(this.ordered){var t,n=_createForOfIteratorHelper(this.pendingItems.entries());try{for(n.s();!(t=n.n()).done;){var i=_slicedToArray(t.value,2),r=i[0],c=i[1];if(c){if(!c.images||0!==c.images.size)return;this.pendingItems[r]=void 0,this.itemLoaded(c),r+1===this.pendingItems.length&&(this.itemsLoaded.emit(this.pendingItems.length),this.pendingItems=[])}}}catch(a){n.e(a)}finally{n.f()}}else this.itemLoaded(e)}},{key:"itemLoaded",value:function(e){e.prepend?this.masonryInstance.prepended(e.element.nativeElement):this.masonryInstance.appended(e.element.nativeElement),1===this.masonryInstance.items.length&&this.masonryInstance.layout(),e.playAnimation(!0)}},{key:"remove",value:function(e){this.masonryInstance.remove(e),this.layout()}}]),e}()).\u0275fac=function(e){return new(e||a)(j.Nb(j.C),j.Nb(j.l))},a.\u0275cmp=j.Hb({type:a,selectors:[["","ngx-masonry",""],["ngx-masonry"]],inputs:{updateLayout:"updateLayout",ordered:"ordered",options:"options"},outputs:{layoutComplete:"layoutComplete",removeComplete:"removeComplete",itemsLoaded:"itemsLoaded"},features:[j.yb],attrs:x,ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(j.lc(),j.kc(0))},styles:["[_nghost-%COMP%] {\n\t\t\tdisplay: block;\n\t\t}"]}),a),_=((c=function(){function e(t,n,i,r){_classCallCheck(this,e),this.element=t,this.builder=n,this.parent=i,this.renderer=r,this.prepend=!1,this.animations={show:[Object(P.l)({opacity:0}),Object(P.e)("400ms ease-in",Object(P.l)({opacity:1}))],hide:[Object(P.l)({opacity:"*"}),Object(P.e)("400ms ease-in",Object(P.l)({opacity:0}))]}}return _createClass(e,[{key:"ngOnInit",value:function(){void 0!==this.parent.options.animations&&(this.animations=this.parent.options.animations),this.renderer.setStyle(this.element.nativeElement,"position","fixed"),this.renderer.setStyle(this.element.nativeElement,"right","-150vw"),this.parent.addPendingItem(this)}},{key:"ngAfterViewInit",value:function(){var e=this,t=this.element.nativeElement.getElementsByTagName("img");if(0===t.length)setTimeout((function(){e.parent.add(e)}));else{this.images=new Set(t);var n,i=_createForOfIteratorHelper(t);try{var r=function(){var t=n.value;e.renderer.listen(t,"load",(function(n){e.imageLoaded(t)})),e.renderer.listen(t,"error",(function(n){e.imageLoaded(t)}))};for(i.s();!(n=i.n()).done;)r()}catch(c){i.e(c)}finally{i.f()}}}},{key:"ngOnDestroy",value:function(){this.images&&0===this.images.size&&this.element.nativeElement.parentNode&&(this.playAnimation(!1),this.parent.remove(this.element.nativeElement))}},{key:"imageLoaded",value:function(e){this.images.delete(e),0===this.images.size&&this.parent.add(this)}},{key:"playAnimation",value:function(e){var t=e?this.animations.show:this.animations.hide;t&&this.builder.build(t).create(this.element.nativeElement).play()}}]),e}()).\u0275fac=function(e){return new(e||c)(j.Nb(j.l),j.Nb(P.b),j.Nb(Object(j.U)((function(){return K}))),j.Nb(j.F))},c.\u0275dir=j.Ib({type:c,selectors:[["","ngxMasonryItem",""],["ngxMasonryItem"]],inputs:{prepend:"prepend"}}),c),L=((r=function e(){_classCallCheck(this,e)}).\u0275mod=j.Lb({type:r}),r.\u0275inj=j.Kb({factory:function(e){return new(e||r)},imports:[[]]}),r),M=n("tyNb"),E=n("0IaG"),F=n("kmnG"),R=n("FKr1");function U(e,t){if(1&e&&(j.Tb(0,"mat-option",12),j.Kc(1),j.Sb()),2&e){var n=j.fc().$implicit;j.mc("value",n),j.Ab(1),j.Lc(n)}}function N(e,t){if(1&e&&(j.Rb(0),j.Ic(1,U,2,2,"mat-option",11),j.Qb()),2&e){var n=t.$implicit,i=j.fc();j.Ab(1),j.mc("ngIf",i.packageLists[n]&&i.packageLists[n].length>0)}}function D(e,t){if(1&e&&(j.Tb(0,"mat-option",12),j.Kc(1),j.Sb()),2&e){var n=j.fc().$implicit;j.mc("value",n),j.Ab(1),j.Mc(" ",n.fullname," ")}}function z(e,t){if(1&e&&(j.Rb(0),j.Ic(1,D,2,2,"mat-option",11),j.Qb()),2&e){var n=t.$implicit,i=j.fc(2);j.Ab(1),j.mc("ngIf",n.scope.indexOf("utility")<0&&!i.existed(n))}}function q(e,t){if(1&e&&(j.Rb(0),j.Ic(1,z,2,1,"ng-container",4),j.Qb()),2&e){var n=j.fc();j.Ab(1),j.mc("ngForOf",n.packageLists[n.selectedSheetName])}}function B(e,t){1&e&&(j.Tb(0,"span",22),j.Kc(1,"Under development"),j.Sb())}function W(e,t){1&e&&(j.Tb(0,"span",23),j.Kc(1,"Experimenting"),j.Sb())}function $(e,t){1&e&&(j.Tb(0,"span",24),j.Kc(1,"Stable"),j.Sb())}function H(e,t){1&e&&(j.Tb(0,"span",25),j.Kc(1,"Deprecating"),j.Sb())}function V(e,t){if(1&e&&(j.Tb(0,"div",13),j.Tb(1,"div",14),j.Tb(2,"div",15),j.Tb(3,"h5"),j.Tb(4,"b"),j.Kc(5,"Name"),j.Sb(),j.Sb(),j.Kc(6),j.Tb(7,"h5"),j.Tb(8,"b"),j.Kc(9,"Version"),j.Sb(),j.Sb(),j.Kc(10),j.Tb(11,"h5"),j.Tb(12,"b"),j.Kc(13,"Desc"),j.Sb(),j.Sb(),j.Ob(14,"div",16),j.Tb(15,"h5"),j.Tb(16,"b"),j.Kc(17,"Author/Maintainer"),j.Sb(),j.Sb(),j.Kc(18),j.Tb(19,"h5"),j.Tb(20,"b"),j.Kc(21,"Contact"),j.Sb(),j.Sb(),j.Kc(22),j.Tb(23,"h5"),j.Tb(24,"b"),j.Kc(25,"Status"),j.Sb(),j.Sb(),j.Tb(26,"div",17),j.Ic(27,B,2,0,"span",18),j.Ic(28,W,2,0,"span",19),j.Ic(29,$,2,0,"span",20),j.Ic(30,H,2,0,"span",21),j.Sb(),j.Ob(31,"br"),j.Sb(),j.Sb(),j.Sb()),2&e){var n=j.fc();j.Ab(6),j.Mc("",n.selectedPackage.name," "),j.Ab(4),j.Mc("",n.selectedPackage.version," "),j.Ab(4),j.mc("innerHTML",n.selectedPackage.desc,j.Bc),j.Ab(4),j.Mc("",n.selectedPackage.author||"un-named"," "),j.Ab(4),j.Mc("",n.selectedPackage.email||"un-set"," "),j.Ab(4),j.mc("ngSwitch",n.selectedPackage.status),j.Ab(1),j.mc("ngSwitchCase",0),j.Ab(1),j.mc("ngSwitchCase",1),j.Ab(1),j.mc("ngSwitchCase",2),j.Ab(1),j.mc("ngSwitchCase",3)}}var Q,Y=((Q=function(){function e(t,n){_classCallCheck(this,e),this.dialogRef=t,this.data=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.packageSheetNames=this.data.packageSheetNames,this.packageLists=this.data.packageLists,this.selectedPackages=this.data.selectedPackages,this.packageSheetNames.length>0&&(this.selectedSheetName=this.packageSheetNames[0],this.setInitialSelectedPkg())}},{key:"selectedSheetNameChange",value:function(e){this.selectedSheetName=e,this.setInitialSelectedPkg()}},{key:"setInitialSelectedPkg",value:function(){if(Array.isArray(this.packageLists[this.selectedSheetName]))for(var e=0;e<this.packageLists[this.selectedSheetName].length;e++){var t=this.packageLists[this.selectedSheetName][e];if(t&&!this.existed(t)&&t.scope.indexOf("utility")<0){this.selectedPackage=t;break}}else this.selectedPackage=void 0}},{key:"existed",value:function(e){return e&&e.id&&this.selectedPackages.filter((function(t){return t&&t.id===e.id})).length>=1}},{key:"selectPackage",value:function(){this.dialogRef.close(this.selectedPackage)}}]),e}()).\u0275fac=function(e){return new(e||Q)(j.Nb(E.g),j.Nb(E.a))},Q.\u0275cmp=j.Hb({type:Q,selectors:[["bdp-package-selector"]],decls:15,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[2,"width","350px"],["placeholder","Select a package list",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[2,"width","400px"],["placeholder","Select a package",3,"ngModel","ngModelChange"],[4,"ngIf"],["class","row",4,"ngIf"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[3,"value",4,"ngIf"],[3,"value"],[1,"row"],[1,"col-md-12"],[2,"border","1px solid black","padding","5px"],[3,"innerHTML"],[2,"font-size","12pt",3,"ngSwitch"],["class","badge badge-danger",4,"ngSwitchCase"],["class","badge badge-warning",4,"ngSwitchCase"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-secondary",4,"ngSwitchCase"],[1,"badge","badge-danger"],[1,"badge","badge-warning"],[1,"badge","badge-success"],[1,"badge","badge-secondary"]],template:function(e,t){1&e&&(j.Tb(0,"h1",0),j.Kc(1,"Select a package"),j.Sb(),j.Tb(2,"div",1),j.Tb(3,"mat-form-field",2),j.Tb(4,"mat-select",3),j.bc("ngModelChange",(function(e){return t.selectedSheetNameChange(e)})),j.Ic(5,N,2,1,"ng-container",4),j.Sb(),j.Sb(),j.Tb(6,"mat-form-field",5),j.Tb(7,"mat-select",6),j.bc("ngModelChange",(function(e){return t.selectedPackage=e})),j.Ic(8,q,2,1,"ng-container",7),j.Sb(),j.Sb(),j.Ic(9,V,32,10,"div",8),j.Sb(),j.Tb(10,"mat-dialog-actions"),j.Tb(11,"button",9),j.Kc(12,"Close"),j.Sb(),j.Tb(13,"button",10),j.bc("click",(function(){return t.selectPackage()})),j.Kc(14,"Choose"),j.Sb(),j.Sb()),2&e&&(j.Ab(4),j.mc("ngModel",t.selectedSheetName),j.Ab(1),j.mc("ngForOf",t.packageSheetNames),j.Ab(2),j.mc("ngModel",t.selectedPackage),j.Ab(1),j.mc("ngIf",t.selectedPackage),j.Ab(1),j.mc("ngIf",t.selectedPackage))},directives:[E.h,E.e,F.b,S.a,o.i,o.l,s.m,s.n,E.c,u.b,E.d,R.k,s.p,s.q],encapsulation:2}),Q),G=n("+mqT"),X=n("c3AT"),J=n("i6c7"),Z=n("YiK1"),ee=n("flj8"),te=n("oBBY");function ne(e,t){1&e&&j.Ob(0,"i",57)}function ie(e,t){1&e&&j.Ob(0,"i",58)}function re(e,t){if(1&e&&(j.Rb(0),j.Ic(1,ne,1,0,"i",55),j.Ic(2,ie,1,0,"i",56),j.Qb()),2&e){var n=j.fc(2).$implicit;j.Ab(1),j.mc("ngIf",null==n.privilege?null:n.privilege.canView),j.Ab(1),j.mc("ngIf",!(null!=n.privilege&&n.privilege.canView))}}function ce(e,t){1&e&&j.Ob(0,"i",59)}function ae(e,t){1&e&&(j.Tb(0,"span",23),j.Kc(1,"owner"),j.Sb())}function se(e,t){1&e&&(j.Tb(0,"span",23),j.Kc(1,"manager"),j.Sb())}function oe(e,t){1&e&&(j.Tb(0,"span",23),j.Kc(1," viewer"),j.Sb())}function le(e,t){1&e&&(j.Tb(0,"span",23),j.Kc(1," runner"),j.Sb())}function ue(e,t){if(1&e&&(j.Tb(0,"div",60),j.Ic(1,ae,2,0,"span",47),j.Ic(2,se,2,0,"span",47),j.Ic(3,oe,2,0,"span",47),j.Ic(4,le,2,0,"span",47),j.Sb()),2&e){var n=j.fc(2).$implicit;j.Ab(1),j.mc("ngIf",n.privilege.isOwner),j.Ab(1),j.mc("ngIf",n.privilege.isManager),j.Ab(1),j.mc("ngIf",n.privilege.isViewer),j.Ab(1),j.mc("ngIf",n.privilege.isRunner)}}function be(e,t){1&e&&(j.Tb(0,"div",60),j.Tb(1,"span",23),j.Kc(2,"public"),j.Sb(),j.Sb())}function fe(e,t){1&e&&(j.Tb(0,"span",61),j.Kc(1,"main package"),j.Sb())}function de(e,t){if(1&e&&(j.Tb(0,"span",62),j.Kc(1),j.Sb()),2&e){var n=t.$implicit;j.Ab(1),j.Lc(n)}}function pe(e,t){if(1&e){var n=j.Ub();j.Tb(0,"button",63),j.bc("click",(function(){j.Ac(n);var e=j.fc(2).index;return j.fc(2).movePkgUp(e)})),j.Ob(1,"i",64),j.Sb()}}function he(e,t){if(1&e){var n=j.Ub();j.Tb(0,"button",63),j.bc("click",(function(){j.Ac(n);var e=j.fc(2).index;return j.fc(2).movePkgDown(e)})),j.Ob(1,"i",65),j.Sb()}}function me(e,t){1&e&&(j.Tb(0,"span",23),j.Kc(1," (You)"),j.Sb())}function ge(e,t){1&e&&(j.Tb(0,"span",66),j.Kc(1,"Under development"),j.Sb())}function ve(e,t){1&e&&(j.Tb(0,"span",67),j.Kc(1,"Experimenting"),j.Sb())}function Se(e,t){1&e&&(j.Tb(0,"span",68),j.Kc(1,"Stable"),j.Sb())}function Te(e,t){1&e&&(j.Tb(0,"span",69),j.Kc(1,"Out of date"),j.Sb())}function ye(e,t){if(1&e){var n=j.Ub();j.Tb(0,"mat-card",33),j.Tb(1,"mat-card-header"),j.Tb(2,"div",34),j.Ic(3,re,3,2,"ng-container",35),j.Ic(4,ce,1,0,"i",36),j.Sb(),j.Tb(5,"mat-card-title"),j.Tb(6,"b"),j.Kc(7),j.Sb(),j.Sb(),j.Tb(8,"mat-card-subtitle"),j.Kc(9),j.gc(10,"htmlToPlainText"),j.Sb(),j.Ic(11,ue,5,4,"div",37),j.Ic(12,be,3,0,"div",37),j.Sb(),j.Tb(13,"mat-card-content"),j.Ic(14,fe,2,0,"span",38),j.Ic(15,de,2,1,"span",39),j.Sb(),j.Tb(16,"mat-card-actions"),j.Ic(17,pe,2,0,"button",40),j.Ic(18,he,2,0,"button",41),j.Tb(19,"button",42),j.bc("click",(function(){j.Ac(n);var e=j.fc().index;return j.fc(2).removePkg(e)})),j.Ob(20,"i",43),j.Sb(),j.Sb(),j.Tb(21,"mat-card-footer",44),j.Tb(22,"div",45),j.Ob(23,"i",46),j.Tb(24,"span",23),j.Kc(25),j.Sb(),j.Ic(26,me,2,0,"span",47),j.Sb(),j.Sb(),j.Tb(27,"mat-card-footer",48),j.Tb(28,"div",49),j.Rb(29,50),j.Ic(30,ge,2,0,"span",51),j.Ic(31,ve,2,0,"span",52),j.Ic(32,Se,2,0,"span",53),j.Ic(33,Te,2,0,"span",54),j.Qb(),j.Sb(),j.Sb(),j.Sb()}if(2&e){var i=j.fc(),r=i.$implicit,c=i.index,a=j.fc(2);j.Ab(3),j.mc("ngIf",!r.public),j.Ab(1),j.mc("ngIf",r.public),j.Ab(3),j.Lc(r.fullname),j.Ab(2),j.Mc(" ",j.hc(10,17,r.desc)," "),j.Ab(2),j.mc("ngIf",!r.public),j.Ab(1),j.mc("ngIf",r.public),j.Ab(2),j.mc("ngIf",0===c),j.Ab(1),j.mc("ngForOf",r.scope),j.Ab(2),j.mc("ngIf",0!==c),j.Ab(1),j.mc("ngIf",c<a.projectPackages.length-1),j.Ab(7),j.Lc(r.owner?r.owner.name:"unset"),j.Ab(1),j.mc("ngIf",(null==r.owner?null:r.owner.id)===(null==a.currentUser?null:a.currentUser.id)),j.Ab(3),j.mc("ngSwitch",r.status),j.Ab(1),j.mc("ngSwitchCase",0),j.Ab(1),j.mc("ngSwitchCase",1),j.Ab(1),j.mc("ngSwitchCase",2),j.Ab(1),j.mc("ngSwitchCase",3)}}function ke(e,t){if(1&e&&(j.Tb(0,"div",31),j.Ic(1,ye,34,19,"mat-card",32),j.Sb()),2&e){var n=t.$implicit;j.Ab(1),j.mc("ngIf",n)}}function Ie(e,t){if(1&e){var n=j.Ub();j.Tb(0,"mat-card",70),j.bc("click",(function(){return j.Ac(n),j.fc(2).onClickPackageSelector()})),j.Tb(1,"mat-card-header"),j.Tb(2,"div",34),j.Ob(3,"i",71),j.Sb(),j.Tb(4,"mat-card-title"),j.Tb(5,"b"),j.Kc(6,"Click to add a package"),j.Sb(),j.Sb(),j.Sb(),j.Sb()}}function we(e,t){1&e&&j.Ob(0,"i",74)}function Ae(e,t){1&e&&j.Ob(0,"i",58)}function Ce(e,t){if(1&e&&(j.Rb(0),j.Ic(1,we,1,0,"i",73),j.Ic(2,Ae,1,0,"i",56),j.Qb()),2&e){var n=j.fc(2).$implicit;j.Ab(1),j.mc("ngIf",null==n.privilege?null:n.privilege.canView),j.Ab(1),j.mc("ngIf",!(null!=n.privilege&&n.privilege.canView))}}function je(e,t){1&e&&j.Ob(0,"i",59)}function Pe(e,t){1&e&&(j.Tb(0,"span",23),j.Kc(1,"owner"),j.Sb())}function xe(e,t){1&e&&(j.Tb(0,"span",23),j.Kc(1,"manager"),j.Sb())}function Oe(e,t){1&e&&(j.Tb(0,"span",23),j.Kc(1," viewer"),j.Sb())}function Ke(e,t){1&e&&(j.Tb(0,"span",23),j.Kc(1," runner"),j.Sb())}function _e(e,t){if(1&e&&(j.Tb(0,"div",60),j.Ic(1,Pe,2,0,"span",47),j.Ic(2,xe,2,0,"span",47),j.Ic(3,Oe,2,0,"span",47),j.Ic(4,Ke,2,0,"span",47),j.Sb()),2&e){var n=j.fc(2).$implicit;j.Ab(1),j.mc("ngIf",n.privilege.isOwner),j.Ab(1),j.mc("ngIf",n.privilege.isManager),j.Ab(1),j.mc("ngIf",n.privilege.isViewer),j.Ab(1),j.mc("ngIf",n.privilege.isRunner)}}function Le(e,t){1&e&&(j.Tb(0,"div",60),j.Tb(1,"span",23),j.Kc(2,"public"),j.Sb(),j.Sb())}function Me(e,t){1&e&&(j.Tb(0,"span",23),j.Kc(1," (You)"),j.Sb())}function Ee(e,t){1&e&&(j.Tb(0,"span",66),j.Kc(1,"Under development"),j.Sb())}function Fe(e,t){1&e&&(j.Tb(0,"span",67),j.Kc(1,"Experimenting"),j.Sb())}function Re(e,t){1&e&&(j.Tb(0,"span",68),j.Kc(1,"Stable"),j.Sb())}function Ue(e,t){1&e&&(j.Tb(0,"span",69),j.Kc(1,"Out of date"),j.Sb())}function Ne(e,t){if(1&e&&(j.Tb(0,"mat-card",33),j.Tb(1,"mat-card-header"),j.Tb(2,"div",34),j.Ic(3,Ce,3,2,"ng-container",35),j.Ic(4,je,1,0,"i",36),j.Sb(),j.Tb(5,"mat-card-title"),j.Tb(6,"b"),j.Kc(7),j.Sb(),j.Sb(),j.Tb(8,"mat-card-subtitle"),j.Kc(9),j.gc(10,"htmlToPlainText"),j.Sb(),j.Ic(11,_e,5,4,"div",37),j.Ic(12,Le,3,0,"div",37),j.Sb(),j.Tb(13,"mat-card-footer",44),j.Tb(14,"div",45),j.Ob(15,"i",46),j.Tb(16,"span",23),j.Kc(17),j.Sb(),j.Ic(18,Me,2,0,"span",47),j.Sb(),j.Sb(),j.Tb(19,"mat-card-footer",48),j.Tb(20,"div",49),j.Rb(21,50),j.Ic(22,Ee,2,0,"span",51),j.Ic(23,Fe,2,0,"span",52),j.Ic(24,Re,2,0,"span",53),j.Ic(25,Ue,2,0,"span",54),j.Qb(),j.Sb(),j.Sb(),j.Sb()),2&e){var n=j.fc().$implicit,i=j.fc(2);j.Hc("background-color","Gainsboro"),j.Ab(3),j.mc("ngIf",!n.public),j.Ab(1),j.mc("ngIf",n.public),j.Ab(3),j.Lc(n.fullname),j.Ab(2),j.Mc(" ",j.hc(10,15,n.desc)," "),j.Ab(2),j.mc("ngIf",!n.public),j.Ab(1),j.mc("ngIf",n.public),j.Ab(5),j.Lc(n.owner?n.owner.name:"unset"),j.Ab(1),j.mc("ngIf",(null==n.owner?null:n.owner.id)===(null==i.currentUser?null:i.currentUser.id)),j.Ab(3),j.mc("ngSwitch",n.status),j.Ab(1),j.mc("ngSwitchCase",0),j.Ab(1),j.mc("ngSwitchCase",1),j.Ab(1),j.mc("ngSwitchCase",2),j.Ab(1),j.mc("ngSwitchCase",3)}}function De(e,t){if(1&e&&(j.Rb(0),j.Ic(1,Ne,26,17,"mat-card",72),j.Qb()),2&e){var n=t.$implicit;j.Ab(1),j.mc("ngIf",n)}}function ze(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",11),j.Tb(1,"div",12),j.Tb(2,"div",13),j.Tb(3,"div",14),j.Tb(4,"h3"),j.Kc(5,"Name"),j.Sb(),j.Sb(),j.Tb(6,"div",15),j.Tb(7,"mat-form-field",16),j.Tb(8,"input",17,18),j.bc("ngModelChange",(function(e){return j.Ac(n),j.fc().projectName=e})),j.Sb(),j.Tb(10,"mat-hint",19),j.Kc(11),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Ob(12,"br"),j.Tb(13,"div",13),j.Tb(14,"div",14),j.Tb(15,"h3"),j.Kc(16,"Description"),j.Sb(),j.Sb(),j.Tb(17,"div",15),j.Tb(18,"mat-form-field",16),j.Tb(19,"textarea",20,21),j.bc("ngModelChange",(function(e){return j.Ac(n),j.fc().projectDesc=e})),j.Kc(21),j.Sb(),j.Tb(22,"mat-hint",19),j.Kc(23),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Ob(24,"br"),j.Tb(25,"div",13),j.Tb(26,"div",22),j.Tb(27,"h3"),j.Kc(28,"Packages for this project"),j.Sb(),j.Tb(29,"small",23),j.Kc(30,"The first package is the main package."),j.Sb(),j.Ob(31,"hr"),j.Tb(32,"div",24),j.bc("cdkDropListDropped",(function(e){return j.Ac(n),j.fc().drop(e)})),j.Ic(33,ke,2,1,"div",25),j.Sb(),j.Ic(34,Ie,7,0,"mat-card",26),j.Sb(),j.Tb(35,"div",27),j.Tb(36,"h3"),j.Kc(37,"Utility packages"),j.Sb(),j.Tb(38,"small",23),j.Kc(39,"Utility packages were defined by the admin."),j.Sb(),j.Ob(40,"hr"),j.Ic(41,De,2,1,"ng-container",28),j.Sb(),j.Sb(),j.Ob(42,"br"),j.Tb(43,"div",13),j.Tb(44,"div",29),j.Tb(45,"button",30),j.bc("click",(function(e){return j.Ac(n),j.fc().onClickCreateProject(e)})),j.Kc(46,"Create"),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Sb()}if(2&e){var i=j.xc(9),r=j.xc(20),c=j.fc();j.Ab(8),j.mc("ngModel",c.projectName),j.Ab(3),j.Mc("",i.value.length," / 160"),j.Ab(8),j.mc("ngModel",c.projectDesc),j.Ab(2),j.Lc(c.projectDesc),j.Ab(2),j.Mc("",r.value.length," / 1000"),j.Ab(10),j.mc("ngForOf",c.projectPackages),j.Ab(1),j.mc("ngIf",c.projectPackages.length<=10),j.Ab(7),j.mc("ngForOf",c.utilityPackages),j.Ab(4),j.mc("disabled",!c.projectName)}}var qe,Be=function(){return["/home"]},We=function(){return["/project/list"]},$e=function(){return["/project/create"]},He=((qe=function(){function e(t,n,i,r,c,a){_classCallCheck(this,e),this.projectService=t,this.router=n,this.dialog=i,this.taskService=r,this.systemService=c,this.accountService=a,this._subs=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.projectName="",this.projectDesc="",this.projectPackageID="",this.projectPackages=[],this.utilityPackages=[],this.viewControls={isSubmitting:!1},this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.taskService.packageList$.subscribe((function(t){e.packageLists={},e.packageSheetNames=[],e.utilityPackages=[],t.forEach((function(t){var n=t.sheetName||"Internal Package List";e.packageLists[n]||(e.packageLists[n]=[]),t.privilege.canRun&&e.packageLists[n].push(t),t.scope.indexOf("utility")>=0&&e.utilityPackages.push(t)})),e.packageSheetNames=Object.keys(e.packageLists),e.packageSheetNames=Object(G.a)(e.packageSheetNames);var n,i=_createForOfIteratorHelper(e.packageSheetNames);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.packageLists[r]=Object(G.a)(e.packageLists[r],[function(e){return e.name}],["asc"])}}catch(c){i.e(c)}finally{i.f()}})),this._subs.push(this.accountService.currentUser$.subscribe((function(t){return t&&t.isLoggedIn?e.currentUser=t:""}))),this.taskService.loadPackages()}},{key:"onClickPackageSelector",value:function(){var e=this;this.dialog.open(Y,{disableClose:!1,data:{packageLists:this.packageLists,packageSheetNames:this.packageSheetNames,selectedPackages:this.projectPackages}}).afterClosed().subscribe((function(t){return e.projectPackages.push(t)}))}},{key:"movePkgUp",value:function(e){if(!(e<1)){var t=this.projectPackages.splice(e,1)[0];this.projectPackages.splice(e-1,0,t)}}},{key:"movePkgDown",value:function(e){if(!(e>=this.projectPackages.length-1)){var t=this.projectPackages.splice(e,1)[0];this.projectPackages.splice(e+1,0,t)}}},{key:"removePkg",value:function(e){this.projectPackages.splice(e,1)}},{key:"drop",value:function(e){Object(C.d)(this.projectPackages,e.previousIndex,e.currentIndex)}},{key:"onClickCreateProject",value:function(e){var t=this;this.viewControls.isSubmitting=!0,this._subs.push(this.projectService.createProject(this.projectName,this.projectDesc,this.projectPackages.map((function(e){return e.id}))).subscribe((function(e){e.isError?t.viewControls.isSubmitting=!1:t.router.navigate(["/project",e.success.id,"info"])})))}},{key:"ngOnDestroy",value:function(){this._subs.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||qe)(j.Nb(X.a),j.Nb(M.c),j.Nb(E.b),j.Nb(J.a),j.Nb(Z.a),j.Nb(ee.a))},qe.\u0275cmp=j.Hb({type:qe,selectors:[["project-creation"]],decls:21,vars:10,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"bdp-main-container"],[1,"chi-header"],["style","font-size: 12pt;",4,"ngIf"],[3,"hidden"],[1,"fa","fa-circle-o-notch","fa-spin","fa-3x","fa-fw"],[2,"font-size","12pt"],[1,"container-fluid"],[1,"row"],[1,"col-lg-2"],[1,"col-lg-10"],[2,"width","100%"],["matInput","","maxlength","160","placeholder","Project name",3,"ngModel","ngModelChange"],["projectNameInput",""],["align","end"],["matInput","","placeholder","Say something about this project. (max length: 1000 characters)","maxlength","1000","rows","4",3,"ngModel","ngModelChange"],["projectDescInput",""],[1,"col-md-12","mb-5"],[1,"text-muted"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["class","ml-1 my-2","class","link viewable","style","height: auto",3,"click",4,"ngIf"],[1,"col-md-12","mt-5"],[4,"ngFor","ngForOf"],[1,"col-md-10","col-md-offset-2"],["mat-raised-button","","color","primary",3,"disabled","click"],["cdkDrag",""],["class","ml-1 my-2","style","height: auto",4,"ngIf"],[1,"ml-1","my-2",2,"height","auto"],["mat-card-avatar",""],[4,"ngIf"],["class","fas fa-unlock fa-fw fa-2x",4,"ngIf"],["class","ml-3","style","position: absolute; top: 2px; right: 5px; font-size: 14px;",4,"ngIf"],["class","badge badge-warning m-3",4,"ngIf"],["class","m-3 badge badge-primary",4,"ngFor","ngForOf"],["mat-button","","color","primary","style","min-width: 1%;",3,"click",4,"ngIf"],["style","min-width: 1%;","mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","accent",2,"min-width","1%",3,"click"],[1,"fas","fa-times","fa-fw"],[2,"text-align","left"],[1,"small","ml-3",2,"font-size","12pt","margin","5px 5px"],[1,"fas","fa-user-circle","text-muted","ml-5","mr-2"],["class","text-muted",4,"ngIf"],[2,"text-align","right"],[1,"small","text-mute",2,"font-size","14pt","margin","5px 5px"],[3,"ngSwitch"],["class","badge badge-danger",4,"ngSwitchCase"],["class","badge badge-warning",4,"ngSwitchCase"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-default",4,"ngSwitchCase"],["class","fas fa-cube fa-2x fa-fw",4,"ngIf"],["class","fas fa-lock fa-fw fa-2x",4,"ngIf"],[1,"fas","fa-cube","fa-2x","fa-fw"],[1,"fas","fa-lock","fa-fw","fa-2x"],[1,"fas","fa-unlock","fa-fw","fa-2x"],[1,"ml-3",2,"position","absolute","top","2px","right","5px","font-size","14px"],[1,"badge","badge-warning","m-3"],[1,"m-3","badge","badge-primary"],["mat-button","","color","primary",2,"min-width","1%",3,"click"],[1,"fas","fa-arrow-up","fa-fw"],[1,"fas","fa-arrow-down","fa-fw"],[1,"badge","badge-danger"],[1,"badge","badge-warning"],[1,"badge","badge-success"],[1,"badge","badge-default"],[1,"link","viewable",2,"height","auto",3,"click"],[1,"far","fa-plus-square","fa-fw","fa-2x"],["class","ml-1 my-2","style","height: auto",3,"background-color",4,"ngIf"],["class","fas fa-cube fa-faw fa-2x",4,"ngIf"],[1,"fas","fa-cube","fa-faw","fa-2x"]],template:function(e,t){1&e&&(j.Tb(0,"ol",0),j.Tb(1,"li",1),j.Tb(2,"a",2),j.Kc(3,"Home"),j.Sb(),j.Sb(),j.Tb(4,"li",1),j.Tb(5,"a",2),j.Kc(6,"Project List"),j.Sb(),j.Sb(),j.Tb(7,"li",3),j.Tb(8,"a",2),j.Kc(9,"Project creation"),j.Sb(),j.Tb(10,"a",4),j.Ob(11,"i",5),j.Sb(),j.Sb(),j.Sb(),j.Tb(12,"div",6),j.Tb(13,"h5",7),j.Kc(14,"Project creation"),j.Sb(),j.Ob(15,"br"),j.Ob(16,"br"),j.Ic(17,ze,47,9,"div",8),j.Tb(18,"div",9),j.Kc(19,"Creating the project... "),j.Ob(20,"i",10),j.Sb(),j.Sb()),2&e&&(j.Ab(2),j.mc("routerLink",j.pc(6,Be)),j.Ab(3),j.mc("routerLink",j.pc(7,We)),j.Ab(3),j.mc("routerLink",j.pc(8,$e)),j.Ab(2),j.mc("routerLink",j.pc(9,$e)),j.Ab(7),j.mc("ngIf",!t.viewControls.isSubmitting),j.Ab(1),j.mc("hidden",!t.viewControls.isSubmitting))},directives:[M.f,s.n,F.b,g.a,o.b,o.e,o.i,o.l,F.e,C.b,s.m,u.b,C.a,f.a,f.f,f.c,f.j,f.i,f.d,f.b,f.e,s.p,s.q],pipes:[te.a],styles:[".viewable[_ngcontent-%COMP%]:hover{background-color:#fff3cd;border-color:#ffeeba;box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}"]}),qe),Ve=n("RMCY"),Qe=n("7Cdu");function Ye(e,t){if(1&e&&(j.Tb(0,"span"),j.Kc(1),j.Sb()),2&e){var n=j.fc(2);j.Ab(1),j.Mc(": ",n.currentProject.name,"")}}var Ge=function(e){return["/project",e,"info"]};function Xe(e,t){if(1&e&&(j.Tb(0,"li",1),j.Tb(1,"a",2),j.Kc(2,"Project "),j.Ic(3,Ye,2,1,"span",9),j.Sb(),j.Sb()),2&e){var n=j.fc();j.Ab(1),j.mc("routerLink",j.qc(2,Ge,n.currentProject.id)),j.Ab(2),j.mc("ngIf",n.currentProject)}}function Je(e,t){1&e&&(j.Tb(0,"li",1),j.Kc(1,"Project"),j.Sb())}var Ze=function(e){return["/project",e,"fileImport"]};function et(e,t){if(1&e&&(j.Tb(0,"li",10),j.Tb(1,"a",2),j.Kc(2,"Import Files"),j.Sb(),j.Tb(3,"a",11),j.Ob(4,"i",12),j.Sb(),j.Sb()),2&e){var n=j.fc();j.Ab(1),j.mc("routerLink",j.qc(2,Ze,n.currentProject.id)),j.Ab(2),j.mc("routerLink",j.qc(4,Ze,n.currentProject.id))}}function tt(e,t){1&e&&(j.Tb(0,"li",1),j.Kc(1,"Import Files"),j.Sb())}function nt(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",13),j.Tb(1,"div",14),j.Tb(2,"div",15),j.Tb(3,"h2"),j.Kc(4,"Create DataFile records to the "),j.Tb(5,"u"),j.Kc(6),j.Sb(),j.Kc(7," Project."),j.Sb(),j.Sb(),j.Tb(8,"div",16),j.Tb(9,"h3"),j.Kc(10,"Project description:"),j.Sb(),j.Tb(11,"div",17),j.Kc(12),j.Sb(),j.Sb(),j.Sb(),j.Tb(13,"div",14),j.Tb(14,"div",15),j.Tb(15,"bdp-file-importer",18),j.bc("importTypeChanged",(function(e){return j.Ac(n),j.fc().switchType(e)})),j.Sb(),j.Sb(),j.Sb(),j.Sb()}if(2&e){var i=j.fc();j.Ab(6),j.Lc(null==i.currentProject?null:i.currentProject.name),j.Ab(6),j.Lc((null==i.currentProject?null:i.currentProject.desc)||"(no description)"),j.Ab(3),j.mc("allowedFormats",i.allowedFormats)("project",i.currentProject)("sysConfig",i.sysConfig)("tasks",i.tasks)("importType",i._viewControls.importType)("currentUser",i.currentUser)}}function it(e,t){1&e&&j.Ob(0,"i",33)}function rt(e,t){1&e&&j.Ob(0,"i",34)}var ct=function(){return{importType:"folder"}};function at(e,t){if(1&e&&(j.Tb(0,"a",25),j.Ob(1,"i",35),j.Tb(2,"span",27),j.Kc(3,"Add a folder"),j.Sb(),j.Tb(4,"span",24),j.Kc(5,"\u276f"),j.Sb(),j.Sb()),2&e){var n=j.fc(2);j.Eb("active","folder"==n._viewControls.importType),j.mc("routerLink",j.qc(6,Ze,n.currentProject.id))("queryParams",j.pc(8,ct)),j.Ab(2),j.Eb("active",n.showRightButtonContent||"folder"==n._viewControls.importType)}}var st=function(){return{importType:"google"}};function ot(e,t){if(1&e&&(j.Rb(0),j.Tb(1,"a",25),j.Ob(2,"i",36),j.Tb(3,"span",27),j.Kc(4,"Google Drive"),j.Sb(),j.Tb(5,"span",24),j.Kc(6,"\u276f"),j.Sb(),j.Sb(),j.Ob(7,"br"),j.Qb()),2&e){var n=j.fc(2);j.Ab(1),j.Eb("active","google"==n._viewControls.importType),j.mc("routerLink",j.qc(6,Ze,n.currentProject.id))("queryParams",j.pc(8,st)),j.Ab(2),j.Eb("active",n.showRightButtonContent||"google"==n._viewControls.importType)}}var lt=function(){return{importType:"server"}};function ut(e,t){if(1&e&&(j.Tb(0,"a",25),j.Ob(1,"i",37),j.Tb(2,"span",27),j.Kc(3,"Server folder"),j.Sb(),j.Tb(4,"span",24),j.Kc(5,"\u276f"),j.Sb(),j.Sb()),2&e){var n=j.fc(2);j.Eb("active","server"==n._viewControls.importType),j.mc("routerLink",j.qc(6,Ze,n.currentProject.id))("queryParams",j.pc(8,lt)),j.Ab(2),j.Eb("active",n.showRightButtonContent||"server"==n._viewControls.importType)}}var bt=function(){return{importType:"local"}},ft=function(e){return["/project",e,"dataFile","list"]},dt=function(e){return["/project",e,"result","list"]},pt=function(e){return["/project",e,"result","creation"]};function ht(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",19),j.Tb(1,"a",20),j.bc("click",(function(){j.Ac(n);var e=j.fc();return e.showRightButtonContent=!e.showRightButtonContent})),j.Ic(2,it,1,0,"i",21),j.Ic(3,rt,1,0,"i",22),j.Tb(4,"span",23),j.Kc(5,"MENU"),j.Sb(),j.Tb(6,"span",24),j.Kc(7,"\u276f"),j.Sb(),j.Sb(),j.Ob(8,"br"),j.Tb(9,"a",25),j.Ob(10,"i",26),j.Tb(11,"span",27),j.Kc(12,"Local files"),j.Sb(),j.Tb(13,"span",24),j.Kc(14,"\u276f"),j.Sb(),j.Sb(),j.Ob(15,"br"),j.Ic(16,at,6,9,"a",28),j.Ob(17,"br"),j.Ic(18,ot,8,9,"ng-container",9),j.Ic(19,ut,6,9,"a",28),j.Ob(20,"br"),j.Tb(21,"a",29),j.Ob(22,"i",30),j.Tb(23,"span",27),j.Kc(24,"Data files"),j.Sb(),j.Tb(25,"span",24),j.Kc(26,"\u276f"),j.Sb(),j.Sb(),j.Ob(27,"br"),j.Tb(28,"a",29),j.Ob(29,"i",31),j.Tb(30,"span",27),j.Kc(31,"Results"),j.Sb(),j.Tb(32,"span",24),j.Kc(33,"\u276f"),j.Sb(),j.Sb(),j.Ob(34,"br"),j.Tb(35,"a",29),j.Ob(36,"i",32),j.Tb(37,"span",27),j.Kc(38,"Execute tasks"),j.Sb(),j.Tb(39,"span",24),j.Kc(40,"\u276f"),j.Sb(),j.Sb(),j.Ob(41,"br"),j.Sb()}if(2&e){var i=j.fc();j.mc("@rightButtonState",i.showRightButtonContent?"active":"inactive"),j.Ab(2),j.mc("ngIf",i.showRightButtonContent),j.Ab(1),j.mc("ngIf",!i.showRightButtonContent),j.Ab(1),j.Eb("active",i.showRightButtonContent),j.Ab(5),j.Eb("active",!i._viewControls.importType||"local"==i._viewControls.importType),j.mc("routerLink",j.qc(23,Ze,i.currentProject.id))("queryParams",j.pc(25,bt)),j.Ab(2),j.Eb("active",i.showRightButtonContent||!i._viewControls.importType||"local"==i._viewControls.importType),j.Ab(5),j.mc("ngIf",i.currentUser&&i.currentUser.auths&&i.currentUser.auths.bdp&&i.currentUser.auths.bdp>=3),j.Ab(2),j.mc("ngIf",i.sysConfig&&i.sysConfig.googlePickerAPIKey),j.Ab(1),j.mc("ngIf",i.currentUser&&i.currentUser.auths&&i.currentUser.auths.bdp&&i.currentUser.auths.bdp>=3),j.Ab(2),j.mc("routerLink",j.qc(26,ft,i.currentProject.id)),j.Ab(2),j.Eb("active",i.showRightButtonContent),j.Ab(5),j.mc("routerLink",j.qc(28,dt,i.currentProject.id)),j.Ab(2),j.Eb("active",i.showRightButtonContent),j.Ab(5),j.mc("routerLink",j.qc(30,pt,i.currentProject.id)),j.Ab(2),j.Eb("active",i.showRightButtonContent)}}var mt,gt=function(){return["/home"]},vt=function(){return["/project/list"]},St=((mt=function(){function e(t,n,i,r,c,a,s){_classCallCheck(this,e),this.router=t,this.route=n,this.projectService=i,this.taskService=r,this.userService=c,this.systemService=a,this.dialogRef=s,this._subs=[],this.preTags=[],this.filteredTags=[],this.tasks=[],this.allowedFormats=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus();var t=this.route.snapshot.params.pid;this._viewControls={isLoading:!0,importType:void 0,moveToDataFileID:"",keepFileName:!1},this.showRightButtonContent=!1,this.route.queryParamMap.subscribe((function(t){return e._viewControls.importType=t.get("importType")?t.get("importType"):"local"})),this._subs.push(this.taskService.taskList$.subscribe((function(t){return Array.isArray(t)?e.tasks=t:""}))),this._subs.push(this.systemService.sysInfo$.subscribe((function(t){return e.sysConfig=t}))),this._subs.push(this.projectService.currentProject$.subscribe((function(t){e.currentProject=t,e.currentProject&&!e.currentProject.privilege.canAddFile&&e.router.navigate(["/project",e.currentProject.id,"info"]),e.currentProject&&Array.isArray(e.currentProject.packages)&&(e.allowedFormats=_toConsumableArray(new Set([].concat.apply([],e.currentProject.packages.map((function(e){return e.allowedFormats}))))).map((function(e){return e.toString()})),e.taskService.loadTasks(e.currentProject.packages.map((function(e){return e.id})))),e._viewControls.isLoading=!1}))),this._subs.push(this.userService.currentUser$.subscribe((function(t){return e.currentUser=t}))),this.projectService.setCurrentProject(t,!0)}},{key:"openDialog",value:function(){this.dialogRef.open(Qe.a,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{allowedFormats:this.allowedFormats,project:this.currentProject,sysConfig:this.sysConfig,tasks:this.tasks,importType:this._viewControls.importType,currentUser:this.currentUser,tags:["test333","test2"]}})}},{key:"switchType",value:function(e){this.currentProject&&this.router.navigate(["/project",this.currentProject.id,"fileImport"],{queryParams:{importType:e}})}},{key:"ngOnDestroy",value:function(){this._subs.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||mt)(j.Nb(M.c),j.Nb(M.a),j.Nb(X.a),j.Nb(J.a),j.Nb(ee.a),j.Nb(Z.a),j.Nb(E.b))},mt.\u0275cmp=j.Hb({type:mt,selectors:[["project-file-importer"]],decls:18,vars:10,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container","p-4"],[1,"chi-header"],["class","container-fluid",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[4,"ngIf"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-12","mx-3"],[1,"mx-3"],[3,"allowedFormats","project","sysConfig","tasks","importType","currentUser","importTypeChanged"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ml-2"],[1,"chi-rbtn-arrow"],[1,"chi-rbtn",3,"routerLink","queryParams"],[1,"far","fa-hdd","fa-fw"],[1,"chi-rbtn-content"],["class","chi-rbtn",3,"active","routerLink","queryParams",4,"ngIf"],[1,"chi-rbtn",3,"routerLink"],[1,"far","fa-file","fa-fw"],[1,"far","fa-folder-open","fa-fw"],[1,"fas","fa-play","fa-fw"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],[1,"fas","fa-folder-plus","fa-fw"],[1,"fab","fa-google-drive","fa-fw"],[1,"fas","fa-server","fa-fw"]],template:function(e,t){1&e&&(j.Tb(0,"ol",0),j.Tb(1,"li",1),j.Tb(2,"a",2),j.Kc(3,"Home"),j.Sb(),j.Sb(),j.Tb(4,"li",1),j.Tb(5,"a",2),j.Kc(6,"Project List"),j.Sb(),j.Sb(),j.Ic(7,Xe,4,4,"li",3),j.Ic(8,Je,2,0,"li",3),j.Ic(9,et,5,6,"li",4),j.Ic(10,tt,2,0,"li",3),j.Sb(),j.Tb(11,"div",5),j.Tb(12,"h3",6),j.Kc(13,"Import Files"),j.Sb(),j.Ob(14,"br"),j.Ob(15,"br"),j.Ic(16,nt,16,8,"div",7),j.Sb(),j.Ic(17,ht,42,32,"div",8)),2&e&&(j.Ab(2),j.mc("routerLink",j.pc(8,gt)),j.Ab(3),j.mc("routerLink",j.pc(9,vt)),j.Ab(2),j.mc("ngIf",t.currentProject),j.Ab(1),j.mc("ngIf",!t.currentProject),j.Ab(1),j.mc("ngIf",t.currentProject),j.Ab(1),j.mc("ngIf",!t.currentProject),j.Ab(6),j.mc("ngIf",t.currentProject),j.Ab(1),j.mc("ngIf",t.currentProject))},directives:[M.f,s.n,Qe.a],styles:["fieldset[_ngcontent-%COMP%]{border:1px solid grey;padding:10px 15px}legend[_ngcontent-%COMP%]{width:auto;margin-bottom:0}.badge[_ngcontent-%COMP%]{margin:2px}"],data:{animation:[Ve.a]}}),mt),Tt=n("wd/R"),yt=n("EnSQ"),kt=n("0MNC"),It=n("QFvA"),wt=n("l8fv");function At(e,t){1&e&&(j.Tb(0,"span",28),j.Kc(1,"Static value"),j.Sb())}function Ct(e,t){1&e&&(j.Tb(0,"span",29),j.Kc(1,"Input value"),j.Sb())}function jt(e,t){1&e&&(j.Tb(0,"span",30),j.Kc(1,"List"),j.Sb())}function Pt(e,t){1&e&&(j.Tb(0,"span",31),j.Kc(1,"Input file"),j.Sb())}function xt(e,t){1&e&&(j.Tb(0,"span",32),j.Kc(1,"Output file"),j.Sb())}function Ot(e,t){if(1&e&&(j.Rb(0),j.Tb(1,"span"),j.Kc(2),j.Sb(),j.Qb()),2&e){var n=j.fc().$implicit;j.Ab(2),j.Lc(n.default)}}function Kt(e,t){if(1&e&&(j.Rb(0),j.Tb(1,"span"),j.Kc(2),j.Sb(),j.Qb()),2&e){var n=j.fc().index,i=j.fc();j.Ab(2),j.Lc(i.selectedInputs[n])}}function _t(e,t){if(1&e&&(j.Tb(0,"span"),j.Kc(1),j.Sb()),2&e){var n=j.fc(4).$implicit;j.Ab(1),j.Lc(n.listSplitter)}}function Lt(e,t){if(1&e&&(j.Tb(0,"span"),j.Kc(1),j.Ic(2,_t,2,1,"span",27),j.Sb()),2&e){var n=t.$implicit,i=t.index,r=j.fc(3).index,c=j.fc();j.Ab(1),j.Mc(" ",n," "),j.Ab(1),j.mc("ngIf",i<c.selectedInputs[r].length-1)}}function Mt(e,t){if(1&e&&(j.Rb(0),j.Ic(1,Lt,3,2,"span",33),j.Qb()),2&e){var n=j.fc(2).index,i=j.fc();j.Ab(1),j.mc("ngForOf",i.selectedInputs[n])}}function Et(e,t){if(1&e&&(j.Rb(0),j.Tb(1,"span"),j.Kc(2),j.Sb(),j.Qb()),2&e){var n=j.fc(2).index,i=j.fc();j.Ab(2),j.Lc(i.selectedInputs[n])}}function Ft(e,t){if(1&e&&(j.Rb(0),j.Ic(1,Mt,2,1,"ng-container",27),j.Ic(2,Et,3,1,"ng-container",27),j.Qb()),2&e){var n=j.fc().$implicit;j.Ab(1),j.mc("ngIf",n.multiple),j.Ab(1),j.mc("ngIf",!n.multiple)}}var Rt=function(e){return["/dataFile",e,"info"]};function Ut(e,t){if(1&e&&(j.Rb(0),j.Tb(1,"u",34),j.Kc(2),j.Sb(),j.Tb(3,"span"),j.Kc(4),j.Sb(),j.Tb(5,"u",34),j.Kc(6),j.Sb(),j.Tb(7,"a",35),j.Ob(8,"span",36),j.Sb(),j.Qb()),2&e){var n=j.fc().$implicit,i=j.fc(3);j.Ab(2),j.Lc(i.validFiles[n.key].prefix),j.Ab(2),j.Lc(i.validFiles[n.key].name),j.Ab(2),j.Lc(i.validFiles[n.key].suffix),j.Ab(1),j.mc("routerLink",j.qc(4,Rt,n.key))}}function Nt(e,t){if(1&e&&(j.Rb(0),j.Ic(1,Ut,9,6,"ng-container",27),j.Qb()),2&e){var n=t.$implicit;j.Ab(1),j.mc("ngIf",n.value)}}function Dt(e,t){if(1&e&&(j.Rb(0),j.Ic(1,Nt,2,1,"ng-container",33),j.gc(2,"keyvalue"),j.Qb()),2&e){var n=j.fc().index,i=j.fc();j.Ab(1),j.mc("ngForOf",j.hc(2,1,i.selectedInputs[n]))}}function zt(e,t){if(1&e&&(j.Rb(0),j.Tb(1,"u",34),j.Kc(2),j.Sb(),j.Tb(3,"span"),j.Kc(4),j.Sb(),j.Tb(5,"u",34),j.Kc(6),j.Sb(),j.Qb()),2&e){var n=j.fc().index,i=j.fc();j.Ab(2),j.Lc(i.resultInfo.prefix),j.Ab(2),j.Lc(i.resultInfo.outputs[n].name),j.Ab(2),j.Lc(i.resultInfo.suffix)}}function qt(e,t){if(1&e&&(j.Tb(0,"tr",20),j.Tb(1,"td"),j.Kc(2),j.Sb(),j.Tb(3,"td"),j.Kc(4),j.Sb(),j.Tb(5,"td"),j.Rb(6,21),j.Ic(7,At,2,0,"span",22),j.Ic(8,Ct,2,0,"span",23),j.Ic(9,jt,2,0,"span",24),j.Ic(10,Pt,2,0,"span",25),j.Ic(11,xt,2,0,"span",26),j.Qb(),j.Sb(),j.Tb(12,"td"),j.Ic(13,Ot,3,1,"ng-container",27),j.Ic(14,Kt,3,1,"ng-container",27),j.Ic(15,Ft,3,2,"ng-container",27),j.Ic(16,Dt,3,3,"ng-container",27),j.Ic(17,zt,7,3,"ng-container",27),j.Sb(),j.Sb()),2&e){var n=t.$implicit,i=t.index,r=j.fc();j.mc("ngClass",r.getRowStyleByArgType(n.type)),j.Ab(2),j.Lc(i+1),j.Ab(2),j.Lc(n.name),j.Ab(2),j.mc("ngSwitch",n.type),j.Ab(1),j.mc("ngSwitchCase","static"),j.Ab(1),j.mc("ngSwitchCase","value"),j.Ab(1),j.mc("ngSwitchCase","list"),j.Ab(1),j.mc("ngSwitchCase","inFile"),j.Ab(1),j.mc("ngSwitchCase","outFile"),j.Ab(2),j.mc("ngIf","static"===n.type),j.Ab(1),j.mc("ngIf","value"===n.type),j.Ab(1),j.mc("ngIf","list"===n.type),j.Ab(1),j.mc("ngIf","inFile"===n.type),j.Ab(1),j.mc("ngIf","outFile"===n.type)}}var Bt,Wt=((Bt=function(){function e(){_classCallCheck(this,e),this.validFiles={}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){var t=this;for(var n in e)"currentTask"===n?this.currentTask=e[n].currentValue:"currentProject"===n?this.currentProject=e[n].currentValue:"resultInfo"===n?this.resultInfo=e[n].currentValue:"selectedInputs"===n?this.selectedInputs=e[n].currentValue||[]:"validInputs"===n&&(this.validInputs=e[n].currentValue||[]);for(var i=0;i<this.validInputs.length;i++)if(Array.isArray(this.validInputs[i]))for(var r=0;r<this.validInputs[i].length;r++){var c=this.validInputs[i][r];this.validFiles[c.id]=c}this.currentTask&&this.currentProject&&(this.currentPackage=this.currentProject.packages.filter((function(e){return e.id===t.currentTask.package}))[0])}},{key:"getRowStyleByArgType",value:function(e){return{"table-secondary":"value"===e,"table-white":"static"===e,"table-primary":"inFile"===e,"table-info":"list"===e,"table-success":"outFile"===e,"table-danger":!1}}}]),e}()).\u0275fac=function(e){return new(e||Bt)},Bt.\u0275cmp=j.Hb({type:Bt,selectors:[["bdp-result-describer"]],inputs:{currentTask:"currentTask",currentProject:"currentProject",resultInfo:"resultInfo",selectedInputs:"selectedInputs",validInputs:"validInputs"},features:[j.yb],decls:49,vars:9,consts:[[1,"container",2,"border","thin solid gray"],[1,"row","p-2"],[1,"row"],[1,"col-md-6"],[2,"width","100%"],["matInput","","placeholder","Project Name","disabled","",3,"value"],["matInput","","placeholder","Package Name","disabled","",3,"value"],["matInput","","placeholder","Task Name","disabled","",3,"value"],["matInput","","placeholder","Task Description","disabled","",3,"value"],[1,"col-md-3"],["matInput","","placeholder","Result Prefix","readonly","",3,"value"],["matInput","","placeholder","Result Name","readonly","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Result Suffix","readonly","",3,"value"],[1,"col-12"],["matInput","","placeholder","Result Description","readonly","",3,"value"],[1,"col-md-12"],[1,"table","table-responsive-md","table-hover","table-bordered","table-sm"],[1,"thead-dark"],[2,"width","40px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngSwitch"],["class","badge badge-dark",4,"ngSwitchCase"],["class","badge badge-secondary",4,"ngSwitchCase"],["class","badge badge-info",4,"ngSwitchCase"],["class","badge badge-primary",4,"ngSwitchCase"],["class","badge badge-success",4,"ngSwitchCase"],[4,"ngIf"],[1,"badge","badge-dark"],[1,"badge","badge-secondary"],[1,"badge","badge-info"],[1,"badge","badge-primary"],[1,"badge","badge-success"],[4,"ngFor","ngForOf"],[1,"text-muted"],["target","_blank",1,"ml-3",3,"routerLink"],[1,"fas","fa-external-link-alt"]],template:function(e,t){1&e&&(j.Tb(0,"div",0),j.Tb(1,"div",1),j.Tb(2,"h2"),j.Kc(3,"Result preview"),j.Sb(),j.Sb(),j.Tb(4,"div",2),j.Tb(5,"div",3),j.Tb(6,"mat-form-field",4),j.Ob(7,"input",5),j.Sb(),j.Sb(),j.Tb(8,"div",3),j.Tb(9,"mat-form-field",4),j.Ob(10,"input",6),j.Sb(),j.Sb(),j.Sb(),j.Tb(11,"div",2),j.Tb(12,"div",3),j.Tb(13,"mat-form-field",4),j.Ob(14,"input",7),j.Sb(),j.Sb(),j.Tb(15,"div",3),j.Tb(16,"mat-form-field",4),j.Ob(17,"textarea",8),j.Sb(),j.Sb(),j.Sb(),j.Tb(18,"div",2),j.Tb(19,"div",9),j.Tb(20,"mat-form-field",4),j.Ob(21,"input",10),j.Sb(),j.Sb(),j.Tb(22,"div",3),j.Tb(23,"mat-form-field",4),j.Tb(24,"input",11),j.bc("ngModelChange",(function(e){return t.resultInfo.name=e})),j.Sb(),j.Sb(),j.Sb(),j.Tb(25,"div",9),j.Tb(26,"mat-form-field",4),j.Ob(27,"input",12),j.Sb(),j.Sb(),j.Sb(),j.Tb(28,"div",2),j.Tb(29,"div",13),j.Tb(30,"mat-form-field",4),j.Ob(31,"textarea",14),j.Sb(),j.Sb(),j.Sb(),j.Tb(32,"div",2),j.Tb(33,"div",15),j.Tb(34,"b"),j.Kc(35,"Input Arguments"),j.Sb(),j.Sb(),j.Tb(36,"div",15),j.Tb(37,"table",16),j.Tb(38,"thead",17),j.Tb(39,"th",18),j.Kc(40,"#"),j.Sb(),j.Tb(41,"th"),j.Kc(42,"Name"),j.Sb(),j.Tb(43,"th"),j.Kc(44,"Type"),j.Sb(),j.Tb(45,"th"),j.Kc(46,"Selected Value"),j.Sb(),j.Sb(),j.Tb(47,"tbody"),j.Ic(48,qt,18,14,"tr",19),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Sb()),2&e&&(j.Ab(7),j.mc("value",t.currentProject.name),j.Ab(3),j.mc("value",null==t.currentPackage?null:t.currentPackage.name),j.Ab(4),j.mc("value",t.currentTask.name),j.Ab(3),j.mc("value",t.currentTask.desc||"(no description)"),j.Ab(4),j.mc("value",t.resultInfo.prefix||"(N/A)"),j.Ab(3),j.mc("ngModel",t.resultInfo.name),j.Ab(3),j.mc("value",t.resultInfo.suffix||"(N/A)"),j.Ab(4),j.mc("value",t.resultInfo.desc||"(no description)"),j.Ab(17),j.mc("ngForOf",t.currentTask.arguments))},directives:[F.b,g.a,o.b,o.i,o.l,s.m,s.l,s.p,s.q,s.n,M.f],pipes:[s.h],encapsulation:2}),Bt);function $t(e,t){if(1&e&&(j.Tb(0,"span"),j.Kc(1),j.Sb()),2&e){var n=j.fc(2);j.Ab(1),j.Mc(": ",n.currentProject.name,"")}}var Ht=function(e){return["/project",e,"info"]};function Vt(e,t){if(1&e&&(j.Tb(0,"li",1),j.Tb(1,"a",2),j.Kc(2,"Project "),j.Ic(3,$t,2,1,"span",17),j.Sb(),j.Sb()),2&e){var n=j.fc();j.Ab(1),j.mc("routerLink",j.qc(2,Ht,n.currentProject.id)),j.Ab(2),j.mc("ngIf",n.currentProject)}}function Qt(e,t){1&e&&(j.Tb(0,"li",1),j.Kc(1,"Project"),j.Sb())}var Yt=function(e){return["/project",e,"result","creation"]};function Gt(e,t){if(1&e&&(j.Tb(0,"li",40),j.Tb(1,"a",2),j.Kc(2,"Execute Tasks"),j.Sb(),j.Tb(3,"a",41),j.Ob(4,"i",42),j.Sb(),j.Sb()),2&e){var n=j.fc();j.Ab(1),j.mc("routerLink",j.qc(2,Yt,n.currentProject.id)),j.Ab(2),j.mc("routerLink",j.qc(4,Yt,n.currentProject.id))}}function Xt(e,t){1&e&&(j.Tb(0,"li",40),j.Kc(1,"Execute Tasks"),j.Sb())}function Jt(e,t){if(1&e&&(j.Tb(0,"mat-icon",43),j.Kc(1,"looks_one"),j.Sb(),j.Tb(2,"div"),j.Kc(3,"Choose a task"),j.Sb()),2&e){var n=j.fc();j.Eb("text-primary",0==n.currentStep),j.Ab(2),j.Eb("text-primary",0==n.currentStep)}}function Zt(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",14),j.Tb(1,"div",15),j.Tb(2,"mat-button-toggle-group",44),j.bc("ngModelChange",(function(e){return j.Ac(n),j.fc().changeTaskViewFilter(e)})),j.Tb(3,"mat-button-toggle",45),j.Kc(4,"All"),j.Sb(),j.Tb(5,"mat-button-toggle",46),j.Ob(6,"i",47),j.Sb(),j.Tb(7,"mat-button-toggle",48),j.Ob(8,"i",49),j.Sb(),j.Tb(9,"mat-button-toggle",50),j.Ob(10,"i",51),j.Sb(),j.Tb(11,"mat-button-toggle",52),j.bc("click",(function(){return j.Ac(n),j.fc().onTaskReloadBtnClick()})),j.Ob(12,"i",53),j.Sb(),j.Sb(),j.Sb(),j.Sb()}if(2&e){var i=j.fc();j.Ab(2),j.mc("ngModel",i.taskViewType)}}function en(e,t){if(1&e&&(j.Tb(0,"h3",59),j.Ob(1,"i",60),j.Kc(2),j.Sb()),2&e){var n=j.fc().$implicit,i=j.fc();j.Ab(2),j.Mc(" ",i.taskKey2name[n],"")}}function tn(e,t){if(1&e&&j.Ob(0,"img",74),2&e){var n=j.fc(2).$implicit;j.mc("src",n.thumbnail,j.Dc)}}function nn(e,t){1&e&&j.Ob(0,"i",75)}function rn(e,t){1&e&&j.Ob(0,"i",76)}function cn(e,t){1&e&&j.Ob(0,"i",77)}function an(e,t){1&e&&j.Ob(0,"i",78)}function sn(e,t){if(1&e&&(j.Tb(0,"div",79),j.Ob(1,"img",80),j.Sb()),2&e){var n=j.fc(2).$implicit;j.Ab(1),j.mc("src",n.img,j.Dc)}}function on(e,t){if(1&e&&j.Ob(0,"div",81),2&e){var n=j.fc(2).$implicit;j.mc("innerHTML",n.desc?n.desc:"(no description)",j.Bc)}}function ln(e,t){1&e&&(j.Tb(0,"strong"),j.Kc(1,"This task will generate the following output data."),j.Sb())}function un(e,t){1&e&&(j.Tb(0,"strong"),j.Kc(1,"This task does NOT generate output data files."),j.Sb())}function bn(e,t){if(1&e&&(j.Tb(0,"li",86),j.Tb(1,"b"),j.Kc(2),j.Sb(),j.Kc(3),j.Sb()),2&e){var n=j.fc().$implicit;j.Ab(2),j.Lc(null==n?null:n.name),j.Ab(1),j.Mc(": ",null==n?null:n.desc," ")}}function fn(e,t){if(1&e&&j.Ic(0,bn,4,2,"li",85),2&e){var n=t.$implicit;j.mc("ngIf","outFile"==(null==n?null:n.type))}}function dn(e,t){if(1&e&&(j.Tb(0,"mat-list-item",89),j.Tb(1,"b"),j.Kc(2),j.Sb(),j.Sb()),2&e){var n=t.$implicit;j.Ab(2),j.Mc("*",n,"")}}function pn(e,t){if(1&e&&(j.Tb(0,"mat-list",87),j.Ic(1,dn,3,1,"mat-list-item",88),j.Sb()),2&e){var n=j.fc(5);j.Ab(1),j.mc("ngForOf",n.viewControls.workflowWarnings)}}function hn(e,t){if(1&e&&(j.Tb(0,"mat-list-item",91),j.Tb(1,"b"),j.Kc(2),j.Sb(),j.Sb()),2&e){var n=t.$implicit;j.Ab(2),j.Mc("*",n,"")}}function mn(e,t){if(1&e&&(j.Tb(0,"mat-list",87),j.Ic(1,hn,3,1,"mat-list-item",90),j.Sb()),2&e){var n=j.fc(5);j.Ab(1),j.mc("ngForOf",n.viewControls.workflowErrors)}}function gn(e,t){if(1&e&&j.Ob(0,"bdp-workflow-planner",92),2&e){var n=j.fc(5);j.mc("taskMapper",n.selectedTask.mapper)("additionalTasks",n.loadedTasks)("childTasks",n.allTasksInPkg)("taskArgs",n.selectedTask.arguments)}}function vn(e,t){if(1&e&&(j.Tb(0,"div"),j.Tb(1,"fieldset"),j.Tb(2,"legend"),j.Tb(3,"b"),j.Kc(4,"Full description"),j.Sb(),j.Sb(),j.Ob(5,"div",82),j.Ob(6,"hr"),j.Ic(7,ln,2,0,"strong",17),j.Ic(8,un,2,0,"strong",17),j.Tb(9,"ol"),j.Ic(10,fn,1,1,"ng-template",34),j.Sb(),j.Sb(),j.Ic(11,pn,2,1,"mat-list",83),j.Ic(12,mn,2,1,"mat-list",83),j.Ic(13,gn,1,4,"bdp-workflow-planner",84),j.Sb()),2&e){var n=j.fc(4);j.Ab(5),j.mc("innerHTML",n.selectedTask.desc?n.selectedTask.desc:"(no description)",j.Bc),j.Ab(2),j.mc("ngIf",n.outputNumber>0),j.Ab(1),j.mc("ngIf",0===n.outputNumber),j.Ab(2),j.mc("ngForOf",null==n.selectedTask?null:n.selectedTask.arguments),j.Ab(1),j.mc("ngIf",n.viewControls.workflowWarnings.length>0),j.Ab(1),j.mc("ngIf",n.viewControls.workflowErrors.length>0),j.Ab(1),j.mc("ngIf",n.selectedTask&&"workflow"===n.selectedTask.type&&n.showWorkflow)}}function Sn(e,t){if(1&e){var n=j.Ub();j.Tb(0,"button",93),j.bc("click",(function(e){return j.Ac(n),j.fc(4).onTaskBlur(e)})),j.Kc(1,"Cancel"),j.Sb()}}function Tn(e,t){if(1&e){var n=j.Ub();j.Tb(0,"button",94),j.bc("click",(function(){j.Ac(n);var e=j.fc(4);return e.showWorkflow=!e.showWorkflow,e.masonryRelayout()})),j.Ob(1,"i",95),j.Kc(2," Show workflow graph"),j.Sb()}}function yn(e,t){if(1&e){var n=j.Ub();j.Tb(0,"button",94),j.bc("click",(function(){j.Ac(n);var e=j.fc(4);return e.showWorkflow=!e.showWorkflow,e.masonryRelayout()})),j.Ob(1,"i",95),j.Kc(2," Close workflow graph"),j.Sb()}}function kn(e,t){if(1&e){var n=j.Ub();j.Tb(0,"button",96),j.bc("click",(function(){return j.Ac(n),j.fc(4).currentStep=1})),j.Kc(1,"Next"),j.Sb()}if(2&e){var i=j.fc(4);j.mc("disabled",i.viewControls.workflowErrors.length>0)}}var In=function(e){return{"task-card":e}};function wn(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",62),j.Tb(1,"mat-card",63),j.bc("click",(function(){j.Ac(n);var e=j.fc().$implicit;return j.fc(2).onSelectTask(e)})),j.Tb(2,"mat-card-header"),j.Ic(3,tn,1,1,"img",64),j.Tb(4,"mat-card-title"),j.Ic(5,nn,1,0,"i",65),j.Ic(6,rn,1,0,"i",66),j.Ic(7,cn,1,0,"i",67),j.Ic(8,an,1,0,"i",68),j.Tb(9,"b"),j.Kc(10),j.Sb(),j.Sb(),j.Tb(11,"mat-card-subtitle"),j.Ob(12,"i",69),j.Kc(13),j.Sb(),j.Sb(),j.Tb(14,"mat-card-content"),j.Ic(15,sn,2,1,"div",70),j.Ic(16,on,1,1,"div",71),j.Ic(17,vn,14,7,"div",17),j.Sb(),j.Tb(18,"mat-card-actions"),j.Ic(19,Sn,2,0,"button",72),j.Ic(20,Tn,3,0,"button",35),j.Ic(21,yn,3,0,"button",35),j.Ic(22,kn,2,1,"button",73),j.Sb(),j.Sb(),j.Sb()}if(2&e){var i=j.fc().$implicit,r=j.fc(2);j.Hc("width",r.selectedTask&&r.selectedTask===i?"100%":r.masonryItemWidth),j.Ab(1),j.Cb(j.qc(20,In,!(r.selectedTask&&r.selectedTask===i))),j.Hc("cursor",r.selectedTask?"auto":"pointer"),j.Ab(2),j.mc("ngIf",i.thumbnail),j.Ab(2),j.mc("ngIf","workflow"==i.type),j.Ab(1),j.mc("ngIf","standard"==i.type),j.Ab(1),j.mc("ngIf","child"==i.type),j.Ab(1),j.mc("ngIf","system"==i.type),j.Ab(2),j.Lc(i.name),j.Ab(3),j.Mc("",null==i||null==i.package?null:i.package.fullname," "),j.Ab(2),j.mc("ngIf",i.img),j.Ab(1),j.mc("ngIf",!r.selectedTask),j.Ab(1),j.mc("ngIf",r.selectedTask),j.Ab(2),j.mc("ngIf",r.selectedTask),j.Ab(1),j.mc("ngIf",r.selectedTask&&"workflow"===r.selectedTask.type&&!r.showWorkflow),j.Ab(1),j.mc("ngIf",r.selectedTask&&"workflow"===r.selectedTask.type&&r.showWorkflow),j.Ab(1),j.mc("ngIf",r.selectedTask)}}function An(e,t){if(1&e&&(j.Rb(0),j.Ic(1,wn,23,22,"div",61),j.Qb()),2&e){var n=t.$implicit,i=j.fc(2);j.Ab(1),j.mc("ngIf",n&&"child"!==n.type&&(!i.selectedTask||i.selectedTask&&i.selectedTask===n))}}function Cn(e,t){1&e&&j.Ob(0,"mat-divider",97)}function jn(e,t){if(1&e&&(j.Tb(0,"div",54),j.Ic(1,en,3,1,"h3",55),j.Tb(2,"ngx-masonry",56),j.Ic(3,An,2,1,"ng-container",57),j.Sb(),j.Ic(4,Cn,1,0,"mat-divider",58),j.Sb()),2&e){var n=t.$implicit,i=j.fc();j.Ab(1),j.mc("ngIf",!i.selectedTask||i.selectedTask.package.sheetID+i.selectedTask.package.fullname===n),j.Ab(1),j.mc("options",i.masonryOptions)("ordered",!0),j.Ab(1),j.mc("ngForOf",i.taskListView[n]),j.Ab(1),j.mc("ngIf",!i.selectedTask||i.selectedTask.package.sheetID+i.selectedTask.package.fullname===n)}}function Pn(e,t){if(1&e&&(j.Tb(0,"mat-icon",43),j.Kc(1,"looks_two"),j.Sb(),j.Tb(2,"span"),j.Kc(3," Set parameters "),j.Sb()),2&e){var n=j.fc();j.Eb("text-primary",1==n.currentStep),j.Ab(2),j.Eb("text-primary",1==n.currentStep)}}function xn(e,t){if(1&e&&(j.Tb(0,"div",14),j.Tb(1,"div",15),j.Ob(2,"br"),j.Kc(3),j.Ob(4,"br"),j.Kc(5," Task description: "),j.Ob(6,"br"),j.Ob(7,"div",82),j.Ob(8,"br"),j.Sb(),j.Sb()),2&e){var n=j.fc();j.Ab(3),j.Mc(" You are going to run the task: ",n.selectedTask.name,". "),j.Ab(4),j.mc("innerHTML",n.selectedTask.desc,j.Bc)}}function On(e,t){1&e&&(j.Tb(0,"div"),j.Kc(1,"Loading ..."),j.Sb())}function Kn(e,t){1&e&&(j.Tb(0,"span"),j.Kc(1,"No parameters needed."),j.Sb())}function _n(e,t){1&e&&(j.Tb(0,"span"),j.Kc(1,"[Optional]"),j.Sb())}function Ln(e,t){if(1&e&&(j.Tb(0,"small"),j.Kc(1),j.Sb()),2&e){var n=j.fc(2).$implicit;j.Ab(1),j.Lc(n.desc)}}function Mn(e,t){1&e&&(j.Tb(0,"small",104),j.Kc(1,"(no description)"),j.Sb())}function En(e,t){if(1&e&&(j.Tb(0,"div",102),j.Tb(1,"h3"),j.Tb(2,"strong"),j.Ic(3,_n,2,0,"span",17),j.Kc(4),j.Sb(),j.Kc(5,": "),j.Ic(6,Ln,2,1,"small",17),j.Ic(7,Mn,2,0,"small",103),j.Sb(),j.Sb()),2&e){var n=j.fc().$implicit;j.Ab(3),j.mc("ngIf",n.optional),j.Ab(1),j.Mc(" ",null==n?null:n.name,""),j.Ab(2),j.mc("ngIf",n.desc),j.Ab(1),j.mc("ngIf",!n.desc)}}function Fn(e,t){if(1&e&&(j.Tb(0,"mat-hint",106),j.Kc(1),j.Sb()),2&e){var n=j.fc(2).index,i=j.fc(2);j.Ab(1),j.Mc("*",i.viewControls.errorInputs[n],"")}}function Rn(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",102),j.Tb(1,"mat-form-field",27),j.Tb(2,"input",105),j.bc("ngModelChange",(function(e){j.Ac(n);var t=j.fc().index;return j.fc(2)._selectedInputs[t]=e})),j.Sb(),j.Ic(3,Fn,2,1,"mat-hint",31),j.Sb(),j.Sb()}if(2&e){var i=j.fc(),r=i.$implicit,c=i.index,a=j.fc(2);j.Ab(2),j.mc("disabled",a.paramChecked)("placeholder",r.name)("ngModel",a._selectedInputs[c]),j.Ab(1),j.mc("ngIf",a.viewControls.errorInputs[c])}}function Un(e,t){1&e&&(j.Tb(0,"span"),j.Kc(1," must equal to "),j.Sb())}function Nn(e,t){if(1&e&&(j.Rb(0),j.Kc(1),j.Qb()),2&e){var n=j.fc(3).$implicit;j.Ab(1),j.Mc("[",n.tagMatchRule,"]")}}function Dn(e,t){if(1&e&&(j.Rb(0),j.Ic(1,Nn,2,1,"ng-container",17),j.Tb(2,"span",110),j.Kc(3),j.Sb(),j.Qb()),2&e){var n=t.$implicit,i=t.index,r=j.fc(2).$implicit;j.Ab(1),j.mc("ngIf",i>0&&"all"!==r.tagMatchRule),j.Ab(2),j.Mc(" ",n," ")}}function zn(e,t){if(1&e&&(j.Tb(0,"span",106),j.Kc(1),j.Sb()),2&e){var n=j.fc(2).index,i=j.fc(2);j.Ab(1),j.Mc("*",i.viewControls.errorInputs[n],"")}}function qn(e,t){1&e&&(j.Tb(0,"h4",106),j.Kc(1,"No valid inputs. "),j.Ob(2,"br"),j.Sb())}function Bn(e,t){if(1&e){var n=j.Ub();j.Tb(0,"datafile-card",112),j.bc("onFocused",(function(e){j.Ac(n);var t=j.fc(2).index,i=j.fc(2).index;return j.fc(2).onFocusedDataFile(e,i,t)})),j.Sb()}if(2&e){var i=j.fc(2).$implicit,r=j.fc(2).index,c=j.fc(2);j.mc("role","checkBox")("checked",c._selectedInputs[r][i.id])("disabled",c.paramChecked)("dataFile",i)}}function Wn(e,t){if(1&e&&(j.Rb(0),j.Ic(1,Bn,1,4,"datafile-card",111),j.Qb()),2&e){var n=j.fc().$implicit,i=j.fc(2).index,r=j.fc(2);j.Ab(1),j.mc("ngIf",!r._selectedDataFiles[i]||r._selectedInputs[i][n.id])}}function $n(e,t){if(1&e&&(j.Rb(0),j.Ic(1,Wn,2,1,"ng-container",17),j.Qb()),2&e){var n=t.$implicit,i=j.fc(4);j.Ab(1),j.mc("ngIf",!n.hidden||i.showIntermediateFile)}}function Hn(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",102),j.Tb(1,"button",107),j.bc("click",(function(){j.Ac(n);var e=j.fc().$implicit;return j.fc(2).uploadFileForArg(e)})),j.Ob(2,"i",108),j.Sb(),j.Tb(3,"span"),j.Tb(4,"b"),j.Kc(5,"*required tag(s)"),j.Sb(),j.Kc(6,": "),j.Ic(7,Un,2,0,"span",17),j.Ic(8,Dn,4,2,"ng-container",57),j.Sb(),j.Ic(9,zn,2,1,"span",31),j.Sb(),j.Tb(10,"div",102),j.Ic(11,qn,3,0,"h4",31),j.Tb(12,"div",14),j.Ic(13,$n,2,1,"ng-container",109),j.Sb(),j.Sb()}if(2&e){var i=j.fc(),r=i.$implicit,c=i.index,a=j.fc(2);j.Ab(7),j.mc("ngIf","all"===r.tagMatchRule),j.Ab(1),j.mc("ngForOf",r.tags),j.Ab(1),j.mc("ngIf",a.viewControls.errorInputs[c]),j.Ab(2),j.mc("ngIf",a.validInputs[c]&&0==a.validInputs[c].length),j.Ab(2),j.mc("ngForOf",a.validInputs[c])("ngForTrackBy",a.trackByDataFile)}}function Vn(e,t){if(1&e&&(j.Tb(0,"mat-option",115),j.Kc(1),j.Sb()),2&e){var n=t.$implicit;j.mc("value",n),j.Ab(1),j.Lc(n)}}function Qn(e,t){if(1&e&&(j.Tb(0,"span",106),j.Kc(1),j.Sb()),2&e){var n=j.fc(3).index,i=j.fc(2);j.Ab(1),j.Mc("*",i.viewControls.errorInputs[n],"")}}function Yn(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div"),j.Tb(1,"div",102),j.Tb(2,"mat-form-field",27),j.Tb(3,"mat-select",113),j.bc("ngModelChange",(function(e){j.Ac(n);var t=j.fc(2).index;return j.fc(2)._selectedInputs[t]=e})),j.Ic(4,Vn,2,2,"mat-option",114),j.Sb(),j.Sb(),j.Ic(5,Qn,2,1,"span",31),j.Sb(),j.Sb()}if(2&e){var i=j.fc(2),r=i.index,c=i.$implicit,a=j.fc(2);j.Ab(3),j.mc("ngModel",a._selectedInputs[r])("multiple",c.multiple)("disabled",a.paramChecked)("placeholder",c.name),j.Ab(1),j.mc("ngForOf",c.list),j.Ab(1),j.mc("ngIf",a.viewControls.errorInputs[r])}}function Gn(e,t){if(1&e&&(j.Tb(0,"span",106),j.Kc(1),j.Sb()),2&e){var n=j.fc(4).index,i=j.fc(2);j.Ab(1),j.Mc("*",i.viewControls.errorInputs[n],"")}}function Xn(e,t){if(1&e&&(j.Tb(0,"span",106),j.Kc(1),j.Sb()),2&e){var n=j.fc(5).index,i=j.fc(2);j.Ab(1),j.Mc("*",i.viewControls.errorInputs[n],"")}}function Jn(e,t){if(1&e&&(j.Rb(0),j.Tb(1,"div",121),j.Ob(2,"input",122),j.Ic(3,Xn,2,1,"span",31),j.Sb(),j.Ob(4,"div",123),j.Qb()),2&e){var n=j.fc(4).index,i=j.fc(2);j.Ab(2),j.mc("disabled",i.paramChecked)("value",i._selectedInputs[n]?(null==i._selectedInputs[n]?null:i._selectedInputs[n].length)>5?i._selectedInputs[n].slice(0,5)+"... and "+((null==i._selectedInputs[n]?null:i._selectedInputs[n].length)-5)+" items":i._selectedInputs[n]:""),j.Ab(1),j.mc("ngIf",i.viewControls.errorInputs[n]),j.Ab(1),j.mc("hidden",i._selectedInputs[n])}}function Zn(e,t){if(1&e&&(j.Tb(0,"mat-option",115),j.Kc(1),j.Sb()),2&e){var n=t.$implicit;j.mc("value",n),j.Ab(1),j.Lc(n)}}function ei(e,t){if(1&e){var n=j.Ub();j.Tb(0,"mat-select",125),j.bc("ngModelChange",(function(e){j.Ac(n);var t=j.fc(5).index;return j.fc(2)._selectedInputs[t]=e}))("ngModelChange",(function(e){j.Ac(n);var t=j.fc(5).index,i=j.fc(2);return i._selectedInputs[t]=e,i.viewControls.errorInputs[t]=void 0})),j.Ic(1,Zn,2,2,"mat-option",114),j.gc(2,"slice"),j.Sb()}if(2&e){var i=j.fc(5),r=i.$implicit,c=i.index,a=j.fc(2);j.mc("multiple",r.multiple)("ngModel",a._selectedInputs[c])("disabled",a.paramChecked),j.Ab(1),j.mc("ngForOf",j.ic(2,4,a._loadedDataFile[a._valueOfListData[c]][0],1))}}function ti(e,t){if(1&e&&(j.Tb(0,"div"),j.Ic(1,ei,3,7,"mat-select",124),j.Ob(2,"br"),j.Ob(3,"br"),j.Sb()),2&e){var n=j.fc(4).index,i=j.fc(2);j.Ab(1),j.mc("ngIf",i._loadedDataFile[i._valueOfListData[n]])}}function ni(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",117),j.Tb(1,"button",118),j.bc("click",(function(e){j.Ac(n);var t=j.fc(3).index;return j.fc(2).onGetList(e,t)})),j.Kc(2," Loading list "),j.Ob(3,"i",119),j.Ob(4,"i",120),j.Sb(),j.Ic(5,Gn,2,1,"span",31),j.Ic(6,Jn,5,4,"ng-container",17),j.Ic(7,ti,4,1,"div",17),j.Sb()}if(2&e){var i=j.fc(3),r=i.index,c=i.$implicit,a=j.fc(2);j.Ab(1),j.Eb("text-muted",a.paramChecked),j.Ab(4),j.mc("ngIf",a.viewControls.errorInputs[r]),j.Ab(1),j.mc("ngIf",a._valueOfListData[r]&&(null==c?null:c.preview)),j.Ab(1),j.mc("ngIf",a._valueOfListData[r]&&!(null!=c&&c.preview))}}function ii(e,t){if(1&e&&(j.Rb(0),j.Ic(1,ni,8,5,"div",116),j.Qb()),2&e){var n=j.fc(2).$implicit;j.Ab(1),j.mc("ngIf","argv"==n.dependOn.split(".")[0])}}function ri(e,t){if(1&e&&(j.Ic(0,Yn,6,6,"div",17),j.Ic(1,ii,2,1,"ng-container",17)),2&e){var n=j.fc().$implicit;j.mc("ngIf",n.list.length>0),j.Ab(1),j.mc("ngIf",0==(null==n?null:n.list.length))}}function ci(e,t){if(1&e&&(j.Rb(0),j.Tb(1,"div",99),j.Ic(2,En,8,4,"div",100),j.Ic(3,Rn,4,4,"ng-template",101),j.Ic(4,Hn,14,6,"ng-template",101),j.Ic(5,ri,2,2,"ng-template",101),j.Sb(),j.Qb()),2&e){var n=t.$implicit,i=t.index,r=j.fc(2);j.Ab(1),j.Eb("hasError",r.viewControls.errorInputs[i]&&"outFile"!==(null==n?null:n.type)),j.mc("ngSwitch",null==n?null:n.type),j.Ab(1),j.mc("ngIf","outFile"!==n.type&&"static"!==n.type),j.Ab(1),j.mc("ngSwitchCase","value"),j.Ab(1),j.mc("ngSwitchCase","inFile"),j.Ab(1),j.mc("ngSwitchCase","list")}}function ai(e,t){if(1&e){var n=j.Ub();j.Tb(0,"button",94),j.bc("click",(function(){return j.Ac(n),j.fc(2).checkParams()})),j.Kc(1,"Check my parameters "),j.Sb()}}function si(e,t){if(1&e){var n=j.Ub();j.Tb(0,"button",126),j.bc("click",(function(){return j.Ac(n),j.fc(2).paramChecked=!1})),j.Kc(1,"Modify parameters "),j.Sb()}}function oi(e,t){if(1&e&&(j.Tb(0,"div",15),j.Ob(1,"mat-divider",98),j.Ic(2,Kn,2,0,"span",17),j.Ic(3,ci,6,7,"ng-container",57),j.Ob(4,"mat-divider",98),j.Ic(5,ai,2,0,"button",35),j.Ic(6,si,2,0,"button",36),j.Sb()),2&e){var n=j.fc();j.Ab(2),j.mc("ngIf",0===(null==n.selectedTask?null:n.selectedTask.arguments.length)),j.Ab(1),j.mc("ngForOf",null==n.selectedTask?null:n.selectedTask.arguments),j.Ab(2),j.mc("ngIf",n.selectedTask&&!n.paramChecked),j.Ab(1),j.mc("ngIf",n.selectedTask&&n.paramChecked)}}function li(e,t){if(1&e&&(j.Tb(0,"mat-icon",43),j.Kc(1,"looks_3"),j.Sb(),j.Tb(2,"span"),j.Kc(3," Result information "),j.Sb()),2&e){var n=j.fc();j.Eb("text-primary",2==n.currentStep),j.Ab(2),j.Eb("text-primary",2==n.currentStep)}}function ui(e,t){if(1&e&&(j.Tb(0,"mat-hint",106),j.Kc(1),j.Sb()),2&e){var n=j.fc();j.Ab(1),j.Lc(n.viewControls.errorName)}}function bi(e,t){if(1&e&&(j.Tb(0,"mat-hint",106),j.Kc(1),j.Sb()),2&e){var n=j.fc();j.Ab(1),j.Lc(n.viewControls.errorDesc)}}function fi(e,t){1&e&&(j.Tb(0,"div",127),j.Tb(1,"div",102),j.Tb(2,"h2"),j.Kc(3,"Setting output information"),j.Sb(),j.Sb(),j.Sb())}function di(e,t){if(1&e&&(j.Tb(0,"span",106),j.Kc(1),j.Sb()),2&e){var n=j.fc(2).index,i=j.fc();j.Ab(1),j.Mc("*",null==i.viewControls.errorOutputs[n]?null:i.viewControls.errorOutputs[n].name,"")}}function pi(e,t){if(1&e&&(j.Tb(0,"span",106),j.Kc(1),j.Sb()),2&e){var n=j.fc(2).index,i=j.fc();j.Ab(1),j.Mc("*",null==i.viewControls.errorOutputs[n]?null:i.viewControls.errorOutputs[n].desc,"")}}function hi(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",129),j.Tb(1,"div",102),j.Tb(2,"h3"),j.Tb(3,"b"),j.Kc(4),j.Sb(),j.Sb(),j.Tb(5,"span",104),j.Kc(6),j.Sb(),j.Ob(7,"br"),j.Sb(),j.Tb(8,"div",102),j.Tb(9,"mat-form-field",27),j.Tb(10,"input",130),j.bc("ngModelChange",(function(e){j.Ac(n);var t=j.fc().index;return j.fc().resultInfo.outputs[t].name=e})),j.Sb(),j.Tb(11,"span",29),j.Kc(12),j.Sb(),j.Tb(13,"span",30),j.Kc(14),j.Sb(),j.Sb(),j.Ic(15,di,2,1,"span",31),j.Sb(),j.Tb(16,"div",131),j.Tb(17,"mat-form-field",27),j.Tb(18,"textarea",132),j.bc("ngModelChange",(function(e){j.Ac(n);var t=j.fc().index;return j.fc().resultInfo.outputs[t].desc=e})),j.Kc(19),j.Sb(),j.Sb(),j.Ic(20,pi,2,1,"span",31),j.Ob(21,"br"),j.Sb(),j.Sb()}if(2&e){var i=j.fc(),r=i.index,c=i.$implicit,a=j.fc();j.Eb("hasError",(null==a.viewControls.errorOutputs[r]?null:a.viewControls.errorOutputs[r].name)||(null==a.viewControls.errorOutputs[r]?null:a.viewControls.errorOutputs[r].desc)),j.Ab(4),j.Lc(null==c?null:c.name),j.Ab(2),j.Mc("Output description: ",null==c?null:c.desc,""),j.Ab(4),j.mc("disabled",a.resultInfoChecked)("placeholder","The output name for"+c.name)("ngModel",a.resultInfo.outputs[r].name),j.Ab(2),j.Lc(a.resultInfo.prefix),j.Ab(2),j.Lc(a.resultInfo.suffix),j.Ab(1),j.mc("ngIf",null==a.viewControls.errorOutputs[r]?null:a.viewControls.errorOutputs[r].name),j.Ab(3),j.mc("disabled",a.resultInfoChecked)("ngModel",a.resultInfo.outputs[r].desc),j.Ab(1),j.Lc(a.resultInfo.outputs[r].desc),j.Ab(1),j.mc("ngIf",null==a.viewControls.errorOutputs[r]?null:a.viewControls.errorOutputs[r].desc)}}function mi(e,t){if(1&e&&j.Ic(0,hi,22,14,"div",128),2&e){var n=t.$implicit;j.mc("ngIf","outFile"==(null==n?null:n.type))}}function gi(e,t){if(1&e){var n=j.Ub();j.Tb(0,"button",94),j.bc("click",(function(){return j.Ac(n),j.fc().checkResultInfo()})),j.Kc(1,"Set the result information"),j.Sb()}}function vi(e,t){if(1&e){var n=j.Ub();j.Tb(0,"button",126),j.bc("click",(function(){return j.Ac(n),j.fc().resultInfoChecked=!1})),j.Kc(1,"Modify info "),j.Sb()}}function Si(e,t){if(1&e&&(j.Tb(0,"mat-icon",43),j.Kc(1,"looks_4"),j.Sb(),j.Tb(2,"span"),j.Kc(3," Confirm and submit "),j.Sb()),2&e){var n=j.fc();j.Eb("text-primary",3===n.currentStep),j.Ab(2),j.Eb("text-primary",3===n.currentStep)}}function Ti(e,t){if(1&e&&j.Ob(0,"bdp-result-describer",133),2&e){var n=j.fc();j.mc("currentTask",n.selectedTask)("currentProject",n.currentProject)("resultInfo",n.resultInfo)("selectedInputs",n._selectedInputs)("validInputs",n.validInputs)}}function yi(e,t){1&e&&(j.Tb(0,"span"),j.Kc(1,"Save and Run"),j.Sb())}function ki(e,t){1&e&&(j.Tb(0,"span"),j.Ob(1,"i",134),j.Kc(2," Submitting ... "),j.Sb())}var Ii,wi=function(){return["/home"]},Ai=function(){return["/project/list"]},Ci=((Ii=function(){function e(t,n,i,r,c,a,s,o,l){_classCallCheck(this,e),this.router=t,this.route=n,this.projectService=i,this.systemService=r,this.userService=c,this.dataService=a,this.taskService=s,this.dialogRef=o,this.breakpointObserver=l,this._subs=[],this.masonryOptions={percentPosition:!0,gutter:0,resize:!0},this.currentStep=0,this.paramChecked=!1,this.resultInfoChecked=!1,this.taskViewType="all",this.showWorkflow=!1,this.showIntermediateFile=!1,this.currentPackageStore={},this.masonryItemWidth="33.3333%"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.projectID=this.route.snapshot.params.pid,this.taskList={},this.allTasksInPkg={},this.taskListView={},this.taskKey2name={},this.packageKeys=[],this.validInputs=[],this.inputDataPreview=[],this._selectedInputs=[],this._selectedDataFiles=[],this._valueOfListData=[],this._loadedDataFile={},this.loadedTasks={},this.selectedTask=void 0,this.resultInfo={name:"",desc:"",prefix:"",suffix:"",outputs:[]},this.viewControls={isLoadingInputs:!1,isSubmitted:!1,isSubmitting:!1,isError:!1,errorInputs:[],errorOutputs:[],errorName:!1,errorDesc:!1,workflowErrors:[],workflowWarnings:[]},this._subs.push(this.projectService.currentProject$.subscribe((function(t){if(e.currentProject=t,t){e.currentProject.privilege.canRun||e.router.navigate(["/project",e.currentProject.id,"info"]);var n=t.packages;n.forEach((function(t){e.currentPackageStore[t.id]=t})),n.length>0?e.taskService.loadTasks(n.map((function(e){return e.id})),!1,!0):e.taskService.loadTasks()}}))),this._subs.push(this.systemService.sysInfo$.subscribe((function(t){return e.sysConfig=t}))),this._subs.push(this.userService.currentUser$.subscribe((function(t){return e.currentUser=t}))),this._subs.push(this.taskService.taskList$.subscribe((function(t){if(t&&t.length>0){e.taskList={},e.allTasksInPkg={},e.tasks=t;var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,c=e.currentPackageStore[r.package];if(c){var a=c.sheetID+c.fullname;e.taskKey2name[a]=c.fullname+" from "+(c.sheetName||"Internal Package List"),e.taskList[a]||(e.taskList[a]=[]),e.allTasksInPkg[r.id]=r,e.taskList[a].push(r)}}}catch(s){i.e(s)}finally{i.f()}e.packageKeys=e.currentProject&&Array.isArray(e.currentProject.packages)?e.currentProject.packages.map((function(e){return e.sheetID+e.fullname})):Object.keys(e.taskKey2name),e.changeTaskViewFilter(e.taskViewType),setTimeout((function(){return e.masonryRelayout()}),1e3)}}))),this._subs.push(this.taskService.taskValidInputs$.subscribe((function(t){return e.onValidInputChanged(t)}))),this._subs.push(this.dataService.incomingData$.subscribe((function(t){if("colnames"===t.viewType||"rownames"===t.viewType||"table"===t.viewType){var n=t.id+t.viewType+t.isPreview;e._loadedDataFile[n]||(e._loadedDataFile[n]={}),e._loadedDataFile[n]=t.data}}))),this._subs.push(this.taskService.incomingTaskChange$.subscribe((function(t){var n=t.type,i=t.data,r=e.currentProject.packages.filter((function(e){return e.id===i.package}))[0];if(r){var c=e.taskList[r.sheetID+r.fullname];if(Array.isArray(c)){if("update"===n||"delete"===n){e.allTasksInPkg[i.id]=i;for(var a=0;a<c.length;a++)if(i.id===c[a].id){"update"===n?c.splice(a,1,i):c.splice(a,1);break}}else"insert"===n&&c.push(i);e.changeTaskViewFilter(e.taskViewType)}}}))),this.projectService.setCurrentProject(this.projectID);var t=["(max-width: 576px)","(min-width: 576px)","(min-width: 768px)","(min-width: 992px)","(min-width: 1200px)","(min-width: 1600px)"];this.breakpointObserver.observe(t).subscribe((function(n){var i=t.filter((function(e){return n.breakpoints[e]}));switch(i[i.length-1]){case"(max-width: 576px)":case"(min-width: 576px)":e.masonryItemWidth="100%";break;case"(min-width: 768px)":e.masonryItemWidth="50%";break;case"(min-width: 992px)":case"(min-width: 1200px)":e.masonryItemWidth="33.3333%";break;case"(min-width: 1600px)":e.masonryItemWidth="25%"}}))}},{key:"changeTaskViewFilter",value:function(e){var t=this;e=e||"all";var n,i=_createForOfIteratorHelper(this.packageKeys);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.taskListView[r]=Object(G.a)(Array.isArray(this.taskList[r])?this.taskList[r].filter((function(t){return"all"===e||t.type===e})):[],[function(e){return e.name}],["asc"])}}catch(c){i.e(c)}finally{i.f()}this.taskViewType=e,setTimeout((function(){return t.masonryRelayout()}),300)}},{key:"getTaskByMap",value:function(e){var t=this,n=this.taskService.getTaskByMap(e).subscribe((function(i){n.unsubscribe(),i.isError&&t.viewControls.workflowErrors.push("This task requires the task key ".concat(e.key," of package ").concat(e.pkg,"."));var r=i.success;r.packageModel&&r.packageModel.id?(t.currentProject.packages.map((function(e){return e.id})).indexOf(r.packageModel.id)<0&&t.viewControls.workflowWarnings.push("A children task '".concat(r.name,"' belong to the package '").concat(r.packageModel.name,"' which is not selected for the current Project.")),t.loadedTasks[r.packageModel.id]||(t.loadedTasks[r.packageModel.id]={}),t.loadedTasks[r.packageModel.id][r.id]=r,e.id=r.id,e.key=r.key,e.ver=r.packageModel.version,e.pkg=r.packageModel.name,e.pkgid=r.packageModel.id):t.viewControls.workflowErrors.push("This workflow may be configured incorrectedly. The package of the task ".concat(r.name," does not exist."))}))}},{key:"onSelectTask",value:function(e){var t=this;if(!this.selectedTask||this.selectedTask.id!==e.id){if(this.selectedTask=e,this._selectedInputs.length=0,this._selectedDataFiles.length=0,this.timeStamp=Tt().format("YYYYMMDD.HHmmss.SSS"),this.resultInfo.name="Result from "+e.name,this.resultInfo.desc="",this.resultInfo.outputs.length=0,this.resultInfoChecked=!1,this.paramChecked=!1,this.currentProject){if(this.viewControls.isLoadingInputs=!0,e&&"workflow"===e.type){var n=e.mapper;this.viewControls.workflowErrors=[],this.viewControls.workflowWarnings=[];for(var i=0;i<n.length;i++)for(var r=0;r<n[i].length;r++){var c=n[i][r];c.pkgid&&c.pkgid!==e.package&&this.getTaskByMap(c)}}this.taskService.getValidInputFile(e.id,this.currentProject.id);for(var a=0;a<this.selectedTask.arguments.length;a++){var s=this.selectedTask.arguments[a];"list"===s.type?this._selectedInputs[a]=s.default&&void 0!==s.default[0]?s.multiple?s.default:s.default[0]:[]:"value"===s.type?this._selectedInputs[a]=s.default&&void 0!==s.default[0]?s.default[0]:void 0:"outFile"===s.type&&(this.resultInfo.outputs[a]={name:s.name,desc:""})}}this.masonry&&(this.masonry.map((function(e){return e.layout()})),setTimeout((function(){return t.masonry.map((function(e){return e.layout()}))}),100))}}},{key:"masonryRelayout",value:function(){this.masonry&&(this.masonry.map((function(e){return e.reloadItems()})),this.masonry.map((function(e){return e.layout()})))}},{key:"onTaskReloadBtnClick",value:function(){this.currentProject&&this.currentProject.packages&&this.taskService.loadTasks(this.currentProject.packages.map((function(e){return e.id})),!1,!0)}},{key:"onTaskBlur",value:function(e){e.stopPropagation(),this.viewControls.workflowErrors=[],this.viewControls.workflowWarnings=[],this.selectedTask=void 0,this.paramChecked=!1,this.resultInfoChecked=!1,this.currentStep=0,this.masonry&&(this.masonry.map((function(e){return e.reloadItems()})),this.masonry.map((function(e){return e.layout()})))}},{key:"onGetList",value:function(e,t){if(!this.paramChecked){var n=this.selectedTask.arguments[t];if(this._selectedInputs[t]=void 0,this.viewControls.errorInputs=[],"list"===n.type){var i=n.dependOn.split(".");if("argv"===i[0]){var r,c=this._selectedInputs[+i[1]];for(var a in c)if(c[a]){r=a;break}if(r){var s=n.listType.split(".");"table"===s[0]&&this.dataService.getData(r,s[1],n.preview),this._valueOfListData[t]=r+s[1]+n.preview}else this.viewControls.errorInputs[+i[1]]="Please set this input first."}}}}},{key:"onListSaved",value:function(e,t){this._selectedInputs[t]=e.selectedList,this.viewControls.errorInputs=[]}},{key:"onFocusedDataFile",value:function(e,t,n){if(!this.paramChecked){for(var i in this._selectedInputs[t])this._selectedInputs[t][i]=i===e.id&&!this._selectedInputs[t][i];this._selectedDataFiles[t]=Object.values(this._selectedInputs[t]).filter((function(e){return e})).length>0,this.viewControls.errorInputs=[];for(var r=0;r<this.selectedTask.arguments.length;r++){var c=this.selectedTask.arguments[r];"list"===c.type&&c.dependOn==="argv."+t&&(this._selectedInputs[r]=void 0,this._valueOfListData[r]=void 0)}}}},{key:"onValidInputChanged",value:function(e){this.viewControls.isLoadingInputs=!1,this.validInputs.length=0,this.viewControls.errorInputs=[];for(var t=0;t<e.length;t++){var n=e[t];this.validInputs[n.index]=n.models,this._selectedInputs[n.index]||(this._selectedInputs[n.index]={});for(var i=Object.keys(this._selectedInputs[n.index]),r=n.models.map((function(e){return e.id})),c=0;c<i.length;c++){var a=i[c];r.indexOf(a)<0&&delete this._selectedInputs[n.index][a]}for(var s=0;s<n.models.length;s++)this._selectedInputs[n.index][n.models[s].id]=!!this._selectedInputs[n.index][n.models[s].id]}}},{key:"loadValidSubset",value:function(e){}},{key:"trackByDataFile",value:function(e,t){return t.id}},{key:"checkParams",value:function(){var e=!1;this.viewControls.errorInputs=[];var t=[];this.paramChecked=!1;for(var n=0;n<this.selectedTask.arguments.length;n++){var i=this.selectedTask.arguments[n];if("outFile"!==i.type){if("inFile"===i.type)for(var r in this._selectedInputs[n])this._selectedInputs[n][r]&&(t[n]=r);else"value"===i.type?"number"===i.format&&isNaN(parseFloat(this._selectedInputs[n]))?this.viewControls.errorInputs[n]="Only numbers are accepted.":t[n]=this._selectedInputs[n]:"list"===i.type?this._selectedInputs[n]&&(t[n]=this._selectedInputs[n],Array.isArray(t[n])||(t[n]=[t[n]])):"static"===i.type&&(i.default[0]||(i.default[0]=" "),t[n]=i.default[0]);void 0!==this.viewControls.errorInputs[n]?e=!0:i.optional||t[n]&&0!==t[n].length||(e=!0,this.viewControls.errorInputs[n]="Please set this argument")}}e?(this.paramChecked=!1,this.currentStep=1):(this.paramChecked=!0,this.currentStep=2)}},{key:"onTimeStampChange",value:function(e){this.resultInfo.prefix=e.checked?"["+this.timeStamp+"] ":""}},{key:"checkResultInfo",value:function(){var e=!1;this.resultInfo.prefix=this.resultInfo.prefix.replace(/^\ +/,"").replace(/\ +$/," "),this.resultInfo.suffix=this.resultInfo.suffix.replace(/^\ +/," ").replace(/\ +$/,""),this.resultInfo.prefix.length>36?(this.viewControls.errorName="The length of the prefix should be less than or equal to 36 characters.",e=!0):this.resultInfo.suffix.length>36?(this.viewControls.errorName="The length of the suffix should be less than or equal to 36 characters.",e=!0):this.viewControls.errorName=!1,this.resultInfo.desc.length>500?(this.viewControls.errorDesc="The max length of the description is 500 characters.",e=!0):this.viewControls.errorDesc=!1,e||(this.resultInfoChecked=!0,this.currentStep=4)}},{key:"handleCorrectCaptcha",value:function(e){this.recaptchaResponse=e}},{key:"performTask",value:function(){var e=this,t=[],n=[],i=!1;this.viewControls.errorInputs=[],this.resultInfo.name.length>160?(this.viewControls.errorName="The length of the name should be less than or equal to 160 characters.",i=!0):this.viewControls.errorName=!1,this.resultInfo.desc.length>500?(this.viewControls.errorDesc="The max length of the description is 500 characters.",i=!0):this.viewControls.errorDesc=!1;for(var r=0;r<this.selectedTask.arguments.length;r++){var c=this.selectedTask.arguments[r];if("outFile"!==c.type){if("inFile"===c.type)for(var a in this._selectedInputs[r])this._selectedInputs[r][a]&&(t[r]=a);else"value"===c.type?"number"===c.format&&isNaN(parseFloat(this._selectedInputs[r]))?this.viewControls.errorInputs[r]="Only numbers are accepted.":t[r]=this._selectedInputs[r]:"list"===c.type?this._selectedInputs[r]&&(t[r]=this._selectedInputs[r],Array.isArray(t[r])||(t[r]=[t[r]])):"static"===c.type&&(c.default[0]||(c.default[0]=" "),t[r]=c.default[0]);void 0!==this.viewControls.errorInputs[r]?i=!0:c.optional||t[r]&&0!==t[r].length||(i=!0,this.viewControls.errorInputs[r]="Please set this input")}else{var s={name:void 0,desc:void 0};this.resultInfo.outputs[r].name.length>160&&(s.name="The name length exceeds 160 characters. Please shorten the name."),this.resultInfo.outputs[r].desc.length>500&&(s.desc="The description exceeds 500 characters. Please shorten the description."),s.name||s.desc?(this.viewControls.errorOutputs[r]=s,i=!0):n[r]={name:this.resultInfo.outputs[r].name,desc:this.resultInfo.outputs[r].desc}}}if(i)window.location.hash="settingParameters";else{var o=n.filter((function(e){return e})),l={run:!0,projectID:this.currentProject.id,inputs:t,outputs:o,name:this.resultInfo.name,desc:this.resultInfo.desc,prefix:this.resultInfo.prefix,suffix:this.resultInfo.suffix};this.viewControls.isSubmitting=!0,this.projectService.createResult(this.selectedTask.id,l).subscribe((function(t){if(!t.isError){var n=t.success;setTimeout((function(){return e.router.navigate(["/result",n.id,"info"])}),100)}}))}}},{key:"reset",value:function(){console.log("reset"),this.viewControls.isSubmitted=!1,this.viewControls.isSubmitting=!1,this.viewControls.isError=!1,this.selectedTask=void 0}},{key:"hasTag",value:function(e,t,n){for(var i=0,r=0;r<e.length;r++)for(var c=0;c<t.length;c++)e[r]===t[c]&&i++;var a=!1;return("any"===n&&i>0||"all"===n&&i===e.length)&&(a=!0),a}},{key:"uploadFileForArg",value:function(e){var t=this;this.dialogRef.open(Qe.a,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{title:"Importing file(s) for the argument <u>".concat(e.name,"</u> of the task <u>").concat(this.selectedTask.name,"</u>."),allowedFormats:[e.format],project:this.currentProject,sysConfig:this.sysConfig,tasks:this.tasks,importType:"Folder"===e.format?"folder":"local",currentUser:this.currentUser,tags:e.tags}}).afterClosed().subscribe((function(){t.taskService.getValidInputFile(t.selectedTask.id,t.currentProject.id)}))}},{key:"ngOnDestroy",value:function(){this._subs.map((function(e){return e.unsubscribe()}))}},{key:"outputNumber",get:function(){return this.selectedTask?this.selectedTask.arguments.filter((function(e){return"outFile"===e.type})).length:0}}]),e}()).\u0275fac=function(e){return new(e||Ii)(j.Nb(M.c),j.Nb(M.a),j.Nb(X.a),j.Nb(Z.a),j.Nb(ee.a),j.Nb(yt.a),j.Nb(J.a),j.Nb(E.b),j.Nb(kt.a))},Ii.\u0275cmp=j.Hb({type:Ii,selectors:[["result-create"]],viewQuery:function(e,t){var n;1&e&&j.Qc(K,!0),2&e&&j.wc(n=j.cc())&&(t.masonry=n)},decls:93,vars:42,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[1,"chi-header"],[1,"container-fluid"],["animationDuration","150ms",3,"dynamicHeight","selectedIndex","selectedIndexChange"],["mat-tab-label",""],[1,"p-1"],["class","row",4,"ngIf"],["class","row mx-2",4,"ngFor","ngForOf"],[3,"disabled"],[1,"row"],[1,"col-12"],["mat-raised-button","",3,"click"],[4,"ngIf"],["class","col-12",4,"ngIf"],[1,"ml-5"],[3,"disabled","change"],["useTimeStamp",""],[1,"ml-3"],["matInput","","placeholder","Prefix",3,"disabled","ngModel","ngModelChange"],["matInput","","placeholder","Suffix",3,"disabled","ngModel","ngModelChange"],[1,"col-md-2"],[1,"col-md-10"],[2,"width","100%"],["matInput","","type","text","maxlength","160","size","160",3,"disabled","ngModel","placeholder","ngModelChange"],["matPrefix",""],["matSuffix",""],["class","text-danger",4,"ngIf"],["matInput","","maxlength","500","rows","4","placeholder","(Optional) Give some descriptions about this result",3,"disabled","ngModel","ngModelChange"],["class","row mt-3",4,"ngIf"],["ngFor","",3,"ngForOf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[3,"currentTask","currentProject","resultInfo","selectedInputs","validInputs",4,"ngIf"],["resultOK",""],["mat-raised-button","","color","accent","role","button",1,"btn","btn-primary",3,"disabled","click"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"mr-2"],["name","fontStyle","aria-label","Font Style",3,"ngModel","ngModelChange"],["value","all"],["value","standard"],[1,"fas","fa-cog","fa-fx"],["value","workflow"],[1,"fas","fa-cogs","fa-fx"],["value","system"],[1,"fas","fa-server","fa-fx"],[3,"click"],[1,"fas","fa-sync-alt","fa-fx"],[1,"row","mx-2"],["class","col-12 text-primary","style","font-size: 36px;",4,"ngIf"],[2,"width","100%",3,"options","ordered"],[4,"ngFor","ngForOf"],["class","col-12 my-2",4,"ngIf"],[1,"col-12","text-primary",2,"font-size","36px"],[1,"fas","fa-cube","fa-fw","mr-2"],["ngxMasonryItem","","class","masonry-item",3,"width",4,"ngIf"],["ngxMasonryItem","",1,"masonry-item"],[2,"margin","5px",3,"click"],["mat-card-avatar","",3,"src",4,"ngIf"],["class","fas fa-cogs fa-lg fa-fw",4,"ngIf"],["class","fas fa-cog fa-lg fa-fw",4,"ngIf"],["class","fas fa-puzzle-piece fa-lg fa-fw",4,"ngIf"],["class","fas fa-server fa-lg fa-fw",4,"ngIf"],[1,"fas","fa-cube","mr-2"],["style","min-height: 300px; display: flex; justify-content: center; flex-direction: column; padding: 0 10px;",4,"ngIf"],["style","height: 100px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;","class","px-5",3,"innerHTML",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-card-avatar","",3,"src"],[1,"fas","fa-cogs","fa-lg","fa-fw"],[1,"fas","fa-cog","fa-lg","fa-fw"],[1,"fas","fa-puzzle-piece","fa-lg","fa-fw"],[1,"fas","fa-server","fa-lg","fa-fw"],[2,"min-height","300px","display","flex","justify-content","center","flex-direction","column","padding","0 10px"],["mat-card-image","",1,"align-self-center",2,"max-height","300px","max-width","400px",3,"src"],[1,"px-5",2,"height","100px","white-space","nowrap","overflow","hidden","text-overflow","ellipsis",3,"innerHTML"],[3,"innerHTML"],["role","list",4,"ngIf"],["style","width: 100%;",3,"taskMapper","additionalTasks","childTasks","taskArgs",4,"ngIf"],["style","font-size: 14px;",4,"ngIf"],[2,"font-size","14px"],["role","list"],["role","listitem","class","text-warning",4,"ngFor","ngForOf"],["role","listitem",1,"text-warning"],["role","listitem","class","text-danger",4,"ngFor","ngForOf"],["role","listitem",1,"text-danger"],[2,"width","100%",3,"taskMapper","additionalTasks","childTasks","taskArgs"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"fas","fa-project-diagram"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"col-12","my-2"],[1,"my-4"],[1,"row","pb-2","mb-4",3,"ngSwitch"],["class","col-md-12",4,"ngIf"],[3,"ngSwitchCase"],[1,"col-md-12"],["class","text-muted",4,"ngIf"],[1,"text-muted"],["matInput","","type","text",3,"disabled","placeholder","ngModel","ngModelChange"],[1,"text-danger"],["mat-icon-button","",3,"click"],[1,"fas","fa-upload","fa-fw","fa-lg"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"badge","badge-primary","m-1"],["class","col-xl-4 col-lg-6 my-2",3,"role","checked","disabled","dataFile","onFocused",4,"ngIf"],[1,"col-xl-4","col-lg-6","my-2",3,"role","checked","disabled","dataFile","onFocused"],[3,"ngModel","multiple","disabled","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","col-12 p-2 m-2","style","padding:0px 10px;",4,"ngIf"],[1,"col-12","p-2","m-2",2,"padding","0px 10px"],["mat-button","","color","primary",1,"mb-3",2,"cursor","pointer",3,"click"],[1,"fa","fa-table"],[1,"fa","fa-caret-down","ml-2"],[1,"input-group"],["type","text","placeholder","No data selected.","readonly","",1,"form-control",3,"disabled","value"],[3,"hidden"],["style","width: 100%;","placeholder","Click to select the data","size","8",3,"multiple","ngModel","disabled","ngModelChange",4,"ngIf"],["placeholder","Click to select the data","size","8",2,"width","100%",3,"multiple","ngModel","disabled","ngModelChange"],["mat-raised-button","","color","warn",3,"click"],[1,"row","mt-3"],["class","row my-2",3,"hasError",4,"ngIf"],[1,"row","my-2"],["matInput","","type","text","maxlength","160","size","160",3,"disabled","placeholder","ngModel","ngModelChange"],[1,"col-md-12","mb-5"],["matInput","","maxlength","500","rows","4","placeholder","(Optional) Give some descriptions about this output.",3,"disabled","ngModel","ngModelChange"],[3,"currentTask","currentProject","resultInfo","selectedInputs","validInputs"],[1,"fas","fa-circle-o-notch","fa-spin","fa-lg","fa-fw","mr-3"]],template:function(e,t){if(1&e&&(j.Tb(0,"ol",0),j.Tb(1,"li",1),j.Tb(2,"a",2),j.Kc(3,"Home"),j.Sb(),j.Sb(),j.Tb(4,"li",1),j.Tb(5,"a",2),j.Kc(6,"Project List"),j.Sb(),j.Sb(),j.Ic(7,Vt,4,4,"li",3),j.Ic(8,Qt,2,0,"li",3),j.Ic(9,Gt,5,6,"li",4),j.Ic(10,Xt,2,0,"li",4),j.Sb(),j.Tb(11,"div",5),j.Tb(12,"h4",6),j.Kc(13,"Let's perform a task"),j.Sb(),j.Ob(14,"br"),j.Ob(15,"br"),j.Tb(16,"div",7),j.Tb(17,"mat-tab-group",8),j.bc("selectedIndexChange",(function(e){return t.currentStep=e})),j.Tb(18,"mat-tab"),j.Ic(19,Jt,4,4,"ng-template",9),j.Tb(20,"div",10),j.Tb(21,"h2"),j.Kc(22,"Step 1. Choose a task"),j.Sb(),j.Ic(23,Zt,13,1,"div",11),j.Ic(24,jn,5,5,"div",12),j.Sb(),j.Sb(),j.Tb(25,"mat-tab",13),j.Ic(26,Pn,4,4,"ng-template",9),j.Tb(27,"h2"),j.Kc(28,"2. Set parameters"),j.Sb(),j.Ic(29,xn,9,2,"div",11),j.Tb(30,"div",14),j.Tb(31,"div",15),j.Tb(32,"button",16),j.bc("click",(function(){return t.showIntermediateFile=!t.showIntermediateFile})),j.Kc(33,"Toggle intermediate output files"),j.Sb(),j.Sb(),j.Sb(),j.Tb(34,"div",14),j.Ic(35,On,2,0,"div",17),j.Ic(36,oi,7,4,"div",18),j.Sb(),j.Sb(),j.Tb(37,"mat-tab",13),j.Ic(38,li,4,4,"ng-template",9),j.Tb(39,"h2"),j.Kc(40,"Step 3. Set result information"),j.Sb(),j.Ob(41,"br"),j.Tb(42,"div",14),j.Tb(43,"div",15),j.Tb(44,"h3"),j.Kc(45,"Result prefix/suffix:"),j.Sb(),j.Tb(46,"div",19),j.Tb(47,"mat-checkbox",20,21),j.bc("change",(function(e){return t.onTimeStampChange(e)})),j.Kc(49,"Time stamp"),j.Sb(),j.Tb(50,"mat-form-field",22),j.Tb(51,"input",23),j.bc("ngModelChange",(function(e){return t.resultInfo.prefix=e})),j.Sb(),j.Sb(),j.Tb(52,"mat-form-field",22),j.Tb(53,"input",24),j.bc("ngModelChange",(function(e){return t.resultInfo.suffix=e})),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Tb(54,"div",14),j.Tb(55,"div",25),j.Tb(56,"h3"),j.Kc(57,"Name"),j.Sb(),j.Sb(),j.Tb(58,"div",26),j.Tb(59,"mat-form-field",27),j.Tb(60,"input",28),j.bc("ngModelChange",(function(e){return t.resultInfo.name=e})),j.Sb(),j.Tb(61,"span",29),j.Kc(62),j.Sb(),j.Tb(63,"span",30),j.Kc(64),j.Sb(),j.Ic(65,ui,2,1,"mat-hint",31),j.Sb(),j.Sb(),j.Sb(),j.Tb(66,"div",14),j.Tb(67,"div",25),j.Tb(68,"h3"),j.Kc(69,"Description"),j.Sb(),j.Sb(),j.Tb(70,"div",26),j.Tb(71,"mat-form-field",27),j.Tb(72,"textarea",32),j.bc("ngModelChange",(function(e){return t.resultInfo.desc=e})),j.Kc(73),j.Sb(),j.Ic(74,bi,2,1,"mat-hint",31),j.Sb(),j.Sb(),j.Sb(),j.Ic(75,fi,4,0,"div",33),j.Ic(76,mi,1,1,"ng-template",34),j.Ic(77,gi,2,0,"button",35),j.Ic(78,vi,2,0,"button",36),j.Sb(),j.Tb(79,"mat-tab",13),j.Ic(80,Si,4,4,"ng-template",9),j.Tb(81,"h2"),j.Kc(82,"Step 4. Confirm and submit"),j.Sb(),j.Ic(83,Ti,1,5,"bdp-result-describer",37),j.Ob(84,"hr"),j.Ob(85,"br"),j.Tb(86,"mat-checkbox",null,38),j.Kc(88,"I have checked my result settings."),j.Sb(),j.Ob(89,"br"),j.Tb(90,"button",39),j.bc("click",(function(){return t.performTask()})),j.Ic(91,yi,2,0,"span",17),j.Ic(92,ki,3,0,"span",17),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Sb()),2&e){var n=j.xc(48),i=j.xc(87);j.Ab(2),j.mc("routerLink",j.pc(40,wi)),j.Ab(3),j.mc("routerLink",j.pc(41,Ai)),j.Ab(2),j.mc("ngIf",t.currentProject),j.Ab(1),j.mc("ngIf",!t.currentProject),j.Ab(1),j.mc("ngIf",t.currentProject),j.Ab(1),j.mc("ngIf",!t.currentProject),j.Ab(7),j.mc("dynamicHeight",!0)("selectedIndex",t.currentStep),j.Ab(6),j.mc("ngIf",!t.selectedTask),j.Ab(1),j.mc("ngForOf",t.packageKeys),j.Ab(1),j.mc("disabled",!t.selectedTask),j.Ab(4),j.mc("ngIf",t.selectedTask),j.Ab(6),j.mc("ngIf",t.viewControls.isLoadingInputs),j.Ab(1),j.mc("ngIf",!t.viewControls.isLoadingInputs),j.Ab(1),j.mc("disabled",!t.selectedTask||!t.paramChecked),j.Ab(10),j.mc("disabled",t.resultInfoChecked),j.Ab(4),j.mc("disabled",t.resultInfoChecked)("ngModel",t.resultInfo.prefix)("disabled",n.checked),j.Ab(2),j.mc("disabled",t.resultInfoChecked)("ngModel",t.resultInfo.suffix),j.Ab(7),j.oc("placeholder","Result of ",null==t.selectedTask?null:t.selectedTask.name,""),j.mc("disabled",t.resultInfoChecked)("ngModel",t.resultInfo.name),j.Ab(2),j.Lc(t.resultInfo.prefix),j.Ab(2),j.Lc(t.resultInfo.suffix),j.Ab(1),j.mc("ngIf",t.viewControls.errorName),j.Ab(7),j.mc("disabled",t.resultInfoChecked)("ngModel",t.resultInfo.desc),j.Ab(1),j.Lc(t.resultInfo.desc),j.Ab(1),j.mc("ngIf",t.viewControls.errorDesc),j.Ab(1),j.mc("ngIf",t.outputNumber>0),j.Ab(1),j.mc("ngForOf",null==t.selectedTask?null:t.selectedTask.arguments),j.Ab(1),j.mc("ngIf",t.selectedTask&&!t.resultInfoChecked),j.Ab(1),j.mc("ngIf",t.selectedTask&&t.resultInfoChecked),j.Ab(1),j.mc("disabled",!t.selectedTask||!t.paramChecked||!t.resultInfoChecked),j.Ab(4),j.mc("ngIf",t.paramChecked&&t.resultInfoChecked),j.Ab(7),j.mc("disabled",!i.checked||t.viewControls.isSubmitting),j.Ab(1),j.mc("ngIf",!t.viewControls.isSubmitting),j.Ab(1),j.mc("ngIf",t.viewControls.isSubmitting)}},directives:[M.f,s.n,y.c,y.a,y.d,s.m,u.b,d.a,F.b,g.a,o.b,o.i,o.l,o.e,F.f,F.g,m.a,b.b,b.a,K,_,f.a,f.f,f.j,f.i,f.d,f.b,f.c,f.g,I.a,I.c,It.a,k.a,s.p,s.q,F.e,wt.a,S.a,R.k,Wt],pipes:[s.v],styles:["fieldset[_ngcontent-%COMP%]{border:1px solid grey;padding:10px 15px}legend[_ngcontent-%COMP%]{width:auto;margin-bottom:0}.hasError[_ngcontent-%COMP%]{border:1px solid red;background-color:rgba(231,195,195,.3)}.link[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,255,.1)}.mat-tab-label[_ngcontent-%COMP%]{opacity:1!important}.masonry-item[_ngcontent-%COMP%]{float:left;height:auto}.task-card[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);background-color:#fff3cd}"]}),Ii),ji=n("h2Ed"),Pi=n("LRne"),xi=n("eIep");function Oi(e,t){1&e&&(j.Tb(0,"h3",12),j.Kc(1,"My projects"),j.Sb())}function Ki(e,t){1&e&&(j.Tb(0,"h3",12),j.Kc(1,"Projects that shared with me"),j.Sb())}function _i(e,t){1&e&&(j.Tb(0,"h3",12),j.Kc(1,"Public projects"),j.Sb())}function Li(e,t){1&e&&(j.Tb(0,"h1"),j.Kc(1,"One more step to proceed."),j.Sb())}function Mi(e,t){1&e&&(j.Tb(0,"p"),j.Kc(1,"Please wait the administrator to unlock your privileges."),j.Sb())}function Ei(e,t){1&e&&(j.Tb(0,"h1"),j.Kc(1,"This account has been locked. Please inform the administrator to unlock your account."),j.Sb())}var Fi=function(){return["/account/profile"]};function Ri(e,t){1&e&&(j.Tb(0,"p"),j.Ob(1,"br"),j.Kc(2,"Sorry for the inconvinience, but this site aims for a private group to use. "),j.Ob(3,"br"),j.Kc(4,"Every user needs the admin's approval to use the resources. "),j.Ob(5,"br"),j.Tb(6,"b"),j.Kc(7,"You might want to "),j.Tb(8,"a",2),j.Kc(9,"specify your account name"),j.Sb(),j.Kc(10," to allow the administrator to recognize you."),j.Sb(),j.Sb()),2&e&&(j.Ab(8),j.mc("routerLink",j.pc(1,Fi)))}function Ui(e,t){if(1&e&&(j.Tb(0,"div"),j.Tb(1,"div",13),j.Ic(2,Li,2,0,"h1",9),j.Ic(3,Mi,2,0,"p",9),j.Ic(4,Ei,2,0,"h1",9),j.Ic(5,Ri,11,2,"p",9),j.Tb(6,"p"),j.Tb(7,"button",14),j.Kc(8,"Learn more"),j.Sb(),j.Sb(),j.Sb(),j.Sb()),2&e){var n=j.fc();j.Ab(2),j.mc("ngIf",n.currentUser&&!n.currentUser.auths.bdp),j.Ab(1),j.mc("ngIf",n.currentUser&&!n.currentUser.auths.bdp),j.Ab(1),j.mc("ngIf",n.currentUser&&1===n.currentUser.auths.bdp),j.Ab(1),j.mc("ngIf",n.currentUser&&!n.currentUser.auths.bdp)}}function Ni(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",27),j.Tb(1,"h1",28),j.Kc(2,"Welcome to Big Data Processor!"),j.Sb(),j.Tb(3,"p",29),j.Kc(4,"You haven't created any project."),j.Sb(),j.Ob(5,"hr",30),j.Tb(6,"p"),j.Kc(7,"Try to create a project first."),j.Sb(),j.Tb(8,"button",31),j.bc("click",(function(){return j.Ac(n),j.fc(3).onNewProject()})),j.Kc(9," Create a project "),j.Sb(),j.Sb()}}var Di=function(){return["/project/list"]},zi=function(){return{listType:"myProjects"}},qi=function(){return{listType:"publicProjects"}};function Bi(e,t){1&e&&(j.Tb(0,"div",27),j.Tb(1,"h1",32),j.Kc(2,"You have no shared projects."),j.Sb(),j.Tb(3,"p",29),j.Kc(4,"Other users can share their projects with you."),j.Sb(),j.Ob(5,"hr",30),j.Tb(6,"button",33),j.Kc(7," View your own projects "),j.Sb(),j.Tb(8,"button",34),j.Kc(9," View public projects "),j.Sb(),j.Sb()),2&e&&(j.Ab(6),j.mc("routerLink",j.pc(4,Di))("queryParams",j.pc(5,zi)),j.Ab(2),j.mc("routerLink",j.pc(6,Di))("queryParams",j.pc(7,qi)))}var Wi=function(){return{listType:"sharedProjects"}};function $i(e,t){1&e&&(j.Tb(0,"div",27),j.Tb(1,"h1",32),j.Kc(2,"No public projects."),j.Sb(),j.Tb(3,"p",29),j.Kc(4,"Public projects can be viewed by registered users."),j.Sb(),j.Ob(5,"hr",30),j.Tb(6,"p"),j.Kc(7,"Registered users can specify their projects as public."),j.Sb(),j.Tb(8,"button",33),j.Kc(9," View your own projects "),j.Sb(),j.Tb(10,"button",34),j.Kc(11," View shared projects "),j.Sb(),j.Sb()),2&e&&(j.Ab(8),j.mc("routerLink",j.pc(4,Di))("queryParams",j.pc(5,zi)),j.Ab(2),j.mc("routerLink",j.pc(6,Di))("queryParams",j.pc(7,Wi)))}function Hi(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",35),j.bc("click",(function(){j.Ac(n);var e=t.$implicit;return j.fc(3).onProjectInfo(e)})),j.Tb(1,"span",36),j.Kc(2),j.Sb(),j.Ob(3,"br"),j.Tb(4,"h2",37),j.Kc(5),j.Sb(),j.Ob(6,"br"),j.Tb(7,"p",38),j.Kc(8),j.Sb(),j.Tb(9,"div"),j.Tb(10,"span",39),j.Kc(11),j.Sb(),j.Tb(12,"div",40),j.Tb(13,"span",41),j.Kc(14),j.Sb(),j.Ob(15,"br"),j.Tb(16,"span",41),j.Ob(17,"i",42),j.Kc(18),j.Sb(),j.Sb(),j.Sb(),j.Sb()}if(2&e){var i=t.$implicit;j.Ab(2),j.Lc(null==i?null:i.id),j.Ab(3),j.Lc(null==i?null:i.name),j.Ab(3),j.Mc(" ",null==i?null:i.desc," "),j.Ab(3),j.Mc("Updated at ",null==i||null==i.updatedAt?null:i.updatedAt.calendar(),""),j.Ab(3),j.Mc("Owner: ",(null==i||null==i.owner?null:i.owner.name)||"unknown",""),j.Ab(4),j.Lc(null==i||null==i.packages[0]?null:i.packages[0].fullname)}}var Vi=function(){return[2,5,10,30,50,100,300,500]},Qi=function(){return[10,30,50,100,300,500]};function Yi(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div"),j.Tb(1,"mat-paginator",22),j.bc("page",(function(e){return j.Ac(n),j.fc(2).onPageChange(e)})),j.Sb(),j.Ic(2,Ni,10,0,"div",23),j.Ic(3,Bi,10,8,"div",23),j.Ic(4,$i,12,8,"div",23),j.Tb(5,"div",24),j.bc("click",(function(){return j.Ac(n),j.fc(2).onNewProject()})),j.Ob(6,"i",25),j.Kc(7,"Create a new project "),j.Sb(),j.Ic(8,Hi,19,6,"div",26),j.Tb(9,"mat-paginator",22),j.bc("page",(function(e){return j.Ac(n),j.fc(2).onPageChange(e)})),j.Sb(),j.Sb()}if(2&e){var i=j.fc(2);j.Ab(1),j.mc("length",i.totalCount)("pageSize",i.pageSize)("pageIndex",i.pageIndex)("pageSizeOptions",j.pc(12,Vi)),j.Ab(1),j.mc("ngIf","myProjects"===i.listType&&i.projects&&0===i.projects.length),j.Ab(1),j.mc("ngIf","sharedProjects"===i.listType&&i.projects&&0===i.projects.length),j.Ab(1),j.mc("ngIf","publicProjects"===i.listType&&i.projects&&0===i.projects.length),j.Ab(4),j.mc("ngForOf",i.projects),j.Ab(1),j.mc("length",i.totalCount)("pageSize",i.pageSize)("pageIndex",i.pageIndex)("pageSizeOptions",j.pc(13,Qi))}}function Gi(e,t){if(1&e&&(j.Tb(0,"div",15),j.Tb(1,"div",16),j.Tb(2,"nav",17),j.Tb(3,"a",18),j.Ob(4,"i",19),j.Kc(5,"My Projects "),j.Sb(),j.Tb(6,"a",18),j.Ob(7,"i",20),j.Kc(8,"Shared "),j.Sb(),j.Tb(9,"a",18),j.Ob(10,"i",21),j.Kc(11,"Public "),j.Sb(),j.Sb(),j.Sb(),j.Tb(12,"div",16),j.Ic(13,Yi,10,14,"div",9),j.Sb(),j.Sb()),2&e){var n=j.fc();j.Ab(3),j.Hc("background-color","myProjects"===n.listType?"#CCE5FE":"initial"),j.Eb("text-primary","myProjects"===n.listType),j.mc("routerLink",j.pc(22,Di))("queryParams",j.pc(23,zi))("active","myProjects"===n.listType),j.Ab(3),j.Hc("background-color","sharedProjects"===n.listType?"#CCE5FE":"initial"),j.Eb("text-primary","sharedProjects"===n.listType),j.mc("routerLink",j.pc(24,Di))("queryParams",j.pc(25,Wi))("active","sharedProjects"===n.listType),j.Ab(3),j.Hc("background-color","publicProjects"===n.listType?"#CCE5FE":"initial"),j.Eb("text-primary","publicProjects"===n.listType),j.mc("routerLink",j.pc(26,Di))("queryParams",j.pc(27,qi))("active","publicProjects"===n.listType),j.Ab(4),j.mc("ngIf",n.projects&&n.currentUser&&n.currentUser.auths.bdp>=2)}}function Xi(e,t){1&e&&j.Ob(0,"i",55)}function Ji(e,t){1&e&&j.Ob(0,"i",56)}function Zi(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",43),j.Tb(1,"a",44),j.bc("click",(function(){j.Ac(n);var e=j.fc();return e.showRightButtonContent=!e.showRightButtonContent})),j.Ic(2,Xi,1,0,"i",45),j.Ic(3,Ji,1,0,"i",46),j.Tb(4,"span",47),j.Kc(5,"MENU"),j.Sb(),j.Tb(6,"span",48),j.Kc(7,"\u276f"),j.Sb(),j.Sb(),j.Ob(8,"br"),j.Tb(9,"a",49),j.Ob(10,"i",50),j.Tb(11,"span",51),j.Kc(12,"My projects"),j.Sb(),j.Tb(13,"span",48),j.Kc(14,"\u276f"),j.Sb(),j.Sb(),j.Ob(15,"br"),j.Tb(16,"a",49),j.Ob(17,"i",52),j.Tb(18,"span",51),j.Kc(19,"Shared with me"),j.Sb(),j.Tb(20,"span",48),j.Kc(21,"\u276f"),j.Sb(),j.Sb(),j.Ob(22,"br"),j.Tb(23,"a",49),j.Ob(24,"i",53),j.Tb(25,"span",51),j.Kc(26,"Public projects"),j.Sb(),j.Tb(27,"span",48),j.Kc(28,"\u276f"),j.Sb(),j.Sb(),j.Ob(29,"br"),j.Tb(30,"a",44),j.bc("click",(function(){return j.Ac(n),j.fc().onNewProject()})),j.Ob(31,"i",54),j.Tb(32,"span",51),j.Kc(33,"New project"),j.Sb(),j.Tb(34,"span",48),j.Kc(35,"\u276f"),j.Sb(),j.Sb(),j.Ob(36,"br"),j.Sb()}if(2&e){var i=j.fc();j.mc("@rightButtonState",i.showRightButtonContent?"active":"inactive"),j.Ab(2),j.mc("ngIf",i.showRightButtonContent),j.Ab(1),j.mc("ngIf",!i.showRightButtonContent),j.Ab(1),j.Eb("active",i.showRightButtonContent),j.Ab(5),j.Eb("active","myProjects"===i.listType),j.mc("routerLink",j.pc(25,Di))("queryParams",j.pc(26,zi)),j.Ab(2),j.Eb("active",i.showRightButtonContent),j.Ab(5),j.Eb("active","sharedProjects"===i.listType),j.mc("routerLink",j.pc(27,Di))("queryParams",j.pc(28,Wi)),j.Ab(2),j.Eb("active",i.showRightButtonContent),j.Ab(5),j.Eb("active","publicProjects"===i.listType),j.mc("routerLink",j.pc(29,Di))("queryParams",j.pc(30,qi)),j.Ab(2),j.Eb("active",i.showRightButtonContent),j.Ab(7),j.Eb("active",i.showRightButtonContent)}}var er,tr=function(){return["/home"]},nr=((er=function(){function e(t,n,i,r,c){_classCallCheck(this,e),this.projectService=t,this.systemService=n,this.router=i,this.route=r,this.userService=c,this._subs=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.projects=void 0,this.showRightButtonContent=!1,this.listType="myProjects",this.pageIndex=0,this.pageSize=30,this.totalCount=0,this._subs.push(this.userService.currentUser$.subscribe((function(t){return e.currentUser=t}))),this.route.queryParamMap.pipe(Object(xi.a)((function(t){return e.listType=t.get("listType")||"myProjects",e.pageSize=+t.get("pageSize")||30,e.pageIndex=+t.get("pageIndex")||0,e.currentUser&&e.currentUser.auths.bdp<=1?Object(Pi.a)(new ji.a({errors:[],success:{records:[]}})):"sharedProjects"===e.listType?e.projectService.getSharedProjects(e.pageIndex,e.pageSize):"publicProjects"===e.listType?e.projectService.getPublicProjects(e.pageIndex,e.pageSize):e.projectService.getProjects(e.pageIndex,e.pageSize)}))).subscribe((function(t){t.isError||(e.projects=t.success.records,e.totalCount=t.success.totalCount)}))}},{key:"sortFunc",value:function(e,t){return t.createdAt.valueOf()-e.createdAt.valueOf()}},{key:"onNewProject",value:function(){this.router.navigate(["/project/create"])}},{key:"onProjectInfo",value:function(e){this.router.navigate(["/project/"+e.id+"/info"])}},{key:"onPageChange",value:function(e){this.router.navigate(["/project/list"],{queryParams:{listType:this.listType,pageSize:e.pageSize,pageIndex:e.pageIndex}})}},{key:"ngOnDestroy",value:function(){this._subs.map((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||er)(j.Nb(X.a),j.Nb(Z.a),j.Nb(M.c),j.Nb(M.a),j.Nb(ee.a))},er.\u0275cmp=j.Hb({type:er,selectors:[["project-list"]],decls:18,vars:12,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"bdp-main-container"],["class","chi-header",4,"ngIf"],[1,"container",2,"padding","10px"],[4,"ngIf"],["class","row",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[1,"chi-header"],[1,"jumbotron"],["type","button","role","button",1,"btn","btn-primary","btn-lg"],[1,"row"],[1,"col-12"],["mat-tab-nav-bar",""],["mat-tab-link","",2,"text-decoration","none",3,"routerLink","queryParams","active"],[1,"fas","fa-list","mr-3"],[1,"far","fa-handshake","fa-fw","mr-2"],[1,"fa","fa-list-alt","fa-fw","mr-2"],[2,"background-color","rgba(255,255, 255, 0.7)","border","thin solid darkgray",3,"length","pageSize","pageIndex","pageSizeOptions","page"],["class","jumbotron mb-0",4,"ngIf"],[1,"project","clearfix",2,"text-align","center","line-height","40px","min-height","40px","background-color","rgba(255, 243, 205, 0.4)",3,"click"],[1,"fas","fa-plus-square","fa-fw","mr-2"],["class","project clearfix",3,"click",4,"ngFor","ngForOf"],[1,"jumbotron","mb-0"],[1,"mat-display-2"],[1,"mat-title"],[1,"my-4"],["mat-raised-button","","color","primary",3,"click"],[1,"mat-display-1"],["mat-raised-button","","color","primary",3,"routerLink","queryParams"],["mat-raised-button","",1,"ml-3",3,"routerLink","queryParams"],[1,"project","clearfix",3,"click"],[1,"text-muted","float-right",2,"font-size","8pt"],[1,"projectTitle"],[1,"p-2","text-muted"],[1,"text-muted",2,"font-size","10pt"],[1,"clearfix","float-right","text-muted"],[1,"float-right"],[1,"fas","fa-cube","mr-2"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ml-2"],[1,"chi-rbtn-arrow"],[1,"chi-rbtn",3,"routerLink","queryParams"],[1,"fas","fa-list","fa-fw"],[1,"chi-rbtn-content"],[1,"far","fa-handshake","fa-fw"],[1,"fa","fa-list-alt","fa-fw"],[1,"fas","fa-plus-square","fa-fw"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"]],template:function(e,t){1&e&&(j.Tb(0,"ol",0),j.Tb(1,"li",1),j.Tb(2,"a",2),j.Kc(3,"Home"),j.Sb(),j.Sb(),j.Tb(4,"li",3),j.Tb(5,"a",2),j.Kc(6," Project List"),j.Sb(),j.Tb(7,"a",4),j.Ob(8,"i",5),j.Sb(),j.Sb(),j.Sb(),j.Tb(9,"div",6),j.Ic(10,Oi,2,0,"h3",7),j.Ic(11,Ki,2,0,"h3",7),j.Ic(12,_i,2,0,"h3",7),j.Ob(13,"br"),j.Tb(14,"div",8),j.Ic(15,Ui,9,4,"div",9),j.Ic(16,Gi,14,28,"div",10),j.Sb(),j.Sb(),j.Ic(17,Zi,37,31,"div",11)),2&e&&(j.Ab(2),j.mc("routerLink",j.pc(9,tr)),j.Ab(3),j.mc("routerLink",j.pc(10,Di)),j.Ab(2),j.mc("routerLink",j.pc(11,Di)),j.Ab(3),j.mc("ngIf","myProjects"===t.listType),j.Ab(1),j.mc("ngIf","sharedProjects"===t.listType),j.Ab(1),j.mc("ngIf","publicProjects"===t.listType),j.Ab(3),j.mc("ngIf",t.currentUser&&t.currentUser.auths.bdp<=1),j.Ab(1),j.mc("ngIf",t.currentUser&&t.currentUser.auths.bdp>=2),j.Ab(1),j.mc("ngIf",t.projects&&t.currentUser&&t.currentUser.auths.bdp>=2))},directives:[M.f,s.n,y.f,y.e,v.a,s.m,u.b,M.d],styles:[".project[_ngcontent-%COMP%]{min-height:70px;padding:5px;height:auto;margin:5px 0;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);background-color:hsla(0,0%,100%,.5);cursor:pointer;transition:all .3s cubic-bezier(.25,.8,.25,1)}.project[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);background-color:#fff3cd}.projectTitle[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%}.mat-tab-link[_ngcontent-%COMP%]{opacity:1!important}"],data:{animation:[Ve.a]}}),er),ir=n("MKys"),rr=n("xsm5"),cr=n("RMae"),ar=n("jhN1"),sr=n("2uAV");function or(e,t){if(1&e&&(j.Tb(0,"span"),j.Kc(1),j.Sb()),2&e){var n=j.fc(2);j.Ab(1),j.Mc(" ",n.currentProject.name,"")}}var lr=function(e){return["/project",e,"info"]};function ur(e,t){if(1&e&&(j.Tb(0,"li",8),j.Tb(1,"a",2),j.Kc(2,"Project"),j.Ic(3,or,2,1,"span",5),j.Sb(),j.Tb(4,"a",9),j.Ob(5,"i",10),j.Sb(),j.Sb()),2&e){var n=j.fc();j.Ab(1),j.mc("routerLink",j.qc(3,lr,n.currentProject.id)),j.Ab(2),j.mc("ngIf",n.currentProject),j.Ab(1),j.mc("routerLink",j.qc(5,lr,n.currentProject.id))}}function br(e,t){1&e&&(j.Tb(0,"li",8),j.Kc(1,"Project information"),j.Sb())}function fr(e,t){1&e&&(j.Tb(0,"div"),j.Kc(1,"Loading ... "),j.Ob(2,"i",11),j.Sb())}function dr(e,t){if(1&e){var n=j.Ub();j.Tb(0,"mat-form-field",31),j.Tb(1,"input",32),j.bc("ngModelChange",(function(e){return j.Ac(n),j.fc(2).currentProject.name=e})),j.Sb(),j.Sb()}if(2&e){var i=j.fc(2);j.Ab(1),j.mc("ngModel",i.currentProject.name)}}function pr(e,t){if(1&e){var n=j.Ub();j.Tb(0,"mat-form-field",31),j.Tb(1,"textarea",33),j.bc("ngModelChange",(function(e){return j.Ac(n),j.fc(2).currentProject.desc=e})),j.Kc(2),j.Sb(),j.Sb()}if(2&e){var i=j.fc(2);j.Ab(1),j.mc("ngModel",i.currentProject.desc),j.Ab(1),j.Lc(i.currentProject.desc)}}function hr(e,t){1&e&&(j.Tb(0,"div",34),j.Kc(1," No package assigned. "),j.Sb())}function mr(e,t){1&e&&j.Ob(0,"i",59)}function gr(e,t){1&e&&j.Ob(0,"i",60)}function vr(e,t){if(1&e&&(j.Rb(0),j.Ic(1,mr,1,0,"i",57),j.Ic(2,gr,1,0,"i",58),j.Qb()),2&e){var n=j.fc(2).$implicit;j.Ab(1),j.mc("ngIf",null==n.privilege?null:n.privilege.canView),j.Ab(1),j.mc("ngIf",!(null!=n.privilege&&n.privilege.canView))}}function Sr(e,t){1&e&&j.Ob(0,"i",61)}function Tr(e,t){1&e&&(j.Tb(0,"span",48),j.Kc(1,"owner"),j.Sb())}function yr(e,t){1&e&&(j.Tb(0,"span",48),j.Kc(1,"manager"),j.Sb())}function kr(e,t){1&e&&(j.Tb(0,"span",48),j.Kc(1," viewer"),j.Sb())}function Ir(e,t){1&e&&(j.Tb(0,"span",48),j.Kc(1," runner"),j.Sb())}function wr(e,t){if(1&e&&(j.Tb(0,"div",62),j.Ic(1,Tr,2,0,"span",49),j.Ic(2,yr,2,0,"span",49),j.Ic(3,kr,2,0,"span",49),j.Ic(4,Ir,2,0,"span",49),j.Sb()),2&e){var n=j.fc(2).$implicit;j.Ab(1),j.mc("ngIf",n.privilege.isOwner),j.Ab(1),j.mc("ngIf",n.privilege.isManager),j.Ab(1),j.mc("ngIf",n.privilege.isViewer),j.Ab(1),j.mc("ngIf",n.privilege.isRunner)}}function Ar(e,t){1&e&&(j.Tb(0,"div",62),j.Tb(1,"span",48),j.Kc(2,"public"),j.Sb(),j.Sb())}function Cr(e,t){1&e&&(j.Tb(0,"span",63),j.Kc(1,"main package"),j.Sb())}function jr(e,t){if(1&e&&(j.Tb(0,"span",64),j.Kc(1),j.Sb()),2&e){var n=t.$implicit;j.Ab(1),j.Lc(n)}}function Pr(e,t){if(1&e){var n=j.Ub();j.Tb(0,"button",69),j.bc("click",(function(){j.Ac(n);var e=j.fc(3).index;return j.fc(3).movePkgUp(e)})),j.Ob(1,"i",70),j.Sb()}}function xr(e,t){if(1&e){var n=j.Ub();j.Tb(0,"button",69),j.bc("click",(function(){j.Ac(n);var e=j.fc(3).index;return j.fc(3).movePkgDown(e)})),j.Ob(1,"i",71),j.Sb()}}function Or(e,t){if(1&e){var n=j.Ub();j.Tb(0,"mat-card-actions"),j.Ic(1,Pr,2,0,"button",65),j.Ic(2,xr,2,0,"button",66),j.Tb(3,"button",67),j.bc("click",(function(){j.Ac(n);var e=j.fc(2).index;return j.fc(3).removePkg(e)})),j.Ob(4,"i",68),j.Sb(),j.Sb()}if(2&e){var i=j.fc(2).index,r=j.fc(3);j.Ab(1),j.mc("ngIf",0!==i),j.Ab(1),j.mc("ngIf",i<r.currentProject.packages.length-1)}}function Kr(e,t){1&e&&(j.Tb(0,"span",48),j.Kc(1," (You)"),j.Sb())}function _r(e,t){1&e&&(j.Tb(0,"span",72),j.Kc(1,"Under development"),j.Sb())}function Lr(e,t){1&e&&(j.Tb(0,"span",73),j.Kc(1,"Experimenting"),j.Sb())}function Mr(e,t){1&e&&(j.Tb(0,"span",74),j.Kc(1,"Stable"),j.Sb())}function Er(e,t){1&e&&(j.Tb(0,"span",75),j.Kc(1,"Out of date"),j.Sb())}function Fr(e,t){if(1&e&&(j.Tb(0,"mat-card",39),j.Tb(1,"mat-card-header"),j.Tb(2,"div",40),j.Ic(3,vr,3,2,"ng-container",5),j.Ic(4,Sr,1,0,"i",41),j.Sb(),j.Tb(5,"mat-card-title"),j.Tb(6,"b"),j.Kc(7),j.Sb(),j.Sb(),j.Tb(8,"mat-card-subtitle"),j.Kc(9),j.gc(10,"htmlToPlainText"),j.Sb(),j.Ic(11,wr,5,4,"div",42),j.Ic(12,Ar,3,0,"div",42),j.Sb(),j.Tb(13,"mat-card-content"),j.Ic(14,Cr,2,0,"span",43),j.Ic(15,jr,2,1,"span",44),j.Sb(),j.Ic(16,Or,5,2,"mat-card-actions",5),j.Tb(17,"mat-card-footer",45),j.Tb(18,"div",46),j.Ob(19,"i",47),j.Tb(20,"span",48),j.Kc(21),j.Sb(),j.Ic(22,Kr,2,0,"span",49),j.Sb(),j.Sb(),j.Tb(23,"mat-card-footer",50),j.Tb(24,"div",51),j.Rb(25,52),j.Ic(26,_r,2,0,"span",53),j.Ic(27,Lr,2,0,"span",54),j.Ic(28,Mr,2,0,"span",55),j.Ic(29,Er,2,0,"span",56),j.Qb(),j.Sb(),j.Sb(),j.Sb()),2&e){var n=j.fc(),i=n.$implicit,r=n.index,c=j.fc(3);j.Ab(3),j.mc("ngIf",!i.public),j.Ab(1),j.mc("ngIf",i.public),j.Ab(3),j.Lc(i.fullname),j.Ab(2),j.Mc(" ",j.hc(10,16,i.desc)," "),j.Ab(2),j.mc("ngIf",!i.public),j.Ab(1),j.mc("ngIf",i.public),j.Ab(2),j.mc("ngIf",0===r),j.Ab(1),j.mc("ngForOf",i.scope),j.Ab(1),j.mc("ngIf",c._viewControls.isEditing),j.Ab(5),j.Lc(i.owner?i.owner.name:"unset"),j.Ab(1),j.mc("ngIf",(null==i.owner?null:i.owner.id)===(null==c.currentUser?null:c.currentUser.id)),j.Ab(3),j.mc("ngSwitch",i.status),j.Ab(1),j.mc("ngSwitchCase",0),j.Ab(1),j.mc("ngSwitchCase",1),j.Ab(1),j.mc("ngSwitchCase",2),j.Ab(1),j.mc("ngSwitchCase",3)}}function Rr(e,t){if(1&e&&(j.Tb(0,"div",37),j.Ic(1,Fr,30,18,"mat-card",38),j.Sb()),2&e){var n=t.$implicit,i=j.fc(3);j.mc("cdkDragDisabled",!i._viewControls.isEditing),j.Ab(1),j.mc("ngIf",n)}}function Ur(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",24),j.Tb(1,"div",35),j.bc("cdkDropListDropped",(function(e){return j.Ac(n),j.fc(2).drop(e)})),j.Ic(2,Rr,2,2,"div",36),j.Sb(),j.Sb()}if(2&e){var i=j.fc(2);j.Ab(2),j.mc("ngForOf",i.currentProject.packages)}}function Nr(e,t){if(1&e){var n=j.Ub();j.Tb(0,"mat-card",76),j.bc("click",(function(){return j.Ac(n),j.fc(2).onClickPackageSelector()})),j.Tb(1,"mat-card-header"),j.Tb(2,"div",40),j.Ob(3,"i",77),j.Sb(),j.Tb(4,"mat-card-title"),j.Tb(5,"b"),j.Kc(6,"Click to add a package"),j.Sb(),j.Sb(),j.Sb(),j.Sb()}}var Dr=function(e){return["/project",e,"dataFile","list"]},zr=function(e){return["/project",e,"result","list"]};function qr(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",12),j.Tb(1,"div",13),j.Tb(2,"div",14),j.Tb(3,"div",15),j.Tb(4,"strong"),j.Kc(5,"Project name"),j.Sb(),j.Sb(),j.Tb(6,"div",16),j.Tb(7,"span",17),j.Kc(8),j.Sb(),j.Ic(9,dr,2,1,"mat-form-field",18),j.Sb(),j.Sb(),j.Ob(10,"br"),j.Tb(11,"div",14),j.Tb(12,"div",15),j.Tb(13,"strong"),j.Kc(14,"Description"),j.Sb(),j.Sb(),j.Tb(15,"div",16),j.Tb(16,"span",19),j.Kc(17),j.Sb(),j.Ic(18,pr,3,2,"mat-form-field",18),j.Sb(),j.Sb(),j.Ob(19,"br"),j.Tb(20,"div",14),j.Tb(21,"div",15),j.Tb(22,"strong"),j.Kc(23,"Creation time"),j.Sb(),j.Sb(),j.Tb(24,"div",16),j.Kc(25),j.Sb(),j.Sb(),j.Ob(26,"br"),j.Tb(27,"div",14),j.Tb(28,"div",15),j.Tb(29,"strong"),j.Kc(30,"Last manipulation"),j.Sb(),j.Sb(),j.Tb(31,"div",16),j.Kc(32),j.Sb(),j.Sb(),j.Ob(33,"br"),j.Tb(34,"div",14),j.Tb(35,"div",15),j.Tb(36,"strong"),j.Kc(37,"Summary"),j.Sb(),j.Sb(),j.Tb(38,"div",16),j.Tb(39,"a",2),j.Kc(40),j.Sb(),j.Kc(41," and "),j.Tb(42,"a",2),j.Kc(43),j.Sb(),j.Kc(44,". "),j.Sb(),j.Sb(),j.Ob(45,"br"),j.Tb(46,"div",14),j.Tb(47,"div",15),j.Tb(48,"strong"),j.Kc(49,"Public project?"),j.Sb(),j.Sb(),j.Tb(50,"div",16),j.Tb(51,"mat-radio-group",20),j.bc("ngModelChange",(function(e){return j.Ac(n),j.fc().currentProject.public=e})),j.Tb(52,"mat-radio-button",21),j.Kc(53,"Private"),j.Sb(),j.Tb(54,"mat-radio-button",22),j.Kc(55,"Public"),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Tb(56,"div",14),j.Tb(57,"div",23),j.Tb(58,"strong"),j.Kc(59,"Privilege role settings"),j.Sb(),j.Sb(),j.Tb(60,"div",24),j.Tb(61,"table",25),j.Tb(62,"tr"),j.Tb(63,"td"),j.Kc(64,"Owner"),j.Sb(),j.Tb(65,"td"),j.Tb(66,"button",26),j.bc("click",(function(){j.Ac(n);var e=j.fc();return e.openUserSelectDialog("the project owner","owner",!1,e.currentProject.owner)})),j.Kc(67),j.Sb(),j.Sb(),j.Sb(),j.Tb(68,"tr"),j.Tb(69,"td"),j.Kc(70,"Managers"),j.Sb(),j.Tb(71,"td"),j.Tb(72,"button",26),j.bc("click",(function(){j.Ac(n);var e=j.fc();return e.openUserSelectDialog("the project managers","managers",!0,e.currentProject.managers)})),j.Kc(73),j.Sb(),j.Sb(),j.Sb(),j.Tb(74,"tr"),j.Tb(75,"td"),j.Kc(76,"Task runners"),j.Sb(),j.Tb(77,"td"),j.Tb(78,"button",26),j.bc("click",(function(){j.Ac(n);var e=j.fc();return e.openUserSelectDialog("the task runners","runners",!0,e.currentProject.runners)})),j.Kc(79),j.Sb(),j.Sb(),j.Sb(),j.Tb(80,"tr"),j.Tb(81,"td"),j.Kc(82,"Viewers"),j.Sb(),j.Tb(83,"button",26),j.bc("click",(function(){j.Ac(n);var e=j.fc();return e.openUserSelectDialog("the project viewers","viewers",!0,e.currentProject.viewers)})),j.Kc(84),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Ob(85,"br"),j.Tb(86,"div",14),j.Tb(87,"div",27),j.Tb(88,"b"),j.Kc(89,"Packages"),j.Sb(),j.Sb(),j.Ic(90,hr,2,0,"div",28),j.Ic(91,Ur,3,1,"div",29),j.Ic(92,Nr,7,0,"mat-card",30),j.Sb(),j.Ob(93,"br"),j.Sb(),j.Sb()}if(2&e){var i=j.fc();j.Ab(7),j.mc("hidden",i._viewControls.isEditing),j.Ab(1),j.Lc(null!=i.currentProject&&i.currentProject.name?null==i.currentProject?null:i.currentProject.name:"None"),j.Ab(1),j.mc("ngIf",i._viewControls.isEditing),j.Ab(7),j.mc("hidden",i._viewControls.isEditing),j.Ab(1),j.Lc(null!=i.currentProject&&i.currentProject.desc?null==i.currentProject?null:i.currentProject.desc:"None"),j.Ab(1),j.mc("ngIf",i._viewControls.isEditing),j.Ab(7),j.Mc(" ",null==i.currentProject||null==i.currentProject.createdAt?null:i.currentProject.createdAt.calendar()," "),j.Ab(7),j.Mc(" ",null==i.currentProject||null==i.currentProject.updatedAt?null:i.currentProject.updatedAt.calendar()," "),j.Ab(7),j.mc("routerLink",j.qc(23,Dr,i.currentProject.id)),j.Ab(1),j.Mc("",null==i.currentProject?null:i.currentProject.dataFileNumber," data files"),j.Ab(2),j.mc("routerLink",j.qc(25,zr,i.currentProject.id)),j.Ab(1),j.Mc("",null==i.currentProject?null:i.currentProject.resultNumber," results"),j.Ab(8),j.mc("ngModel",i.currentProject.public)("disabled",!i._viewControls.isEditing),j.Ab(1),j.mc("value",!1),j.Ab(2),j.mc("value",!0),j.Ab(13),j.Lc(i.currentProject.owner.name?i.currentProject.owner.name:"unset"),j.Ab(6),j.Lc(null==i.currentProject.managers?null:i.currentProject.managers.length),j.Ab(6),j.Lc(null==i.currentProject.runners?null:i.currentProject.runners.length),j.Ab(5),j.Lc(null==i.currentProject.viewers?null:i.currentProject.viewers.length),j.Ab(6),j.mc("ngIf",0===i.currentProject.packages.length),j.Ab(1),j.mc("ngIf",i.currentProject.packages.length>0&&i.packageSheetNames.length>0),j.Ab(1),j.mc("ngIf",i._viewControls.isEditing&&i.currentProject.packages.length<=10)}}function Br(e,t){1&e&&j.Ob(0,"i",88)}function Wr(e,t){1&e&&j.Ob(0,"i",89)}var $r=function(e,t){return{"fa-edit":e,"fa-save":t}};function Hr(e,t){if(1&e){var n=j.Ub();j.Rb(0),j.Tb(1,"a",79),j.bc("click",(function(){return j.Ac(n),j.fc(2).onSave()})),j.Ob(2,"i",90),j.Tb(3,"span",86),j.Kc(4),j.Sb(),j.Tb(5,"span",83),j.Kc(6,"\u276f"),j.Sb(),j.Sb(),j.Ob(7,"br"),j.Qb()}if(2&e){var i=j.fc(2);j.Ab(1),j.Eb("active",i._viewControls.isEditing),j.Ab(1),j.mc("ngClass",j.rc(6,$r,!i._viewControls.isEditing,i._viewControls.isEditing)),j.Ab(1),j.Eb("active",i._viewControls.isEditing||i.showRightButtonContent),j.Ab(1),j.Lc(i._viewControls.isEditing?"Click to save info":"Edit project info")}}var Vr=function(e){return["/project",e,"fileImport"]};function Qr(e,t){if(1&e&&(j.Rb(0),j.Tb(1,"a",84),j.Ob(2,"i",91),j.Tb(3,"span",86),j.Kc(4,"File Import"),j.Sb(),j.Tb(5,"span",83),j.Kc(6,"\u276f"),j.Sb(),j.Sb(),j.Ob(7,"br"),j.Qb()),2&e){var n=j.fc(2);j.Ab(1),j.mc("routerLink",j.qc(3,Vr,n.currentProject.id)),j.Ab(2),j.Eb("active",n.showRightButtonContent)}}var Yr=function(e){return["/project",e,"result","creation"]};function Gr(e,t){if(1&e&&(j.Rb(0),j.Tb(1,"a",84),j.Ob(2,"i",92),j.Tb(3,"span",86),j.Kc(4,"Execute tasks"),j.Sb(),j.Tb(5,"span",83),j.Kc(6,"\u276f"),j.Sb(),j.Sb(),j.Ob(7,"br"),j.Qb()),2&e){var n=j.fc(2);j.Ab(1),j.mc("routerLink",j.qc(3,Yr,n.currentProject.id)),j.Ab(2),j.Eb("active",n.showRightButtonContent)}}function Xr(e,t){if(1&e){var n=j.Ub();j.Rb(0),j.Tb(1,"a",79),j.bc("click",(function(){return j.Ac(n),j.fc(2).deleteProjectDialog()})),j.Ob(2,"i",93),j.Tb(3,"span",86),j.Kc(4,"Delete"),j.Sb(),j.Tb(5,"span",83),j.Kc(6,"\u276f"),j.Sb(),j.Sb(),j.Ob(7,"br"),j.Qb()}if(2&e){var i=j.fc(2);j.Ab(3),j.Eb("active",i.showRightButtonContent)}}function Jr(e,t){if(1&e){var n=j.Ub();j.Tb(0,"div",78),j.Tb(1,"a",79),j.bc("click",(function(){j.Ac(n);var e=j.fc();return e.showRightButtonContent=!e.showRightButtonContent})),j.Ic(2,Br,1,0,"i",80),j.Ic(3,Wr,1,0,"i",81),j.Tb(4,"span",82),j.Kc(5,"MENU"),j.Sb(),j.Tb(6,"span",83),j.Kc(7,"\u276f"),j.Sb(),j.Sb(),j.Ob(8,"br"),j.Ic(9,Hr,8,9,"ng-container",5),j.Tb(10,"a",84),j.Ob(11,"i",85),j.Tb(12,"span",86),j.Kc(13,"Data files"),j.Sb(),j.Tb(14,"span",83),j.Kc(15,"\u276f"),j.Sb(),j.Sb(),j.Ob(16,"br"),j.Tb(17,"a",84),j.Ob(18,"i",87),j.Tb(19,"span",86),j.Kc(20,"Results"),j.Sb(),j.Tb(21,"span",83),j.Kc(22,"\u276f"),j.Sb(),j.Sb(),j.Ob(23,"br"),j.Ic(24,Qr,8,5,"ng-container",5),j.Ic(25,Gr,8,5,"ng-container",5),j.Ic(26,Xr,8,2,"ng-container",5),j.Sb()}if(2&e){var i=j.fc();j.mc("@rightButtonState",i.showRightButtonContent?"active":"inactive"),j.Ab(2),j.mc("ngIf",i.showRightButtonContent),j.Ab(1),j.mc("ngIf",!i.showRightButtonContent),j.Ab(1),j.Eb("active",i.showRightButtonContent),j.Ab(5),j.mc("ngIf",i.currentProject.privilege.canEdit),j.Ab(1),j.mc("routerLink",j.qc(15,Dr,i.currentProject.id)),j.Ab(2),j.Eb("active",i.showRightButtonContent),j.Ab(5),j.mc("routerLink",j.qc(17,zr,i.currentProject.id)),j.Ab(2),j.Eb("active",i.showRightButtonContent),j.Ab(5),j.mc("ngIf",i.currentProject.privilege.canAddFile),j.Ab(1),j.mc("ngIf",i.currentProject.privilege.canRun),j.Ab(1),j.mc("ngIf",i.currentProject.privilege.canDelete)}}var Zr=function(){return["/home"]},ec=function(){return["/project/list"]};function tc(e,t){1&e&&(j.Tb(0,"div",18),j.Tb(1,"div",28),j.Ob(2,"i",29),j.Kc(3,"Your account hasn't been activated as a Normal User, please contact the System Root."),j.Sb(),j.Sb())}function nc(e,t){1&e&&(j.Tb(0,"b"),j.Kc(1,"*Require "),j.Tb(2,"u"),j.Kc(3,"Normal User"),j.Sb(),j.Sb())}function ic(e,t){1&e&&(j.Tb(0,"b"),j.Kc(1,"*Require "),j.Tb(2,"u"),j.Kc(3,"Normal User"),j.Sb(),j.Sb())}function rc(e,t){1&e&&(j.Tb(0,"b"),j.Kc(1,"*Require "),j.Tb(2,"u"),j.Kc(3,"Normal User"),j.Sb(),j.Sb())}var cc=function(){return["/project/create"]},ac=function(){return["/project/list"]};function sc(e,t){1&e&&(j.Tb(0,"span",30),j.Kc(1,"If you don't know where to start, you may "),j.Tb(2,"a",2),j.Kc(3,"create a new project"),j.Sb(),j.Kc(4," or select a project from "),j.Tb(5,"a",2),j.Kc(6,"the project lists"),j.Sb(),j.Kc(7,"."),j.Sb()),2&e&&(j.Ab(2),j.mc("routerLink",j.pc(2,cc)),j.Ab(3),j.mc("routerLink",j.pc(3,ac)))}var oc,lc,uc,bc,fc,dc=function(){return["/home"]},pc=function(){return["/project/quick-start"]},hc=function(){return["/account/profile"]},mc=function(){return["/result/activities"]},gc=function(e){return["/project",e,"fileImport"]},vc=function(e){return["/project",e,"result","creation"]},Sc=function(e){return["/project",e,"dataFile","list"]},Tc=function(e){return["/project",e,"result","list"]},yc=function(){return["/page"]},kc=function(e){return{project:e}},Ic=M.g.forChild([{path:"",pathMatch:"full",redirectTo:"list"},{path:"create",component:He,data:{path:"project/create"},canActivate:[ir.a]},{path:":pid/info",component:(lc=function(){function e(t,n,i,r,c,a,s,o,l){_classCallCheck(this,e),this.router=t,this.route=n,this.projectService=r,this.infoService=c,this.dialog=a,this.systemService=s,this.accountService=o,this.taskService=l,this._subs=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.dataFileCardMode="card",this._viewControls={isDataFileDeleting:!1,isResultDeleting:!1,dataFileViewMode:"table",resultViewMode:"table",isEditing:!1,isLoading:!0,isProjectDeleting:!1,isHideDataFiles:!1,isHideResults:!1,confirmDelete:"",showPackageInfo:!1},this.packageSheetNames=[],this.showRightButtonContent=!1,this._subs.push(this.accountService.currentUser$.subscribe((function(t){t&&t.isLoggedIn&&(e.currentUser=t)}))),this._subs.push(this.systemService.sysInfo$.subscribe((function(t){t&&(e.recaptchaKey=t.reCaptchaSiteKey)}))),this._subs.push(this.projectService.currentProject$.subscribe((function(t){t&&(e.currentProject=t,t.packages&&(e.currentPackages=t.packages),e._viewControls.isLoading=!1)}))),this.taskService.packageList$.subscribe((function(t){e.packageLists={},e.packageSheetNames=[],t.forEach((function(t){var n=t.sheetName||"Internal Package List";e.packageLists[n]||(e.packageLists[n]=[]),e.packageLists[n].push(t)})),e.packageSheetNames=Object.keys(e.packageLists),e.packageSheetNames=Object(G.a)(e.packageSheetNames);var n,i=_createForOfIteratorHelper(e.packageSheetNames);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.packageLists[r]=Object(G.a)(e.packageLists[r],[function(e){return e.name}],["asc"])}}catch(c){i.e(c)}finally{i.f()}})),this.route.queryParamMap.subscribe((function(t){e._viewControls.isEditing="1"===t.get("edit")})),this.route.paramMap.subscribe((function(t){var n=t.get("pid");e.projectService.setCurrentProject(n)})),this.taskService.loadPackages()}},{key:"onProjectChange",value:function(e){this.currentProject=e}},{key:"setStatusCSS",value:function(e){var t={"fa-circle-o-notch":!1,"fa-spin":!1,"fa-hourglass-half":!1,"fa-check":!1,"fa-times":!1};switch(e){case 0:t["fa-hourglass-half"]=!0;break;case 1:t["fa-circle-o-notch"]=!0,t["fa-spin"]=!0;break;case 2:t["fa-check"]=!0;break;case 3:t["fa-times"]=!0}return t}},{key:"refresh",value:function(){return this.currentProject?this.projectService.setCurrentProject(this.currentProject.id,!0):""}},{key:"goToFileUploadPage",value:function(){this.router.navigate(["/project",this.currentProject.id,"fileImport"])}},{key:"trackByDataFile",value:function(e,t){return t.id}},{key:"goToNewResultPage",value:function(){this.router.navigate(["/project",this.currentProject.id,"result","creation"])}},{key:"onFocusedDataFile",value:function(e){this.focusedDataFile=e}},{key:"onFocusedResult",value:function(e){this.focusedResult=e}},{key:"gotoDataFile",value:function(e,t){return this.router.navigate(["/dataFile",e.id,"info"],t?{queryParams:{edit:1}}:{})}},{key:"gotoResult",value:function(e,t){return this.router.navigate(["/result",e.id,"info"],t?{queryParams:{edit:1}}:{})}},{key:"deleteProject",value:function(e){var t=this;this._subs.push(this.projectService.removeProject(this.currentProject).subscribe((function(e){return e.isError?"":t.router.navigate(["/project/list"])})))}},{key:"deleteProjectDialog",value:function(){var e=this,t=this.dialog.open(rr.a,{disableClose:!1});t.componentInstance.setOptions({title:'<h4 class="modal-title text-danger" id="myModalLabel"> Are you sure you want to delete the project\n        <strong>'.concat(this.currentProject.name,"</strong>?</h4>"),desc:'<span class="text-danger">This will delete the project, name: <b>'.concat(this.currentProject.name,"</b>,\n         and all the associated results and data files.<br>This cannot be undone.\n         Make sure this is something you really want to do!</span><br>"),confirmWord:"Delete"}),t.afterClosed().subscribe((function(t){return t?e.deleteProject(t):""}))}},{key:"onSave",value:function(){var e=this;if(this._viewControls.isEditing){this._viewControls.isEditing=!1;var t=this.projectService.updateProjectInfo(this.currentProject,this.currentProject.packages.map((function(e){return e.id}))).subscribe((function(n){n.isError||e.projectService.setCurrentProject(n.success.id),t.unsubscribe()}))}else this._viewControls.isEditing=!0}},{key:"openUserSelectDialog",value:function(e,t,n,i){var r=this,c=this.dialog.open(cr.a,{disableClose:!1,width:"95%",height:"95%"});n||(i=i&&i.id?[i]:[]);var a=this.currentProject.privilege,s=a.canSetMember&&!(("owner"===t||"managers"===t)&&a.isManager);c.componentInstance.setOptions({scope:e,isMultiple:n,canEdit:s,userList:i,authField:"bdp",currentUser:this.currentUser}),c.afterClosed().subscribe((function(e){if(s&&e&&e.length>0)var n=r.projectService.setProjectMembers(r.currentProject.id,t,e).subscribe((function(){return n.unsubscribe()}))}))}},{key:"drop",value:function(e){Object(C.d)(this.currentProject.packages,e.previousIndex,e.currentIndex)}},{key:"movePkgUp",value:function(e){if(!(e<1)){var t=this.currentProject.packages.splice(e,1)[0];console.log(t),this.currentProject.packages.splice(e-1,0,t)}}},{key:"movePkgDown",value:function(e){if(!(e>=this.currentProject.packages.length-1)){var t=this.currentProject.packages.splice(e,1)[0];this.currentProject.packages.splice(e+1,0,t)}}},{key:"removePkg",value:function(e){this.currentProject.packages.splice(e,1)}},{key:"onClickPackageSelector",value:function(){var e=this;this.dialog.open(Y,{disableClose:!1,data:{packageLists:this.packageLists,packageSheetNames:this.packageSheetNames,selectedPackages:this.currentProject.packages}}).afterClosed().subscribe((function(t){e.currentProject.packages.push(t)}))}},{key:"ngOnDestroy",value:function(){this._subs.map((function(e){return e.unsubscribe?e.unsubscribe():""}))}}]),e}(),lc.\u0275fac=function(e){return new(e||lc)(j.Nb(M.c),j.Nb(M.a),j.Nb(ar.b),j.Nb(X.a),j.Nb(sr.a),j.Nb(E.b),j.Nb(Z.a),j.Nb(ee.a),j.Nb(J.a))},lc.\u0275cmp=j.Hb({type:lc,selectors:[["project-info"]],decls:17,vars:9,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[4,"ngIf"],["class","container-fluid",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"fas","fa-circle-notch","fa-fw","fa-spin","fa-lg"],[1,"container-fluid"],[2,"font-size","14px"],[1,"row"],[1,"col-md-2"],[1,"col-md-9"],[2,"text-indent","36px","width","100%",3,"hidden"],["style","width: 100%;",4,"ngIf"],[2,"text-indent","36px","width","100%","word-break","break-all",3,"hidden"],[3,"ngModel","disabled","ngModelChange"],[1,"ml-2",3,"value"],[1,"ml-5",3,"value"],[1,"col-12","my-3"],[1,"col-12"],[1,"ml-5"],["mat-button","",3,"click"],[1,"col-lg-3"],["class","col-lg-9",4,"ngIf"],["class","col-12",4,"ngIf"],["class","col-12","class","link viewable","style","height: auto; width: 100%;",3,"click",4,"ngIf"],[2,"width","100%"],["matInput","","type","text","maxlength","40","size","40","placeholder","The subset name (length must be smaller or equal than 40 characters)",3,"ngModel","ngModelChange"],["matInput","","placeholder","Say something about this project. (max length: 160 characters)","maxlength","160","rows","3",3,"ngModel","ngModelChange"],[1,"col-lg-9"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",3,"cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDrag","",3,"cdkDragDisabled"],["class","ml-1 my-2","style","height: auto",4,"ngIf"],[1,"ml-1","my-2",2,"height","auto"],["mat-card-avatar",""],["class","fas fa-unlock fa-fw fa-2x",4,"ngIf"],["class","ml-3","style","position: absolute; top: 2px; right: 5px; font-size: 14px;",4,"ngIf"],["class","badge badge-warning m-3",4,"ngIf"],["class","m-3 badge badge-primary",4,"ngFor","ngForOf"],[2,"text-align","left"],[1,"small","ml-3",2,"font-size","12pt","margin","5px 5px"],[1,"fas","fa-user-circle","text-muted","ml-5","mr-2"],[1,"text-muted"],["class","text-muted",4,"ngIf"],[2,"text-align","right"],[1,"small","text-mute",2,"font-size","14pt","margin","5px 5px"],[3,"ngSwitch"],["class","badge badge-danger",4,"ngSwitchCase"],["class","badge badge-warning",4,"ngSwitchCase"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-default",4,"ngSwitchCase"],["class","fas fa-cube fa-fw fa-2x",4,"ngIf"],["class","fas fa-lock fa-fw fa-2x",4,"ngIf"],[1,"fas","fa-cube","fa-fw","fa-2x"],[1,"fas","fa-lock","fa-fw","fa-2x"],[1,"fas","fa-unlock","fa-fw","fa-2x"],[1,"ml-3",2,"position","absolute","top","2px","right","5px","font-size","14px"],[1,"badge","badge-warning","m-3"],[1,"m-3","badge","badge-primary"],["mat-button","","color","primary","style","min-width: 1%;",3,"click",4,"ngIf"],["style","min-width: 1%;","mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","accent",2,"min-width","1%",3,"click"],[1,"fas","fa-times","fa-fw"],["mat-button","","color","primary",2,"min-width","1%",3,"click"],[1,"fas","fa-arrow-up","fa-fw"],[1,"fas","fa-arrow-down","fa-fw"],[1,"badge","badge-danger"],[1,"badge","badge-warning"],[1,"badge","badge-success"],[1,"badge","badge-default"],[1,"link","viewable",2,"height","auto","width","100%",3,"click"],[1,"far","fa-plus-square","fa-fw","fa-2x"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ml-2"],[1,"chi-rbtn-arrow"],[1,"chi-rbtn",3,"routerLink"],[1,"far","fa-file","fa-fw"],[1,"chi-rbtn-content"],[1,"far","fa-folder-open","fa-fw"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],[1,"far","fa-fw",3,"ngClass"],[1,"fa","fa-upload","fa-fw"],[1,"fa","fa-play","fa-fw"],[1,"far","fa-trash-alt","fa-fw"]],template:function(e,t){1&e&&(j.Tb(0,"ol",0),j.Tb(1,"li",1),j.Tb(2,"a",2),j.Kc(3,"Home"),j.Sb(),j.Sb(),j.Tb(4,"li",1),j.Tb(5,"a",2),j.Kc(6,"Project List"),j.Sb(),j.Sb(),j.Ic(7,ur,6,7,"li",3),j.Ic(8,br,2,0,"li",3),j.Sb(),j.Tb(9,"div",4),j.Tb(10,"h3"),j.Kc(11,"Project information"),j.Sb(),j.Ob(12,"br"),j.Ob(13,"br"),j.Ic(14,fr,3,0,"div",5),j.Ic(15,qr,94,27,"div",6),j.Sb(),j.Ic(16,Jr,27,19,"div",7)),2&e&&(j.Ab(2),j.mc("routerLink",j.pc(7,Zr)),j.Ab(3),j.mc("routerLink",j.pc(8,ec)),j.Ab(2),j.mc("ngIf",t.currentProject),j.Ab(1),j.mc("ngIf",!t.currentProject),j.Ab(6),j.mc("ngIf",t._viewControls.isLoading),j.Ab(1),j.mc("ngIf",!t._viewControls.isLoading&&void 0!==t.currentProject),j.Ab(1),j.mc("ngIf",t.currentProject))},directives:[M.f,s.n,w.b,o.i,o.l,w.a,u.b,F.b,g.a,o.b,o.e,C.b,s.m,C.a,f.a,f.f,f.c,f.j,f.i,f.d,f.e,s.p,s.q,f.b,s.l],pipes:[te.a],styles:["h3[_ngcontent-%COMP%]{font-style:italic;font-size:27px;border-bottom:1px solid #b4b4b4;padding-bottom:0;display:inline-block;margin:0}.projectTitle[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;padding-right:150px;font-size:18px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:1px}.subsetCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);min-height:80px;background-color:hsla(0,0%,100%,.5);padding:10px;margin:10px 0;height:150px;overflow:hidden;text-overflow:ellipsis}.viewable[_ngcontent-%COMP%]:hover{background-color:#fff3cd;border-color:#ffeeba;box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}"],data:{animation:[Ve.a]}}),lc),data:{path:"project/info"},canActivate:[ir.a]},{path:":pid/fileImport",component:St,data:{path:"project/import"},canActivate:[ir.a]},{path:"list",component:nr,data:{path:"project/list"},canActivate:[ir.a]},{path:":pid/result/creation",component:Ci,data:{path:"project/resultcreate"},canActivate:[ir.a]},{path:"quick-start",component:(oc=function(){function e(t,n,i){_classCallCheck(this,e),this.systemService=t,this.projectService=n,this.accountService=i,this._subs=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this._subs.push(this.projectService.currentProject$.subscribe((function(t){return e.currentProject=t}))),this._subs.push(this.accountService.currentUser$.subscribe((function(t){return e.currentUser=t})))}},{key:"ngOnDestroy",value:function(){this._subs.map((function(e){return e.unsubscribe()}))}}]),e}(),oc.\u0275fac=function(e){return new(e||oc)(j.Nb(Z.a),j.Nb(X.a),j.Nb(ee.a))},oc.\u0275cmp=j.Hb({type:oc,selectors:[["quick-start"]],decls:89,vars:84,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"bdp-main-container"],[1,"chi-header"],[1,"row"],["class","col-12",4,"ngIf"],[1,"col-md-6","col-lg-4","col-xl-3","my-3"],[1,"quick-card","link","p-4",3,"routerLink"],[1,"far","fa-address-card","fa-3x"],[1,"text-muted","text-justify","px-3","desc"],[1,"far","fa-plus-square","fa-3x"],[4,"ngIf"],[1,"fas","fa-th-list","fa-3x"],[1,"fas","fa-history","fa-3x"],[1,"col-12"],[1,"px-3","py-2"],["class","px-5",4,"ngIf"],[1,"quick-card","p-4",3,"routerLink"],[1,"fas","fa-upload","fa-3x"],[1,"fas","fa-play","fa-3x"],[1,"fas","fa-file","fa-3x"],[1,"fas","fa-folder-open","fa-3x"],[1,"quick-card","link","p-4",3,"routerLink","queryParams"],[1,"fas","fa-scroll","fa-3x"],[1,"alert","alert-danger","m-3"],[1,"fas","fa-exclamation-triangle","fa-fw","mr-2"],[1,"px-5"]],template:function(e,t){1&e&&(j.Tb(0,"ol",0),j.Tb(1,"li",1),j.Tb(2,"a",2),j.Kc(3,"Home"),j.Sb(),j.Sb(),j.Tb(4,"li",3),j.Tb(5,"a",2),j.Kc(6," Quick Start"),j.Sb(),j.Tb(7,"a",4),j.Ob(8,"i",5),j.Sb(),j.Sb(),j.Sb(),j.Tb(9,"div",6),j.Tb(10,"h3",7),j.Kc(11,"Quick Start"),j.Sb(),j.Tb(12,"div",8),j.Ic(13,tc,4,0,"div",9),j.Tb(14,"div",10),j.Tb(15,"div",11),j.Ob(16,"i",12),j.Tb(17,"h2"),j.Kc(18,"User profile"),j.Sb(),j.Tb(19,"span",13),j.Kc(20," You can change your display name here, so that the other users or System Root can recognize you. "),j.Sb(),j.Sb(),j.Sb(),j.Tb(21,"div",10),j.Tb(22,"div",11),j.Ob(23,"i",14),j.Tb(24,"h2"),j.Kc(25,"Create a Project"),j.Sb(),j.Ic(26,nc,4,0,"b",15),j.Tb(27,"span",13),j.Kc(28," To create a project, You need to specify data processing or analysis packages for that project. Then, all defined tasks/workflows of those packages can be used in the project. The project can be modified after project creation. "),j.Sb(),j.Sb(),j.Sb(),j.Tb(29,"div",10),j.Tb(30,"div",11),j.Ob(31,"i",16),j.Tb(32,"h2"),j.Kc(33,"View Projects"),j.Sb(),j.Ic(34,ic,4,0,"b",15),j.Tb(35,"span",13),j.Kc(36," View your own projects, other project that someone shared with you and public projects. "),j.Sb(),j.Sb(),j.Sb(),j.Tb(37,"div",10),j.Tb(38,"div",11),j.Ob(39,"i",17),j.Tb(40,"h2"),j.Kc(41,"Recent Activities"),j.Sb(),j.Ic(42,rc,4,0,"b",15),j.Tb(43,"span",13),j.Kc(44," All-related results of all projects are sorted by time and displayed here. The related results may be from your or shared projects. "),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Ob(45,"mat-divider"),j.Tb(46,"div",8),j.Tb(47,"div",18),j.Tb(48,"h2",19),j.Kc(49,"The following actions require you to select a project first."),j.Sb(),j.Ic(50,sc,8,4,"span",20),j.Sb(),j.Tb(51,"div",10),j.Tb(52,"div",21),j.Ob(53,"i",22),j.Tb(54,"h2"),j.Kc(55,"Import Files"),j.Sb(),j.Tb(56,"span",13),j.Kc(57," Once you have selected a project and you do have privileges to import files to that project. This will be DISABLED if you haven't selected a project or you have NO privileges. "),j.Sb(),j.Sb(),j.Sb(),j.Tb(58,"div",10),j.Tb(59,"div",11),j.Ob(60,"i",23),j.Tb(61,"h2"),j.Kc(62,"Execute Tasks"),j.Sb(),j.Tb(63,"span",13),j.Kc(64," To perform defined tasks or workflows of packages in the selected project. The packages need to be chosen for the project. You need to select a project first to execute tasks. "),j.Sb(),j.Sb(),j.Sb(),j.Tb(65,"div",10),j.Tb(66,"div",11),j.Ob(67,"i",24),j.Tb(68,"h2"),j.Kc(69,"View DataFiles"),j.Sb(),j.Tb(70,"span",13),j.Kc(71," All imported files and result outputs in this project can be found here. "),j.Sb(),j.Sb(),j.Sb(),j.Tb(72,"div",10),j.Tb(73,"div",11),j.Ob(74,"i",25),j.Tb(75,"h2"),j.Kc(76,"View Results"),j.Sb(),j.Tb(77,"span",13),j.Kc(78," All results of executed tasks in this project can be found here. This platform records all provenence of every task run: the input arguments, execution time and the output files. "),j.Sb(),j.Sb(),j.Sb(),j.Tb(79,"div",10),j.Tb(80,"div",26),j.Ob(81,"i",27),j.Tb(82,"h2"),j.Kc(83,"Project Pages"),j.Sb(),j.Tb(84,"span",13),j.Tb(85,"p"),j.Tb(86,"b"),j.Kc(87,"Page"),j.Sb(),j.Kc(88," is the customized web interface whic is developed by package builder. The Project Page may provide documentations as well as guide users to upload files and execute tasks. You can change the packages of this project to view the corresponding Page. If the developers of the packages did not provide the customized Pages, you may see the warning of page not found."),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Sb()),2&e&&(j.Ab(2),j.mc("routerLink",j.pc(66,dc)),j.Ab(3),j.mc("routerLink",j.pc(67,pc)),j.Ab(2),j.mc("routerLink",j.pc(68,pc)),j.Ab(6),j.mc("ngIf",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),j.Ab(2),j.mc("routerLink",j.pc(69,hc)),j.Ab(7),j.Eb("link",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2)("inactive",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2)("text-muted",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),j.mc("routerLink",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2?j.pc(70,cc):null),j.Ab(4),j.mc("ngIf",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),j.Ab(4),j.Eb("link",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2)("inactive",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2)("text-muted",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),j.mc("routerLink",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2?j.pc(71,ac):null),j.Ab(4),j.mc("ngIf",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),j.Ab(4),j.Eb("link",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2)("inactive",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2)("text-muted",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),j.mc("routerLink",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2?j.pc(72,mc):null),j.Ab(4),j.mc("ngIf",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),j.Ab(8),j.mc("ngIf",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2),j.Ab(2),j.Eb("link",t.currentProject&&t.currentProject.privilege.canAddFile)("inactive",!t.currentProject||!t.currentProject.privilege.canAddFile)("text-muted",!t.currentProject||!t.currentProject.privilege.canAddFile),j.mc("routerLink",t.currentProject&&t.currentProject.privilege.canAddFile?j.qc(73,gc,t.currentProject.id):null),j.Ab(7),j.Eb("link",t.currentProject&&t.currentProject.privilege.canRun)("inactive",!t.currentProject||!t.currentProject.privilege.canRun)("text-muted",!t.currentProject||!t.currentProject.privilege.canRun),j.mc("routerLink",t.currentProject&&t.currentProject.privilege.canRun?j.qc(75,vc,t.currentProject.id):null),j.Ab(7),j.Eb("link",t.currentProject&&t.currentProject.privilege.canRun)("inactive",!t.currentProject||!t.currentProject.privilege.canRun)("text-muted",!t.currentProject||!t.currentProject.privilege.canRun),j.mc("routerLink",t.currentProject&&t.currentProject.privilege.canRun?j.qc(77,Sc,t.currentProject.id):null),j.Ab(7),j.Eb("link",t.currentProject&&t.currentProject.privilege.canRun)("inactive",!t.currentProject||!t.currentProject.privilege.canRun)("text-muted",!t.currentProject||!t.currentProject.privilege.canRun),j.mc("routerLink",t.currentProject&&t.currentProject.privilege.canRun?j.qc(79,Tc,t.currentProject.id):null),j.Ab(7),j.Eb("link",t.currentProject&&t.currentProject.privilege.canRun)("inactive",!t.currentProject||!t.currentProject.privilege.canRun)("text-muted",!t.currentProject||!t.currentProject.privilege.canRun),j.mc("routerLink",t.currentProject&&t.currentProject.privilege.canRun?j.pc(81,yc):null)("queryParams",j.qc(82,kc,t.currentProject?t.currentProject.id:null)))},directives:[M.f,s.n,M.d,k.a],styles:[".quick-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;align-content:flex-start;height:100%}.quick-card[_ngcontent-%COMP%]:hover{background-color:rgba(204,229,254,.8)}.inactive.quick-card[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,91.4%,.8)}.quick-card.inactive[_ngcontent-%COMP%]{opacity:.8}.desc[_ngcontent-%COMP%]{min-height:180px}"]}),oc),data:{path:"quickstart"},canActivate:[ir.a]}]),wc=[],Ac=n("BBfw"),Cc=n("Bchi"),jc=n("LzwD"),Pc=((bc=function e(){_classCallCheck(this,e)}).\u0275mod=j.Lb({type:bc}),bc.\u0275inj=j.Kb({factory:function(e){return new(e||bc)},providers:[],imports:[[s.c,o.d,M.g,F.d,g.b]]}),bc),xc=((uc=function e(){_classCallCheck(this,e)}).\u0275mod=j.Lb({type:uc}),uc.\u0275inj=j.Kb({factory:function(e){return new(e||uc)},providers:[],imports:[[s.c,o.d,E.f,g.b,u.c,S.b]]}),uc),Oc=n("GQzp"),Kc=n("pkYj"),_c=((fc=function e(){_classCallCheck(this,e)}).\u0275mod=j.Lb({type:fc}),fc.\u0275inj=j.Kb({factory:function(e){return new(e||fc)},providers:[wc],imports:[[s.c,o.d,u.c,y.g,m.b,f.h,g.b,S.b,d.b,p.e,I.d,w.c,Cc.a,A.a,T.a,v.b,jc.a,b.c,l.b,h.b,k.b,Ac.a,Pc,xc,C.c,Oc.a,Kc.a,L,Ic]]}),fc)},CUlp:function(e,t,n){var i,r;"undefined"!=typeof window&&window,void 0===(r="function"==typeof(i=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],r=0;r<n.length;r++){var c=n[r];i&&i[c]&&(this.off(e,c),delete i[c]),c.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?i.call(t,n,t,e):i)||(e.exports=r)},Hy43:function(e,t,n){var i,r;!function(c,a){"use strict";i=[n("CUlp"),n("QK1G"),n("YVj6"),n("KK1e")],void 0===(r=(function(e,t,n,i){return function(e,t,n,i,r){var c=e.console,a=e.jQuery,s=function(){},o=0,l={};function u(e,t){var n=i.getQueryElement(e);if(n){this.element=n,a&&(this.$element=a(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t);var r=++o;this.element.outlayerGUID=r,l[r]=this,this._create(),this._getOption("initLayout")&&this.layout()}else c&&c.error("Bad element for "+this.constructor.namespace+": "+(n||e))}u.namespace="outlayer",u.Item=r,u.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var b=u.prototype;function f(e){function t(){e.apply(this,arguments)}return(t.prototype=Object.create(e.prototype)).constructor=t,t}i.extend(b,t.prototype),b.option=function(e){i.extend(this.options,e)},b._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},u.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},b._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},b.reloadItems=function(){this.items=this._itemize(this.element.children)},b._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,i=[],r=0;r<t.length;r++){var c=new n(t[r],this);i.push(c)}return i},b._filterFindItemElements=function(e){return i.filterFindElements(e,this.options.itemSelector)},b.getItemElements=function(){return this.items.map((function(e){return e.element}))},b.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant");this.layoutItems(this.items,void 0!==e?e:!this._isLayoutInited),this._isLayoutInited=!0},b._init=b.layout,b._resetLayout=function(){this.getSize()},b.getSize=function(){this.size=n(this.element)},b._getMeasurement=function(e,t){var i,r=this.options[e];r?("string"==typeof r?i=this.element.querySelector(r):r instanceof HTMLElement&&(i=r),this[e]=i?n(i)[t]:r):this[e]=0},b.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},b._getItemsForLayout=function(e){return e.filter((function(e){return!e.isIgnored}))},b._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var n=[];e.forEach((function(e){var i=this._getItemLayoutPosition(e);i.item=e,i.isInstant=t||e.isLayoutInstant,n.push(i)}),this),this._processLayoutQueue(n)}},b._getItemLayoutPosition=function(){return{x:0,y:0}},b._processLayoutQueue=function(e){this.updateStagger(),e.forEach((function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)}),this)},b.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),n=t&&t[1],i=t&&t[2];return n.length?(n=parseFloat(n))*(d[i]||1):0}(e),this.stagger;this.stagger=0},b._positionItem=function(e,t,n,i,r){i?e.goTo(t,n):(e.stagger(r*this.stagger),e.moveTo(t,n))},b._postLayout=function(){this.resizeContainer()},b.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},b._getContainerSize=s,b._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},b._emitCompleteOnItems=function(e,t){var n=this;function i(){n.dispatchEvent(e+"Complete",null,[t])}var r=t.length;if(t&&r){var c=0;t.forEach((function(t){t.once(e,a)}))}else i();function a(){++c==r&&i()}},b.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;if(this.emitEvent(e,i),a)if(this.$element=this.$element||a(this.element),t){var r=a.Event(t);r.type=e,this.$element.trigger(r,n)}else this.$element.trigger(e,n)},b.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},b.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},b.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},b.unstamp=function(e){(e=this._find(e))&&e.forEach((function(e){i.removeFrom(this.stamps,e),this.unignore(e)}),this)},b._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),i.makeArray(e)},b._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},b._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},b._manageStamp=s,b._getElementOffset=function(e){var t=e.getBoundingClientRect(),i=this._boundingRect,r=n(e);return{left:t.left-i.left-r.marginLeft,top:t.top-i.top-r.marginTop,right:i.right-t.right-r.marginRight,bottom:i.bottom-t.bottom-r.marginBottom}},b.handleEvent=i.handleEvent,b.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},b.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},b.onresize=function(){this.resize()},i.debounceMethod(u,"onresize",100),b.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},b.needsResizeLayout=function(){var e=n(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},b.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},b.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},b.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},b.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,n){e.stagger(n*t),e.reveal()}))}},b.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,n){e.stagger(n*t),e.hide()}))}},b.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},b.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},b.getItem=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.element==e)return n}},b.getItems=function(e){e=i.makeArray(e);var t=[];return e.forEach((function(e){var n=this.getItem(e);n&&t.push(n)}),this),t},b.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach((function(e){e.remove(),i.removeFrom(this.items,e)}),this)},b.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach((function(e){e.destroy()})),this.unbindResize(),delete l[this.element.outlayerGUID],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},u.data=function(e){var t=(e=i.getQueryElement(e))&&e.outlayerGUID;return t&&l[t]},u.create=function(e,t){var n=f(u);return n.defaults=i.extend({},u.defaults),i.extend(n.defaults,t),n.compatOptions=i.extend({},u.compatOptions),n.namespace=e,n.data=u.data,n.Item=f(r),i.htmlInit(n,e),a&&a.bridget&&a.bridget(e,n),n};var d={ms:1,s:1e3};return u.Item=r,u}(c,e,t,n,i)}).apply(t,i))||(e.exports=r)}(window)},KK1e:function(e,t,n){var i,r,c;window,r=[n("CUlp"),n("QK1G")],void 0===(c="function"==typeof(i=function(e,t){"use strict";var n=document.documentElement.style,i="string"==typeof n.transition?"transition":"WebkitTransition",r="string"==typeof n.transform?"transform":"WebkitTransform",c={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[i],a={transform:r,transition:i,transitionDuration:i+"Duration",transitionProperty:i+"Property",transitionDelay:i+"Delay"};function s(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var o=s.prototype=Object.create(e.prototype);o.constructor=s,o._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},o.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.getSize=function(){this.size=t(this.element)},o.css=function(e){var t=this.element.style;for(var n in e)t[a[n]||n]=e[n]},o.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=e[t?"left":"right"],r=e[n?"top":"bottom"],c=parseFloat(i),a=parseFloat(r),s=this.layout.size;-1!=i.indexOf("%")&&(c=c/100*s.width),-1!=r.indexOf("%")&&(a=a/100*s.height),c=isNaN(c)?0:c,a=isNaN(a)?0:a,a-=n?s.paddingTop:s.paddingBottom,this.position.x=c-=t?s.paddingLeft:s.paddingRight,this.position.y=a},o.layoutPosition=function(){var e=this.layout.size,t={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),r=n?"right":"left";t[n?"left":"right"]=this.getXValue(this.position.x+e[n?"paddingLeft":"paddingRight"]),t[r]="";var c=i?"bottom":"top";t[i?"top":"bottom"]=this.getYValue(this.position.y+e[i?"paddingTop":"paddingBottom"]),t[c]="",this.css(t),this.emitEvent("layout",[this])},o.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},o.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},o._transitionTo=function(e,t){this.getPosition();var n=this.position.x,i=this.position.y,r=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!r||this.isTransitioning){var c={};c.transform=this.getTranslate(e-n,t-i),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},o.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},o.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},o.moveTo=o._transitionTo,o.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},o._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},o.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);e.from&&this.css(e.from),this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var l="opacity,"+r.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}));o.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;this.css({transitionProperty:l,transitionDuration:e="number"==typeof e?e+"ms":e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(c,this,!1)}},o.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},o.onotransitionend=function(e){this.ontransitionend(e)};var u={"-webkit-transform":"transform"};o.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=u[e.propertyName]||e.propertyName;delete t.ingProperties[n],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd&&(t.onEnd[n].call(this),delete t.onEnd[n]),this.emitEvent("transitionEnd",[this])}},o.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(c,this,!1),this.isTransitioning=!1},o._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var b={transitionProperty:"",transitionDuration:"",transitionDelay:""};return o.removeTransitionStyles=function(){this.css(b)},o.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},o.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},o.remove=function(){i&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},o.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},o.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},o.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},o.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},o.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},o.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s})?i.apply(t,r):i)||(e.exports=c)},QK1G:function(e,t,n){var i,r;window,void 0===(r="function"==typeof(i=function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],i=n.length;function r(e){var n=getComputedStyle(e);return n||t("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var c,a=!1;return function t(s){if(function(){if(!a){a=!0;var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(n);var s=r(n);c=200==Math.round(e(s.width)),t.isBoxSizeOuter=c,i.removeChild(n)}}(),"string"==typeof s&&(s=document.querySelector(s)),s&&"object"==typeof s&&s.nodeType){var o=r(s);if("none"==o.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<i;t++)e[n[t]]=0;return e}();var l={};l.width=s.offsetWidth,l.height=s.offsetHeight;for(var u=l.isBorderBox="border-box"==o.boxSizing,b=0;b<i;b++){var f=n[b],d=parseFloat(o[f]);l[f]=isNaN(d)?0:d}var p=l.paddingLeft+l.paddingRight,h=l.paddingTop+l.paddingBottom,m=l.marginLeft+l.marginRight,g=l.marginTop+l.marginBottom,v=l.borderLeftWidth+l.borderRightWidth,S=l.borderTopWidth+l.borderBottomWidth,T=u&&c,y=e(o.width);!1!==y&&(l.width=y+(T?0:p+v));var k=e(o.height);return!1!==k&&(l.height=k+(T?0:h+S)),l.innerWidth=l.width-(p+v),l.innerHeight=l.height-(h+S),l.outerWidth=l.width+m,l.outerHeight=l.height+g,l}}})?i.call(t,n,t,e):i)||(e.exports=r)},YVj6:function(e,t,n){var i,r;!function(c,a){i=[n("x0Ue")],void 0===(r=(function(e){return function(e,t){"use strict";var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},i=Array.prototype.slice;n.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?i.call(e):[e]},n.removeFrom=function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},n.getParent=function(e,n){for(;e.parentNode&&e!=document.body;)if(t(e=e.parentNode,n))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,i){e=n.makeArray(e);var r=[];return e.forEach((function(e){if(e instanceof HTMLElement)if(i){t(e,i)&&r.push(e);for(var n=e.querySelectorAll(i),c=0;c<n.length;c++)r.push(n[c])}else r.push(e)})),r},n.debounceMethod=function(e,t,n){n=n||100;var i=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r];clearTimeout(e);var t=arguments,c=this;this[r]=setTimeout((function(){i.apply(c,t),delete c[r]}),n)}},n.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,n){return t+"-"+n})).toLowerCase()};var r=e.console;return n.htmlInit=function(t,i){n.docReady((function(){var c=n.toDashed(i),a="data-"+c,s=document.querySelectorAll("["+a+"]"),o=document.querySelectorAll(".js-"+c),l=n.makeArray(s).concat(n.makeArray(o)),u=a+"-options",b=e.jQuery;l.forEach((function(e){var n,c=e.getAttribute(a)||e.getAttribute(u);try{n=c&&JSON.parse(c)}catch(o){return void(r&&r.error("Error parsing "+a+" on "+e.className+": "+o))}var s=new t(e,n);b&&b.data(e,i,s)}))}))},n}(c,e)}).apply(t,i))||(e.exports=r)}(window)},hNNL:function(e,t,n){var i,r,c;window,r=[n("Hy43"),n("QK1G")],void 0===(c="function"==typeof(i=function(e,t){"use strict";var n=e.create("masonry");n.compatOptions.fitWidth="isFitWidth";var i=n.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,c=r/i,a=i-r%i;c=Math[a&&a<1?"round":"floor"](c),this.cols=Math.max(c,1)},i.getContainerWidth=function(){var e=this._getOption("fitWidth"),n=t(e?this.element.parentNode:this.element);this.containerWidth=n&&n.innerWidth},i._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,e),r={x:this.columnWidth*i.col,y:i.y},c=i.y+e.size.outerHeight,a=n+i.col,s=i.col;s<a;s++)this.colYs[s]=c;return r},i._getTopColPosition=function(e){var t=this._getTopColGroup(e),n=Math.min.apply(Math,t);return{col:t.indexOf(n),y:n}},i._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,i=0;i<n;i++)t[i]=this._getColGroupY(i,e);return t},i._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var n=this.colYs.slice(e,e+t);return Math.max.apply(Math,n)},i._getHorizontalColPosition=function(e,t){var n=this.horizontalColIndex%this.cols;return n=e>1&&n+e>this.cols?0:n,this.horizontalColIndex=t.size.outerWidth&&t.size.outerHeight?n+e:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,e)}},i._manageStamp=function(e){var n=t(e),i=this._getElementOffset(e),r=this._getOption("originLeft")?i.left:i.right,c=r+n.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var s=Math.floor(c/this.columnWidth);s-=c%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var o=(this._getOption("originTop")?i.top:i.bottom)+n.outerHeight,l=a;l<=s;l++)this.colYs[l]=Math.max(o,this.colYs[l])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},i._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},n})?i.apply(t,r):i)||(e.exports=c)},x0Ue:function(e,t,n){var i,r;!function(c,a){"use strict";void 0===(r="function"==typeof(i=a)?i.call(t,n,t,e):i)||(e.exports=r)}(window,(function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(t,n){return t[e](n)}}))}}]);