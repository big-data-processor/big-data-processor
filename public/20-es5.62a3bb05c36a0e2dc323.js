function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,r,i=!0,a=!1;return{s:function(){c=e[Symbol.iterator]()},n:function(){var e=c.next();return i=e.done,e},e:function(e){a=!0,r=e},f:function(){try{i||null==c.return||c.return()}finally{if(a)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"0k1G":function(e,t,n){"use strict";n.r(t),n.d(t,"ProjectModule",(function(){return vi}));var c=n("ofXK"),r=n("3Pt+"),i=n("/1cH"),a=n("bTqV"),s=n("jaxi"),o=n("Wp6s"),b=n("bSwM"),l=n("A5z7"),u=n("7EHt"),f=n("NFeN"),d=n("qFsG"),g=n("M9IT"),p=n("d3UM"),h=n("xHqg"),v=n("wZkO"),m=n("f0Cb"),T=n("MutI"),C=n("nNey"),k=n("5+WD"),U=n("tyNb"),P=n("0IaG"),w=n("fXoL"),y=n("kmnG"),I=n("FKr1");function L(e,t){if(1&e&&(w.Ub(0,"mat-option",12),w.Lc(1),w.Tb()),2&e){var n=w.gc().$implicit;w.nc("value",n),w.Cb(1),w.Mc(n)}}function j(e,t){if(1&e&&(w.Sb(0),w.Jc(1,L,2,2,"mat-option",11),w.Rb()),2&e){var n=t.$implicit,c=w.gc();w.Cb(1),w.nc("ngIf",c.packageLists[n]&&c.packageLists[n].length>0)}}function x(e,t){if(1&e&&(w.Ub(0,"mat-option",12),w.Lc(1),w.Tb()),2&e){var n=w.gc().$implicit;w.nc("value",n),w.Cb(1),w.Nc(" ",n.fullname," ")}}function S(e,t){if(1&e&&(w.Sb(0),w.Jc(1,x,2,2,"mat-option",11),w.Rb()),2&e){var n=t.$implicit,c=w.gc(2);w.Cb(1),w.nc("ngIf",n.scope.indexOf("utility")<0&&!c.existed(n))}}function J(e,t){if(1&e&&(w.Sb(0),w.Jc(1,S,2,1,"ng-container",4),w.Rb()),2&e){var n=w.gc();w.Cb(1),w.nc("ngForOf",n.packageLists[n.selectedSheetName])}}function F(e,t){1&e&&(w.Ub(0,"span",22),w.Lc(1,"Under development"),w.Tb())}function _(e,t){1&e&&(w.Ub(0,"span",23),w.Lc(1,"Experimenting"),w.Tb())}function M(e,t){1&e&&(w.Ub(0,"span",24),w.Lc(1,"Stable"),w.Tb())}function O(e,t){1&e&&(w.Ub(0,"span",25),w.Lc(1,"Deprecating"),w.Tb())}function R(e,t){if(1&e&&(w.Ub(0,"div",13),w.Ub(1,"div",14),w.Ub(2,"div",15),w.Ub(3,"h5"),w.Ub(4,"b"),w.Lc(5,"Name"),w.Tb(),w.Tb(),w.Lc(6),w.Ub(7,"h5"),w.Ub(8,"b"),w.Lc(9,"Version"),w.Tb(),w.Tb(),w.Lc(10),w.Ub(11,"h5"),w.Ub(12,"b"),w.Lc(13,"Desc"),w.Tb(),w.Tb(),w.Pb(14,"div",16),w.Ub(15,"h5"),w.Ub(16,"b"),w.Lc(17,"Author/Maintainer"),w.Tb(),w.Tb(),w.Lc(18),w.Ub(19,"h5"),w.Ub(20,"b"),w.Lc(21,"Contact"),w.Tb(),w.Tb(),w.Lc(22),w.Ub(23,"h5"),w.Ub(24,"b"),w.Lc(25,"Status"),w.Tb(),w.Tb(),w.Ub(26,"div",17),w.Jc(27,F,2,0,"span",18),w.Jc(28,_,2,0,"span",19),w.Jc(29,M,2,0,"span",20),w.Jc(30,O,2,0,"span",21),w.Tb(),w.Pb(31,"br"),w.Tb(),w.Tb(),w.Tb()),2&e){var n=w.gc();w.Cb(6),w.Nc("",n.selectedPackage.name," "),w.Cb(4),w.Nc("",n.selectedPackage.version," "),w.Cb(4),w.nc("innerHTML",n.selectedPackage.desc,w.Cc),w.Cb(4),w.Nc("",n.selectedPackage.author||"un-named"," "),w.Cb(4),w.Nc("",n.selectedPackage.email||"un-set"," "),w.Cb(4),w.nc("ngSwitch",n.selectedPackage.status),w.Cb(1),w.nc("ngSwitchCase",0),w.Cb(1),w.nc("ngSwitchCase",1),w.Cb(1),w.nc("ngSwitchCase",2),w.Cb(1),w.nc("ngSwitchCase",3)}}var N,D=((N=function(){function e(t,n){_classCallCheck(this,e),this.dialogRef=t,this.data=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.packageSheetNames=this.data.packageSheetNames,this.packageLists=this.data.packageLists,this.selectedPackages=this.data.selectedPackages,this.packageSheetNames.length>0&&(this.selectedSheetName=this.packageSheetNames[0],this.setInitialSelectedPkg())}},{key:"selectedSheetNameChange",value:function(e){this.selectedSheetName=e,this.setInitialSelectedPkg()}},{key:"setInitialSelectedPkg",value:function(){if(Array.isArray(this.packageLists[this.selectedSheetName]))for(var e=0;e<this.packageLists[this.selectedSheetName].length;e++){var t=this.packageLists[this.selectedSheetName][e];if(t&&!this.existed(t)&&t.scope.indexOf("utility")<0){this.selectedPackage=t;break}}else this.selectedPackage=void 0}},{key:"existed",value:function(e){return e&&e.id&&this.selectedPackages.filter((function(t){return t&&t.id===e.id})).length>=1}},{key:"selectPackage",value:function(){this.dialogRef.close(this.selectedPackage)}}]),e}()).\u0275fac=function(e){return new(e||N)(w.Ob(P.g),w.Ob(P.a))},N.\u0275cmp=w.Ib({type:N,selectors:[["bdp-package-selector"]],decls:15,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[2,"width","350px"],["placeholder","Select a package list",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[2,"width","400px"],["placeholder","Select a package",3,"ngModel","ngModelChange"],[4,"ngIf"],["class","row",4,"ngIf"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[3,"value",4,"ngIf"],[3,"value"],[1,"row"],[1,"col-md-12"],[2,"border","1px solid black","padding","5px"],[3,"innerHTML"],[2,"font-size","12pt",3,"ngSwitch"],["class","badge badge-danger",4,"ngSwitchCase"],["class","badge badge-warning",4,"ngSwitchCase"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-secondary",4,"ngSwitchCase"],[1,"badge","badge-danger"],[1,"badge","badge-warning"],[1,"badge","badge-success"],[1,"badge","badge-secondary"]],template:function(e,t){1&e&&(w.Ub(0,"h1",0),w.Lc(1,"Select a package"),w.Tb(),w.Ub(2,"div",1),w.Ub(3,"mat-form-field",2),w.Ub(4,"mat-select",3),w.cc("ngModelChange",(function(e){return t.selectedSheetNameChange(e)})),w.Jc(5,j,2,1,"ng-container",4),w.Tb(),w.Tb(),w.Ub(6,"mat-form-field",5),w.Ub(7,"mat-select",6),w.cc("ngModelChange",(function(e){return t.selectedPackage=e})),w.Jc(8,J,2,1,"ng-container",7),w.Tb(),w.Tb(),w.Jc(9,R,32,10,"div",8),w.Tb(),w.Ub(10,"mat-dialog-actions"),w.Ub(11,"button",9),w.Lc(12,"Close"),w.Tb(),w.Ub(13,"button",10),w.cc("click",(function(){return t.selectPackage()})),w.Lc(14,"Choose"),w.Tb(),w.Tb()),2&e&&(w.Cb(4),w.nc("ngModel",t.selectedSheetName),w.Cb(1),w.nc("ngForOf",t.packageSheetNames),w.Cb(2),w.nc("ngModel",t.selectedPackage),w.Cb(1),w.nc("ngIf",t.selectedPackage),w.Cb(1),w.nc("ngIf",t.selectedPackage))},directives:[P.h,P.e,y.b,p.a,r.i,r.l,c.m,c.n,P.c,a.b,P.d,I.k,c.p,c.q],encapsulation:2}),N),q=n("+mqT"),B=n("c3AT"),V=n("i6c7"),A=n("YiK1"),$=n("flj8"),E=n("oBBY");function z(e,t){1&e&&w.Pb(0,"i",57)}function H(e,t){1&e&&w.Pb(0,"i",58)}function Y(e,t){if(1&e&&(w.Sb(0),w.Jc(1,z,1,0,"i",55),w.Jc(2,H,1,0,"i",56),w.Rb()),2&e){var n=w.gc(2).$implicit;w.Cb(1),w.nc("ngIf",null==n.privilege?null:n.privilege.canView),w.Cb(1),w.nc("ngIf",!(null!=n.privilege&&n.privilege.canView))}}function K(e,t){1&e&&w.Pb(0,"i",59)}function W(e,t){1&e&&(w.Ub(0,"span",23),w.Lc(1,"owner"),w.Tb())}function G(e,t){1&e&&(w.Ub(0,"span",23),w.Lc(1,"manager"),w.Tb())}function Q(e,t){1&e&&(w.Ub(0,"span",23),w.Lc(1," viewer"),w.Tb())}function X(e,t){1&e&&(w.Ub(0,"span",23),w.Lc(1," runner"),w.Tb())}function Z(e,t){if(1&e&&(w.Ub(0,"div",60),w.Jc(1,W,2,0,"span",47),w.Jc(2,G,2,0,"span",47),w.Jc(3,Q,2,0,"span",47),w.Jc(4,X,2,0,"span",47),w.Tb()),2&e){var n=w.gc(2).$implicit;w.Cb(1),w.nc("ngIf",n.privilege.isOwner),w.Cb(1),w.nc("ngIf",n.privilege.isManager),w.Cb(1),w.nc("ngIf",n.privilege.isViewer),w.Cb(1),w.nc("ngIf",n.privilege.isRunner)}}function ee(e,t){1&e&&(w.Ub(0,"div",60),w.Ub(1,"span",23),w.Lc(2,"public"),w.Tb(),w.Tb())}function te(e,t){1&e&&(w.Ub(0,"span",61),w.Lc(1,"main package"),w.Tb())}function ne(e,t){if(1&e&&(w.Ub(0,"span",62),w.Lc(1),w.Tb()),2&e){var n=t.$implicit;w.Cb(1),w.Mc(n)}}function ce(e,t){if(1&e){var n=w.Vb();w.Ub(0,"button",63),w.cc("click",(function(){w.Bc(n);var e=w.gc(2).index;return w.gc(2).movePkgUp(e)})),w.Pb(1,"i",64),w.Tb()}}function re(e,t){if(1&e){var n=w.Vb();w.Ub(0,"button",63),w.cc("click",(function(){w.Bc(n);var e=w.gc(2).index;return w.gc(2).movePkgDown(e)})),w.Pb(1,"i",65),w.Tb()}}function ie(e,t){1&e&&(w.Ub(0,"span",23),w.Lc(1," (You)"),w.Tb())}function ae(e,t){1&e&&(w.Ub(0,"span",66),w.Lc(1,"Under development"),w.Tb())}function se(e,t){1&e&&(w.Ub(0,"span",67),w.Lc(1,"Experimenting"),w.Tb())}function oe(e,t){1&e&&(w.Ub(0,"span",68),w.Lc(1,"Stable"),w.Tb())}function be(e,t){1&e&&(w.Ub(0,"span",69),w.Lc(1,"Out of date"),w.Tb())}function le(e,t){if(1&e){var n=w.Vb();w.Ub(0,"mat-card",33),w.Ub(1,"mat-card-header"),w.Ub(2,"div",34),w.Jc(3,Y,3,2,"ng-container",35),w.Jc(4,K,1,0,"i",36),w.Tb(),w.Ub(5,"mat-card-title"),w.Ub(6,"b"),w.Lc(7),w.Tb(),w.Tb(),w.Ub(8,"mat-card-subtitle"),w.Lc(9),w.hc(10,"htmlToPlainText"),w.Tb(),w.Jc(11,Z,5,4,"div",37),w.Jc(12,ee,3,0,"div",37),w.Tb(),w.Ub(13,"mat-card-content"),w.Jc(14,te,2,0,"span",38),w.Jc(15,ne,2,1,"span",39),w.Tb(),w.Ub(16,"mat-card-actions"),w.Jc(17,ce,2,0,"button",40),w.Jc(18,re,2,0,"button",41),w.Ub(19,"button",42),w.cc("click",(function(){w.Bc(n);var e=w.gc().index;return w.gc(2).removePkg(e)})),w.Pb(20,"i",43),w.Tb(),w.Tb(),w.Ub(21,"mat-card-footer",44),w.Ub(22,"div",45),w.Pb(23,"i",46),w.Ub(24,"span",23),w.Lc(25),w.Tb(),w.Jc(26,ie,2,0,"span",47),w.Tb(),w.Tb(),w.Ub(27,"mat-card-footer",48),w.Ub(28,"div",49),w.Sb(29,50),w.Jc(30,ae,2,0,"span",51),w.Jc(31,se,2,0,"span",52),w.Jc(32,oe,2,0,"span",53),w.Jc(33,be,2,0,"span",54),w.Rb(),w.Tb(),w.Tb(),w.Tb()}if(2&e){var c=w.gc(),r=c.$implicit,i=c.index,a=w.gc(2);w.Cb(3),w.nc("ngIf",!r.public),w.Cb(1),w.nc("ngIf",r.public),w.Cb(3),w.Mc(r.fullname),w.Cb(2),w.Nc(" ",w.ic(10,17,r.desc)," "),w.Cb(2),w.nc("ngIf",!r.public),w.Cb(1),w.nc("ngIf",r.public),w.Cb(2),w.nc("ngIf",0===i),w.Cb(1),w.nc("ngForOf",r.scope),w.Cb(2),w.nc("ngIf",0!==i),w.Cb(1),w.nc("ngIf",i<a.projectPackages.length-1),w.Cb(7),w.Mc(r.owner?r.owner.name:"unset"),w.Cb(1),w.nc("ngIf",(null==r.owner?null:r.owner.id)===(null==a.currentUser?null:a.currentUser.id)),w.Cb(3),w.nc("ngSwitch",r.status),w.Cb(1),w.nc("ngSwitchCase",0),w.Cb(1),w.nc("ngSwitchCase",1),w.Cb(1),w.nc("ngSwitchCase",2),w.Cb(1),w.nc("ngSwitchCase",3)}}function ue(e,t){if(1&e&&(w.Ub(0,"div",31),w.Jc(1,le,34,19,"mat-card",32),w.Tb()),2&e){var n=t.$implicit;w.Cb(1),w.nc("ngIf",n)}}function fe(e,t){if(1&e){var n=w.Vb();w.Ub(0,"mat-card",70),w.cc("click",(function(){return w.Bc(n),w.gc(2).onClickPackageSelector()})),w.Ub(1,"mat-card-header"),w.Ub(2,"div",34),w.Pb(3,"i",71),w.Tb(),w.Ub(4,"mat-card-title"),w.Ub(5,"b"),w.Lc(6,"Click to add a package"),w.Tb(),w.Tb(),w.Tb(),w.Tb()}}function de(e,t){1&e&&w.Pb(0,"i",74)}function ge(e,t){1&e&&w.Pb(0,"i",58)}function pe(e,t){if(1&e&&(w.Sb(0),w.Jc(1,de,1,0,"i",73),w.Jc(2,ge,1,0,"i",56),w.Rb()),2&e){var n=w.gc(2).$implicit;w.Cb(1),w.nc("ngIf",null==n.privilege?null:n.privilege.canView),w.Cb(1),w.nc("ngIf",!(null!=n.privilege&&n.privilege.canView))}}function he(e,t){1&e&&w.Pb(0,"i",59)}function ve(e,t){1&e&&(w.Ub(0,"span",23),w.Lc(1,"owner"),w.Tb())}function me(e,t){1&e&&(w.Ub(0,"span",23),w.Lc(1,"manager"),w.Tb())}function Te(e,t){1&e&&(w.Ub(0,"span",23),w.Lc(1," viewer"),w.Tb())}function Ce(e,t){1&e&&(w.Ub(0,"span",23),w.Lc(1," runner"),w.Tb())}function ke(e,t){if(1&e&&(w.Ub(0,"div",60),w.Jc(1,ve,2,0,"span",47),w.Jc(2,me,2,0,"span",47),w.Jc(3,Te,2,0,"span",47),w.Jc(4,Ce,2,0,"span",47),w.Tb()),2&e){var n=w.gc(2).$implicit;w.Cb(1),w.nc("ngIf",n.privilege.isOwner),w.Cb(1),w.nc("ngIf",n.privilege.isManager),w.Cb(1),w.nc("ngIf",n.privilege.isViewer),w.Cb(1),w.nc("ngIf",n.privilege.isRunner)}}function Ue(e,t){1&e&&(w.Ub(0,"div",60),w.Ub(1,"span",23),w.Lc(2,"public"),w.Tb(),w.Tb())}function Pe(e,t){1&e&&(w.Ub(0,"span",23),w.Lc(1," (You)"),w.Tb())}function we(e,t){1&e&&(w.Ub(0,"span",66),w.Lc(1,"Under development"),w.Tb())}function ye(e,t){1&e&&(w.Ub(0,"span",67),w.Lc(1,"Experimenting"),w.Tb())}function Ie(e,t){1&e&&(w.Ub(0,"span",68),w.Lc(1,"Stable"),w.Tb())}function Le(e,t){1&e&&(w.Ub(0,"span",69),w.Lc(1,"Out of date"),w.Tb())}function je(e,t){if(1&e&&(w.Ub(0,"mat-card",33),w.Ub(1,"mat-card-header"),w.Ub(2,"div",34),w.Jc(3,pe,3,2,"ng-container",35),w.Jc(4,he,1,0,"i",36),w.Tb(),w.Ub(5,"mat-card-title"),w.Ub(6,"b"),w.Lc(7),w.Tb(),w.Tb(),w.Ub(8,"mat-card-subtitle"),w.Lc(9),w.hc(10,"htmlToPlainText"),w.Tb(),w.Jc(11,ke,5,4,"div",37),w.Jc(12,Ue,3,0,"div",37),w.Tb(),w.Ub(13,"mat-card-footer",44),w.Ub(14,"div",45),w.Pb(15,"i",46),w.Ub(16,"span",23),w.Lc(17),w.Tb(),w.Jc(18,Pe,2,0,"span",47),w.Tb(),w.Tb(),w.Ub(19,"mat-card-footer",48),w.Ub(20,"div",49),w.Sb(21,50),w.Jc(22,we,2,0,"span",51),w.Jc(23,ye,2,0,"span",52),w.Jc(24,Ie,2,0,"span",53),w.Jc(25,Le,2,0,"span",54),w.Rb(),w.Tb(),w.Tb(),w.Tb()),2&e){var n=w.gc().$implicit,c=w.gc(2);w.Ic("background-color","Gainsboro"),w.Cb(3),w.nc("ngIf",!n.public),w.Cb(1),w.nc("ngIf",n.public),w.Cb(3),w.Mc(n.fullname),w.Cb(2),w.Nc(" ",w.ic(10,15,n.desc)," "),w.Cb(2),w.nc("ngIf",!n.public),w.Cb(1),w.nc("ngIf",n.public),w.Cb(5),w.Mc(n.owner?n.owner.name:"unset"),w.Cb(1),w.nc("ngIf",(null==n.owner?null:n.owner.id)===(null==c.currentUser?null:c.currentUser.id)),w.Cb(3),w.nc("ngSwitch",n.status),w.Cb(1),w.nc("ngSwitchCase",0),w.Cb(1),w.nc("ngSwitchCase",1),w.Cb(1),w.nc("ngSwitchCase",2),w.Cb(1),w.nc("ngSwitchCase",3)}}function xe(e,t){if(1&e&&(w.Sb(0),w.Jc(1,je,26,17,"mat-card",72),w.Rb()),2&e){var n=t.$implicit;w.Cb(1),w.nc("ngIf",n)}}function Se(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",11),w.Ub(1,"div",12),w.Ub(2,"div",13),w.Ub(3,"div",14),w.Ub(4,"h3"),w.Lc(5,"Name"),w.Tb(),w.Tb(),w.Ub(6,"div",15),w.Ub(7,"mat-form-field",16),w.Ub(8,"input",17,18),w.cc("ngModelChange",(function(e){return w.Bc(n),w.gc().projectName=e})),w.Tb(),w.Ub(10,"mat-hint",19),w.Lc(11),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Pb(12,"br"),w.Ub(13,"div",13),w.Ub(14,"div",14),w.Ub(15,"h3"),w.Lc(16,"Description"),w.Tb(),w.Tb(),w.Ub(17,"div",15),w.Ub(18,"mat-form-field",16),w.Ub(19,"textarea",20,21),w.cc("ngModelChange",(function(e){return w.Bc(n),w.gc().projectDesc=e})),w.Lc(21),w.Tb(),w.Ub(22,"mat-hint",19),w.Lc(23),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Pb(24,"br"),w.Ub(25,"div",13),w.Ub(26,"div",22),w.Ub(27,"h3"),w.Lc(28,"Packages for this project"),w.Tb(),w.Ub(29,"small",23),w.Lc(30,"The first package is the main package."),w.Tb(),w.Pb(31,"hr"),w.Ub(32,"div",24),w.cc("cdkDropListDropped",(function(e){return w.Bc(n),w.gc().drop(e)})),w.Jc(33,ue,2,1,"div",25),w.Tb(),w.Jc(34,fe,7,0,"mat-card",26),w.Tb(),w.Ub(35,"div",27),w.Ub(36,"h3"),w.Lc(37,"Utility packages"),w.Tb(),w.Ub(38,"small",23),w.Lc(39,"Utility packages were defined by the admin."),w.Tb(),w.Pb(40,"hr"),w.Jc(41,xe,2,1,"ng-container",28),w.Tb(),w.Tb(),w.Pb(42,"br"),w.Ub(43,"div",13),w.Ub(44,"div",29),w.Ub(45,"button",30),w.cc("click",(function(e){return w.Bc(n),w.gc().onClickCreateProject(e)})),w.Lc(46,"Create"),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb()}if(2&e){var c=w.yc(9),r=w.yc(20),i=w.gc();w.Cb(8),w.nc("ngModel",i.projectName),w.Cb(3),w.Nc("",c.value.length," / 40"),w.Cb(8),w.nc("ngModel",i.projectDesc),w.Cb(2),w.Mc(i.projectDesc),w.Cb(2),w.Nc("",r.value.length," / 160"),w.Cb(10),w.nc("ngForOf",i.projectPackages),w.Cb(1),w.nc("ngIf",i.projectPackages.length<=10),w.Cb(7),w.nc("ngForOf",i.utilityPackages),w.Cb(4),w.nc("disabled",!i.projectName)}}var Je,Fe=function(){return["/home"]},_e=function(){return["/project/list"]},Me=function(){return["/project/create"]},Oe=((Je=function(){function e(t,n,c,r,i,a){_classCallCheck(this,e),this.projectService=t,this.router=n,this.dialog=c,this.taskService=r,this.systemService=i,this.accountService=a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._subs=[],this.projectName="",this.projectDesc="",this.projectPackageID="",this.projectPackages=[],this.utilityPackages=[],this.viewControls={isSubmitting:!1},this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.taskService.packageList$.subscribe((function(t){e.packageLists={},e.packageSheetNames=[],e.utilityPackages=[],t.forEach((function(t){var n=t.sheetName||"Internal Package List";e.packageLists[n]||(e.packageLists[n]=[]),t.privilege.canRun&&e.packageLists[n].push(t),t.scope.indexOf("utility")>=0&&e.utilityPackages.push(t)})),e.packageSheetNames=Object.keys(e.packageLists),e.packageSheetNames=Object(q.a)(e.packageSheetNames);var n,c=_createForOfIteratorHelper(e.packageSheetNames);try{for(c.s();!(n=c.n()).done;){var r=n.value;e.packageLists[r]=Object(q.a)(e.packageLists[r],[function(e){return e.name}],["asc"])}}catch(i){c.e(i)}finally{c.f()}})),this._subs.push(this.accountService.currentUser$.subscribe((function(t){return t&&t.isLoggedIn?e.currentUser=t:""}))),this.taskService.loadPackages()}},{key:"onClickPackageSelector",value:function(){var e=this;this.dialog.open(D,{disableClose:!1,data:{packageLists:this.packageLists,packageSheetNames:this.packageSheetNames,selectedPackages:this.projectPackages}}).afterClosed().subscribe((function(t){e.projectPackages.push(t)}))}},{key:"movePkgUp",value:function(e){if(!(e<1)){var t=this.projectPackages.splice(e,1)[0];console.log(t),this.projectPackages.splice(e-1,0,t)}}},{key:"movePkgDown",value:function(e){if(!(e>=this.projectPackages.length-1)){var t=this.projectPackages.splice(e,1)[0];this.projectPackages.splice(e+1,0,t)}}},{key:"removePkg",value:function(e){this.projectPackages.splice(e,1)}},{key:"drop",value:function(e){Object(k.d)(this.projectPackages,e.previousIndex,e.currentIndex)}},{key:"onClickCreateProject",value:function(e){var t=this;this.viewControls.isSubmitting=!0,this._subs.push(this.projectService.createProject(this.projectName,this.projectDesc,this.projectPackages.map((function(e){return e.id}))).subscribe((function(e){return e.isError?t.viewControls.isSubmitting=!1:t.router.navigate(["/project",e.success.id,"info"])})))}},{key:"ngOnDestroy",value:function(){this._subs.map((function(e){return e.unsubscribe?e.unsubscribe():""}))}}]),e}()).\u0275fac=function(e){return new(e||Je)(w.Ob(B.a),w.Ob(U.c),w.Ob(P.b),w.Ob(V.a),w.Ob(A.a),w.Ob($.a))},Je.\u0275cmp=w.Ib({type:Je,selectors:[["project-creation"]],decls:21,vars:10,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"bdp-main-container"],[1,"chi-header"],["style","font-size: 12pt;",4,"ngIf"],[3,"hidden"],[1,"fa","fa-circle-o-notch","fa-spin","fa-3x","fa-fw"],[2,"font-size","12pt"],[1,"container-fluid"],[1,"row"],[1,"col-lg-2"],[1,"col-lg-10"],[2,"width","100%"],["matInput","","maxlength","40","placeholder","Project name",3,"ngModel","ngModelChange"],["projectNameInput",""],["align","end"],["matInput","","placeholder","Say something about this project. (max length: 160 characters)","maxlength","160","rows","4",3,"ngModel","ngModelChange"],["projectDescInput",""],[1,"col-md-12","mb-5"],[1,"text-muted"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["class","ml-1 my-2","class","link viewable","style","height: auto",3,"click",4,"ngIf"],[1,"col-md-12","mt-5"],[4,"ngFor","ngForOf"],[1,"col-md-10","col-md-offset-2"],["mat-raised-button","","color","primary",3,"disabled","click"],["cdkDrag",""],["class","ml-1 my-2","style","height: auto",4,"ngIf"],[1,"ml-1","my-2",2,"height","auto"],["mat-card-avatar",""],[4,"ngIf"],["class","fas fa-unlock fa-fw fa-2x",4,"ngIf"],["class","ml-3","style","position: absolute; top: 2px; right: 5px; font-size: 14px;",4,"ngIf"],["class","badge badge-warning m-3",4,"ngIf"],["class","m-3 badge badge-primary",4,"ngFor","ngForOf"],["mat-button","","color","primary","style","min-width: 1%;",3,"click",4,"ngIf"],["style","min-width: 1%;","mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","accent",2,"min-width","1%",3,"click"],[1,"fas","fa-times","fa-fw"],[2,"text-align","left"],[1,"small","ml-3",2,"font-size","12pt","margin","5px 5px"],[1,"fas","fa-user-circle","text-muted","ml-5","mr-2"],["class","text-muted",4,"ngIf"],[2,"text-align","right"],[1,"small","text-mute",2,"font-size","14pt","margin","5px 5px"],[3,"ngSwitch"],["class","badge badge-danger",4,"ngSwitchCase"],["class","badge badge-warning",4,"ngSwitchCase"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-default",4,"ngSwitchCase"],["class","fas fa-cube fa-2x fa-fw",4,"ngIf"],["class","fas fa-lock fa-fw fa-2x",4,"ngIf"],[1,"fas","fa-cube","fa-2x","fa-fw"],[1,"fas","fa-lock","fa-fw","fa-2x"],[1,"fas","fa-unlock","fa-fw","fa-2x"],[1,"ml-3",2,"position","absolute","top","2px","right","5px","font-size","14px"],[1,"badge","badge-warning","m-3"],[1,"m-3","badge","badge-primary"],["mat-button","","color","primary",2,"min-width","1%",3,"click"],[1,"fas","fa-arrow-up","fa-fw"],[1,"fas","fa-arrow-down","fa-fw"],[1,"badge","badge-danger"],[1,"badge","badge-warning"],[1,"badge","badge-success"],[1,"badge","badge-default"],[1,"link","viewable",2,"height","auto",3,"click"],[1,"far","fa-plus-square","fa-fw","fa-2x"],["class","ml-1 my-2","style","height: auto",3,"background-color",4,"ngIf"],["class","fas fa-cube fa-faw fa-2x",4,"ngIf"],[1,"fas","fa-cube","fa-faw","fa-2x"]],template:function(e,t){1&e&&(w.Ub(0,"ol",0),w.Ub(1,"li",1),w.Ub(2,"a",2),w.Lc(3,"Home"),w.Tb(),w.Tb(),w.Ub(4,"li",1),w.Ub(5,"a",2),w.Lc(6,"Project List"),w.Tb(),w.Tb(),w.Ub(7,"li",3),w.Ub(8,"a",2),w.Lc(9,"Project creation"),w.Tb(),w.Ub(10,"a",4),w.Pb(11,"i",5),w.Tb(),w.Tb(),w.Tb(),w.Ub(12,"div",6),w.Ub(13,"h5",7),w.Lc(14,"Project creation"),w.Tb(),w.Pb(15,"br"),w.Pb(16,"br"),w.Jc(17,Se,47,9,"div",8),w.Ub(18,"div",9),w.Lc(19,"Creating the project... "),w.Pb(20,"i",10),w.Tb(),w.Tb()),2&e&&(w.Cb(2),w.nc("routerLink",w.qc(6,Fe)),w.Cb(3),w.nc("routerLink",w.qc(7,_e)),w.Cb(3),w.nc("routerLink",w.qc(8,Me)),w.Cb(2),w.nc("routerLink",w.qc(9,Me)),w.Cb(7),w.nc("ngIf",!t.viewControls.isSubmitting),w.Cb(1),w.nc("hidden",!t.viewControls.isSubmitting))},directives:[U.f,c.n,y.b,d.a,r.b,r.e,r.i,r.l,y.e,k.b,c.m,a.b,k.a,o.a,o.f,o.c,o.j,o.i,o.d,o.b,o.e,c.p,c.q],pipes:[E.a],styles:[".viewable[_ngcontent-%COMP%]:hover{background-color:#fff3cd;border-color:#ffeeba;box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}"]}),Je),Re=n("RMCY"),Ne=n("7Cdu");function De(e,t){if(1&e&&(w.Ub(0,"span"),w.Lc(1),w.Tb()),2&e){var n=w.gc(2);w.Cb(1),w.Nc(": ",n.currentProject.name,"")}}var qe=function(e){return["/project",e,"info"]};function Be(e,t){if(1&e&&(w.Ub(0,"li",1),w.Ub(1,"a",2),w.Lc(2,"Project "),w.Jc(3,De,2,1,"span",9),w.Tb(),w.Tb()),2&e){var n=w.gc();w.Cb(1),w.nc("routerLink",w.rc(2,qe,n.currentProject.id)),w.Cb(2),w.nc("ngIf",n.currentProject)}}function Ve(e,t){1&e&&(w.Ub(0,"li",1),w.Lc(1,"Project"),w.Tb())}var Ae=function(e){return["/project",e,"fileImport"]};function $e(e,t){if(1&e&&(w.Ub(0,"li",10),w.Ub(1,"a",2),w.Lc(2,"Import Files"),w.Tb(),w.Ub(3,"a",11),w.Pb(4,"i",12),w.Tb(),w.Tb()),2&e){var n=w.gc();w.Cb(1),w.nc("routerLink",w.rc(2,Ae,n.currentProject.id)),w.Cb(2),w.nc("routerLink",w.rc(4,Ae,n.currentProject.id))}}function Ee(e,t){1&e&&(w.Ub(0,"li",1),w.Lc(1,"Import Files"),w.Tb())}function ze(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",13),w.Ub(1,"div",14),w.Ub(2,"div",15),w.Ub(3,"strong"),w.Lc(4,"Project Name"),w.Tb(),w.Tb(),w.Ub(5,"div",16),w.Lc(6),w.Tb(),w.Tb(),w.Pb(7,"br"),w.Ub(8,"div",14),w.Ub(9,"div",15),w.Ub(10,"strong"),w.Lc(11,"Project Description"),w.Tb(),w.Tb(),w.Ub(12,"div",16),w.Lc(13),w.Tb(),w.Tb(),w.Pb(14,"br"),w.Ub(15,"div",14),w.Ub(16,"div",17),w.Ub(17,"bdp-file-importer",18),w.cc("importTypeChanged",(function(e){return w.Bc(n),w.gc().switchType(e)})),w.Tb(),w.Tb(),w.Tb(),w.Tb()}if(2&e){var c=w.gc();w.Cb(6),w.Mc(null==c.currentProject?null:c.currentProject.name),w.Cb(7),w.Mc(null==c.currentProject?null:c.currentProject.desc),w.Cb(4),w.nc("allowedFormats",c.allowedFormats)("project",c.currentProject)("sysConfig",c.sysConfig)("tasks",c.tasks)("importType",c._viewControls.importType)("currentUser",c.currentUser)}}function He(e,t){1&e&&w.Pb(0,"i",33)}function Ye(e,t){1&e&&w.Pb(0,"i",34)}var Ke=function(){return{importType:"folder"}};function We(e,t){if(1&e&&(w.Ub(0,"a",25),w.Pb(1,"i",35),w.Ub(2,"span",27),w.Lc(3,"Add a folder"),w.Tb(),w.Ub(4,"span",24),w.Lc(5,"\u276f"),w.Tb(),w.Tb()),2&e){var n=w.gc(2);w.Fb("active","folder"==n._viewControls.importType),w.nc("routerLink",w.rc(6,Ae,n.currentProject.id))("queryParams",w.qc(8,Ke)),w.Cb(2),w.Fb("active",n.showRightButtonContent||"folder"==n._viewControls.importType)}}var Ge=function(){return{importType:"google"}};function Qe(e,t){if(1&e&&(w.Sb(0),w.Ub(1,"a",25),w.Pb(2,"i",36),w.Ub(3,"span",27),w.Lc(4,"Google Drive"),w.Tb(),w.Ub(5,"span",24),w.Lc(6,"\u276f"),w.Tb(),w.Tb(),w.Pb(7,"br"),w.Rb()),2&e){var n=w.gc(2);w.Cb(1),w.Fb("active","google"==n._viewControls.importType),w.nc("routerLink",w.rc(6,Ae,n.currentProject.id))("queryParams",w.qc(8,Ge)),w.Cb(2),w.Fb("active",n.showRightButtonContent||"google"==n._viewControls.importType)}}var Xe=function(){return{importType:"server"}};function Ze(e,t){if(1&e&&(w.Ub(0,"a",25),w.Pb(1,"i",37),w.Ub(2,"span",27),w.Lc(3,"Server folder"),w.Tb(),w.Ub(4,"span",24),w.Lc(5,"\u276f"),w.Tb(),w.Tb()),2&e){var n=w.gc(2);w.Fb("active","server"==n._viewControls.importType),w.nc("routerLink",w.rc(6,Ae,n.currentProject.id))("queryParams",w.qc(8,Xe)),w.Cb(2),w.Fb("active",n.showRightButtonContent||"server"==n._viewControls.importType)}}var et=function(){return{importType:"local"}},tt=function(e){return["/project",e,"dataFile","list"]},nt=function(e){return["/project",e,"result","list"]},ct=function(e){return["/project",e,"result","creation"]};function rt(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",19),w.Ub(1,"a",20),w.cc("click",(function(){w.Bc(n);var e=w.gc();return e.showRightButtonContent=!e.showRightButtonContent})),w.Jc(2,He,1,0,"i",21),w.Jc(3,Ye,1,0,"i",22),w.Ub(4,"span",23),w.Lc(5,"MENU"),w.Tb(),w.Ub(6,"span",24),w.Lc(7,"\u276f"),w.Tb(),w.Tb(),w.Pb(8,"br"),w.Ub(9,"a",25),w.Pb(10,"i",26),w.Ub(11,"span",27),w.Lc(12,"Local files"),w.Tb(),w.Ub(13,"span",24),w.Lc(14,"\u276f"),w.Tb(),w.Tb(),w.Pb(15,"br"),w.Jc(16,We,6,9,"a",28),w.Pb(17,"br"),w.Jc(18,Qe,8,9,"ng-container",9),w.Jc(19,Ze,6,9,"a",28),w.Pb(20,"br"),w.Ub(21,"a",29),w.Pb(22,"i",30),w.Ub(23,"span",27),w.Lc(24,"Data files"),w.Tb(),w.Ub(25,"span",24),w.Lc(26,"\u276f"),w.Tb(),w.Tb(),w.Pb(27,"br"),w.Ub(28,"a",29),w.Pb(29,"i",31),w.Ub(30,"span",27),w.Lc(31,"Results"),w.Tb(),w.Ub(32,"span",24),w.Lc(33,"\u276f"),w.Tb(),w.Tb(),w.Pb(34,"br"),w.Ub(35,"a",29),w.Pb(36,"i",32),w.Ub(37,"span",27),w.Lc(38,"Execute tasks"),w.Tb(),w.Ub(39,"span",24),w.Lc(40,"\u276f"),w.Tb(),w.Tb(),w.Pb(41,"br"),w.Tb()}if(2&e){var c=w.gc();w.nc("@rightButtonState",c.showRightButtonContent?"active":"inactive"),w.Cb(2),w.nc("ngIf",c.showRightButtonContent),w.Cb(1),w.nc("ngIf",!c.showRightButtonContent),w.Cb(1),w.Fb("active",c.showRightButtonContent),w.Cb(5),w.Fb("active",!c._viewControls.importType||"local"==c._viewControls.importType),w.nc("routerLink",w.rc(23,Ae,c.currentProject.id))("queryParams",w.qc(25,et)),w.Cb(2),w.Fb("active",c.showRightButtonContent||!c._viewControls.importType||"local"==c._viewControls.importType),w.Cb(5),w.nc("ngIf",c.currentUser&&c.currentUser.auths&&c.currentUser.auths.bdp&&c.currentUser.auths.bdp>=3),w.Cb(2),w.nc("ngIf",c.sysConfig&&c.sysConfig.googlePickerAPIKey),w.Cb(1),w.nc("ngIf",c.currentUser&&c.currentUser.auths&&c.currentUser.auths.bdp&&c.currentUser.auths.bdp>=3),w.Cb(2),w.nc("routerLink",w.rc(26,tt,c.currentProject.id)),w.Cb(2),w.Fb("active",c.showRightButtonContent),w.Cb(5),w.nc("routerLink",w.rc(28,nt,c.currentProject.id)),w.Cb(2),w.Fb("active",c.showRightButtonContent),w.Cb(5),w.nc("routerLink",w.rc(30,ct,c.currentProject.id)),w.Cb(2),w.Fb("active",c.showRightButtonContent)}}var it,at=function(){return["/home"]},st=function(){return["/project/list"]},ot=((it=function(){function e(t,n,c,r,i,a,s){_classCallCheck(this,e),this.router=t,this.route=n,this.projectService=c,this.taskService=r,this.userService=i,this.systemService=a,this.dialogRef=s,this.preTags=[],this.filteredTags=[],this.tasks=[],this.allowedFormats=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus();var t=this.route.snapshot.params.pid;this._viewControls={isLoading:!0,importType:void 0,moveToDataFileID:"",keepFileName:!1},this.showRightButtonContent=!1,this._subs=[],this.route.queryParamMap.subscribe((function(t){e._viewControls.importType=t.get("importType")?t.get("importType"):"local"})),this._subs.push(this.taskService.taskList$.subscribe((function(t){Array.isArray(t)&&(e.tasks=t)}))),this._subs.push(this.systemService.sysInfo$.subscribe((function(t){return e.sysConfig=t}))),this._subs.push(this.projectService.currentProject$.subscribe((function(t){e.currentProject=t,e.currentProject&&!e.currentProject.privilege.canAddFile&&e.router.navigate(["/project",e.currentProject.id,"info"]),e.currentProject&&Array.isArray(e.currentProject.packages)&&(e.allowedFormats=_toConsumableArray(new Set([].concat.apply([],e.currentProject.packages.map((function(e){return e.allowedFormats}))))).map((function(e){return e.toString()})),e.taskService.loadTasks(e.currentProject.packages.map((function(e){return e.id})))),e._viewControls.isLoading=!1}))),this._subs.push(this.userService.currentUser$.subscribe((function(t){return e.currentUser=t}))),this.projectService.setCurrentProject(t,!0)}},{key:"openDialog",value:function(){this.dialogRef.open(Ne.a,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{allowedFormats:this.allowedFormats,project:this.currentProject,sysConfig:this.sysConfig,tasks:this.tasks,importType:this._viewControls.importType,currentUser:this.currentUser,tags:["test333","test2"]}})}},{key:"switchType",value:function(e){this.currentProject&&this.router.navigate(["/project",this.currentProject.id,"fileImport"],{queryParams:{importType:e}})}},{key:"ngOnDestroy",value:function(){this._subs.map((function(e){return e.unsubscribe?e.unsubscribe():""}))}}]),e}()).\u0275fac=function(e){return new(e||it)(w.Ob(U.c),w.Ob(U.a),w.Ob(B.a),w.Ob(V.a),w.Ob($.a),w.Ob(A.a),w.Ob(P.b))},it.\u0275cmp=w.Ib({type:it,selectors:[["project-file-importer"]],decls:18,vars:10,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container","p-4"],[1,"chi-header"],["class","container-fluid",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[4,"ngIf"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"container-fluid"],[1,"row"],[1,"col-lg-2","col-xl-3"],[1,"col-lg-10","col-xl-9"],[1,"col-12"],[3,"allowedFormats","project","sysConfig","tasks","importType","currentUser","importTypeChanged"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ml-2"],[1,"chi-rbtn-arrow"],[1,"chi-rbtn",3,"routerLink","queryParams"],[1,"far","fa-hdd","fa-fw"],[1,"chi-rbtn-content"],["class","chi-rbtn",3,"active","routerLink","queryParams",4,"ngIf"],[1,"chi-rbtn",3,"routerLink"],[1,"far","fa-file","fa-fw"],[1,"far","fa-folder-open","fa-fw"],[1,"fas","fa-play","fa-fw"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],[1,"fas","fa-folder-plus","fa-fw"],[1,"fab","fa-google-drive","fa-fw"],[1,"fas","fa-server","fa-fw"]],template:function(e,t){1&e&&(w.Ub(0,"ol",0),w.Ub(1,"li",1),w.Ub(2,"a",2),w.Lc(3,"Home"),w.Tb(),w.Tb(),w.Ub(4,"li",1),w.Ub(5,"a",2),w.Lc(6,"Project List"),w.Tb(),w.Tb(),w.Jc(7,Be,4,4,"li",3),w.Jc(8,Ve,2,0,"li",3),w.Jc(9,$e,5,6,"li",4),w.Jc(10,Ee,2,0,"li",3),w.Tb(),w.Ub(11,"div",5),w.Ub(12,"h3",6),w.Lc(13,"Import Files"),w.Tb(),w.Pb(14,"br"),w.Pb(15,"br"),w.Jc(16,ze,18,8,"div",7),w.Tb(),w.Jc(17,rt,42,32,"div",8)),2&e&&(w.Cb(2),w.nc("routerLink",w.qc(8,at)),w.Cb(3),w.nc("routerLink",w.qc(9,st)),w.Cb(2),w.nc("ngIf",t.currentProject),w.Cb(1),w.nc("ngIf",!t.currentProject),w.Cb(1),w.nc("ngIf",t.currentProject),w.Cb(1),w.nc("ngIf",!t.currentProject),w.Cb(6),w.nc("ngIf",t.currentProject),w.Cb(1),w.nc("ngIf",t.currentProject))},directives:[U.f,c.n,Ne.a],styles:["fieldset[_ngcontent-%COMP%]{border:1px solid grey;padding:10px 15px}legend[_ngcontent-%COMP%]{width:auto;margin-bottom:0}.badge[_ngcontent-%COMP%]{margin:2px}"],data:{animation:[Re.a]}}),it),bt=n("wd/R"),lt=n("EnSQ"),ut=n("QFvA"),ft=n("l8fv");function dt(e,t){1&e&&(w.Ub(0,"span",28),w.Lc(1,"Static value"),w.Tb())}function gt(e,t){1&e&&(w.Ub(0,"span",29),w.Lc(1,"Input value"),w.Tb())}function pt(e,t){1&e&&(w.Ub(0,"span",30),w.Lc(1,"List"),w.Tb())}function ht(e,t){1&e&&(w.Ub(0,"span",31),w.Lc(1,"Input file"),w.Tb())}function vt(e,t){1&e&&(w.Ub(0,"span",32),w.Lc(1,"Output file"),w.Tb())}function mt(e,t){if(1&e&&(w.Sb(0),w.Ub(1,"span"),w.Lc(2),w.Tb(),w.Rb()),2&e){var n=w.gc().$implicit;w.Cb(2),w.Mc(n.default)}}function Tt(e,t){if(1&e&&(w.Sb(0),w.Ub(1,"span"),w.Lc(2),w.Tb(),w.Rb()),2&e){var n=w.gc().index,c=w.gc();w.Cb(2),w.Mc(c.selectedInputs[n])}}function Ct(e,t){if(1&e&&(w.Ub(0,"span"),w.Lc(1),w.Tb()),2&e){var n=w.gc(4).$implicit;w.Cb(1),w.Mc(n.listSplitter)}}function kt(e,t){if(1&e&&(w.Ub(0,"span"),w.Lc(1),w.Jc(2,Ct,2,1,"span",27),w.Tb()),2&e){var n=t.$implicit,c=t.index,r=w.gc(3).index,i=w.gc();w.Cb(1),w.Nc(" ",n," "),w.Cb(1),w.nc("ngIf",c<i.selectedInputs[r].length-1)}}function Ut(e,t){if(1&e&&(w.Sb(0),w.Jc(1,kt,3,2,"span",33),w.Rb()),2&e){var n=w.gc(2).index,c=w.gc();w.Cb(1),w.nc("ngForOf",c.selectedInputs[n])}}function Pt(e,t){if(1&e&&(w.Sb(0),w.Ub(1,"span"),w.Lc(2),w.Tb(),w.Rb()),2&e){var n=w.gc(2).index,c=w.gc();w.Cb(2),w.Mc(c.selectedInputs[n])}}function wt(e,t){if(1&e&&(w.Sb(0),w.Jc(1,Ut,2,1,"ng-container",27),w.Jc(2,Pt,3,1,"ng-container",27),w.Rb()),2&e){var n=w.gc().$implicit;w.Cb(1),w.nc("ngIf",n.multiple),w.Cb(1),w.nc("ngIf",!n.multiple)}}var yt=function(e){return["/dataFile",e,"info"]};function It(e,t){if(1&e&&(w.Sb(0),w.Ub(1,"u",34),w.Lc(2),w.Tb(),w.Ub(3,"span"),w.Lc(4),w.Tb(),w.Ub(5,"u",34),w.Lc(6),w.Tb(),w.Ub(7,"a",35),w.Pb(8,"span",36),w.Tb(),w.Rb()),2&e){var n=w.gc().$implicit,c=w.gc(3);w.Cb(2),w.Mc(c.validFiles[n.key].prefix),w.Cb(2),w.Mc(c.validFiles[n.key].name),w.Cb(2),w.Mc(c.validFiles[n.key].suffix),w.Cb(1),w.nc("routerLink",w.rc(4,yt,n.key))}}function Lt(e,t){if(1&e&&(w.Sb(0),w.Jc(1,It,9,6,"ng-container",27),w.Rb()),2&e){var n=t.$implicit;w.Cb(1),w.nc("ngIf",n.value)}}function jt(e,t){if(1&e&&(w.Sb(0),w.Jc(1,Lt,2,1,"ng-container",33),w.hc(2,"keyvalue"),w.Rb()),2&e){var n=w.gc().index,c=w.gc();w.Cb(1),w.nc("ngForOf",w.ic(2,1,c.selectedInputs[n]))}}function xt(e,t){if(1&e&&(w.Sb(0),w.Ub(1,"u",34),w.Lc(2),w.Tb(),w.Ub(3,"span"),w.Lc(4),w.Tb(),w.Ub(5,"u",34),w.Lc(6),w.Tb(),w.Rb()),2&e){var n=w.gc().index,c=w.gc();w.Cb(2),w.Mc(c.resultInfo.prefix),w.Cb(2),w.Mc(c.resultInfo.outputs[n].name),w.Cb(2),w.Mc(c.resultInfo.suffix)}}function St(e,t){if(1&e&&(w.Ub(0,"tr",20),w.Ub(1,"td"),w.Lc(2),w.Tb(),w.Ub(3,"td"),w.Lc(4),w.Tb(),w.Ub(5,"td"),w.Sb(6,21),w.Jc(7,dt,2,0,"span",22),w.Jc(8,gt,2,0,"span",23),w.Jc(9,pt,2,0,"span",24),w.Jc(10,ht,2,0,"span",25),w.Jc(11,vt,2,0,"span",26),w.Rb(),w.Tb(),w.Ub(12,"td"),w.Jc(13,mt,3,1,"ng-container",27),w.Jc(14,Tt,3,1,"ng-container",27),w.Jc(15,wt,3,2,"ng-container",27),w.Jc(16,jt,3,3,"ng-container",27),w.Jc(17,xt,7,3,"ng-container",27),w.Tb(),w.Tb()),2&e){var n=t.$implicit,c=t.index,r=w.gc();w.nc("ngClass",r.getRowStyleByArgType(n.type)),w.Cb(2),w.Mc(c+1),w.Cb(2),w.Mc(n.name),w.Cb(2),w.nc("ngSwitch",n.type),w.Cb(1),w.nc("ngSwitchCase","static"),w.Cb(1),w.nc("ngSwitchCase","value"),w.Cb(1),w.nc("ngSwitchCase","list"),w.Cb(1),w.nc("ngSwitchCase","inFile"),w.Cb(1),w.nc("ngSwitchCase","outFile"),w.Cb(2),w.nc("ngIf","static"===n.type),w.Cb(1),w.nc("ngIf","value"===n.type),w.Cb(1),w.nc("ngIf","list"===n.type),w.Cb(1),w.nc("ngIf","inFile"===n.type),w.Cb(1),w.nc("ngIf","outFile"===n.type)}}var Jt,Ft=((Jt=function(){function e(){_classCallCheck(this,e),this.validFiles={}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){for(var t in e)"currentTask"===t?this.currentTask=e[t].currentValue:"currentProject"===t?this.currentProject=e[t].currentValue:"resultInfo"===t?this.resultInfo=e[t].currentValue:"selectedInputs"===t?this.selectedInputs=e[t].currentValue||[]:"validInputs"===t&&(this.validInputs=e[t].currentValue||[]);for(var n=0;n<this.validInputs.length;n++)if(Array.isArray(this.validInputs[n]))for(var c=0;c<this.validInputs[n].length;c++){var r=this.validInputs[n][c];this.validFiles[r.id]=r}console.log(this.currentTask),console.log(this.currentProject),console.log(this.resultInfo),console.log(this.selectedInputs),console.log(this.validInputs)}},{key:"getRowStyleByArgType",value:function(e){return{"table-secondary":"value"===e,"table-white":"static"===e,"table-primary":"inFile"===e,"table-info":"list"===e,"table-success":"outFile"===e,"table-danger":!1}}}]),e}()).\u0275fac=function(e){return new(e||Jt)},Jt.\u0275cmp=w.Ib({type:Jt,selectors:[["bdp-result-describer"]],inputs:{currentTask:"currentTask",currentProject:"currentProject",resultInfo:"resultInfo",selectedInputs:"selectedInputs",validInputs:"validInputs"},features:[w.Ab],decls:49,vars:9,consts:[[1,"container",2,"border","thin solid gray"],[1,"row","p-2"],[1,"row"],[1,"col-md-6"],[2,"width","100%"],["matInput","","placeholder","Project Name","disabled","",3,"value"],["matInput","","placeholder","Package Name","disabled","",3,"value"],["matInput","","placeholder","Task Name","disabled","",3,"value"],["matInput","","placeholder","Task Description","disabled","",3,"value"],[1,"col-md-3"],["matInput","","placeholder","Result Prefix","readonly","",3,"value"],["matInput","","placeholder","Result Name","readonly","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Result Suffix","readonly","",3,"value"],[1,"col-12"],["matInput","","placeholder","Result Description","readonly","",3,"value"],[1,"col-md-12"],[1,"table","table-responsive-md","table-hover","table-bordered","table-sm"],[1,"thead-dark"],[2,"width","40px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngSwitch"],["class","badge badge-dark",4,"ngSwitchCase"],["class","badge badge-secondary",4,"ngSwitchCase"],["class","badge badge-info",4,"ngSwitchCase"],["class","badge badge-primary",4,"ngSwitchCase"],["class","badge badge-success",4,"ngSwitchCase"],[4,"ngIf"],[1,"badge","badge-dark"],[1,"badge","badge-secondary"],[1,"badge","badge-info"],[1,"badge","badge-primary"],[1,"badge","badge-success"],[4,"ngFor","ngForOf"],[1,"text-muted"],["target","_blank",1,"ml-3",3,"routerLink"],[1,"fas","fa-external-link-alt"]],template:function(e,t){1&e&&(w.Ub(0,"div",0),w.Ub(1,"div",1),w.Ub(2,"h2"),w.Lc(3,"Result preview"),w.Tb(),w.Tb(),w.Ub(4,"div",2),w.Ub(5,"div",3),w.Ub(6,"mat-form-field",4),w.Pb(7,"input",5),w.Tb(),w.Tb(),w.Ub(8,"div",3),w.Ub(9,"mat-form-field",4),w.Pb(10,"input",6),w.Tb(),w.Tb(),w.Tb(),w.Ub(11,"div",2),w.Ub(12,"div",3),w.Ub(13,"mat-form-field",4),w.Pb(14,"input",7),w.Tb(),w.Tb(),w.Ub(15,"div",3),w.Ub(16,"mat-form-field",4),w.Pb(17,"textarea",8),w.Tb(),w.Tb(),w.Tb(),w.Ub(18,"div",2),w.Ub(19,"div",9),w.Ub(20,"mat-form-field",4),w.Pb(21,"input",10),w.Tb(),w.Tb(),w.Ub(22,"div",3),w.Ub(23,"mat-form-field",4),w.Ub(24,"input",11),w.cc("ngModelChange",(function(e){return t.resultInfo.name=e})),w.Tb(),w.Tb(),w.Tb(),w.Ub(25,"div",9),w.Ub(26,"mat-form-field",4),w.Pb(27,"input",12),w.Tb(),w.Tb(),w.Tb(),w.Ub(28,"div",2),w.Ub(29,"div",13),w.Ub(30,"mat-form-field",4),w.Pb(31,"textarea",14),w.Tb(),w.Tb(),w.Tb(),w.Ub(32,"div",2),w.Ub(33,"div",15),w.Ub(34,"b"),w.Lc(35,"Input Arguments"),w.Tb(),w.Tb(),w.Ub(36,"div",15),w.Ub(37,"table",16),w.Ub(38,"thead",17),w.Ub(39,"th",18),w.Lc(40,"#"),w.Tb(),w.Ub(41,"th"),w.Lc(42,"Name"),w.Tb(),w.Ub(43,"th"),w.Lc(44,"Type"),w.Tb(),w.Ub(45,"th"),w.Lc(46,"Selected Value"),w.Tb(),w.Tb(),w.Ub(47,"tbody"),w.Jc(48,St,18,14,"tr",19),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb()),2&e&&(w.Cb(7),w.nc("value",t.currentProject.name),w.Cb(3),w.nc("value",t.currentTask.package.name),w.Cb(4),w.nc("value",t.currentTask.name),w.Cb(3),w.nc("value",t.currentTask.desc||"(no description)"),w.Cb(4),w.nc("value",t.resultInfo.prefix||"(N/A)"),w.Cb(3),w.nc("ngModel",t.resultInfo.name),w.Cb(3),w.nc("value",t.resultInfo.suffix||"(N/A)"),w.Cb(4),w.nc("value",t.resultInfo.desc||"(no description)"),w.Cb(17),w.nc("ngForOf",t.currentTask.arguments))},directives:[y.b,d.a,r.b,r.i,r.l,c.m,c.l,c.p,c.q,c.n,U.f],pipes:[c.h],encapsulation:2}),Jt);function _t(e,t){if(1&e&&(w.Ub(0,"span"),w.Lc(1),w.Tb()),2&e){var n=w.gc(2);w.Cb(1),w.Nc(": ",n.currentProject.name,"")}}var Mt=function(e){return["/project",e,"info"]};function Ot(e,t){if(1&e&&(w.Ub(0,"li",1),w.Ub(1,"a",2),w.Lc(2,"Project "),w.Jc(3,_t,2,1,"span",17),w.Tb(),w.Tb()),2&e){var n=w.gc();w.Cb(1),w.nc("routerLink",w.rc(2,Mt,n.currentProject.id)),w.Cb(2),w.nc("ngIf",n.currentProject)}}function Rt(e,t){1&e&&(w.Ub(0,"li",1),w.Lc(1,"Project"),w.Tb())}var Nt=function(e){return["/project",e,"result","creation"]};function Dt(e,t){if(1&e&&(w.Ub(0,"li",40),w.Ub(1,"a",2),w.Lc(2,"Execute Tasks"),w.Tb(),w.Ub(3,"a",41),w.Pb(4,"i",42),w.Tb(),w.Tb()),2&e){var n=w.gc();w.Cb(1),w.nc("routerLink",w.rc(2,Nt,n.currentProject.id)),w.Cb(2),w.nc("routerLink",w.rc(4,Nt,n.currentProject.id))}}function qt(e,t){1&e&&(w.Ub(0,"li",40),w.Lc(1,"Execute Tasks"),w.Tb())}function Bt(e,t){if(1&e&&(w.Ub(0,"mat-icon",43),w.Lc(1,"looks_one"),w.Tb(),w.Ub(2,"div"),w.Lc(3,"Choose a task"),w.Tb()),2&e){var n=w.gc();w.Fb("text-primary",0==n.currentStep),w.Cb(2),w.Fb("text-primary",0==n.currentStep)}}function Vt(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",14),w.Ub(1,"div",15),w.Ub(2,"mat-button-toggle-group",44),w.cc("ngModelChange",(function(e){return w.Bc(n),w.gc().changeTaskViewFilter(e)})),w.Ub(3,"mat-button-toggle",45),w.Lc(4,"All"),w.Tb(),w.Ub(5,"mat-button-toggle",46),w.Pb(6,"i",47),w.Tb(),w.Ub(7,"mat-button-toggle",48),w.Pb(8,"i",49),w.Tb(),w.Ub(9,"mat-button-toggle",50),w.Pb(10,"i",51),w.Tb(),w.Ub(11,"mat-button-toggle",52),w.cc("click",(function(){return w.Bc(n),w.gc().onTaskReloadBtnClick()})),w.Pb(12,"i",53),w.Tb(),w.Tb(),w.Tb(),w.Tb()}if(2&e){var c=w.gc();w.Cb(2),w.nc("ngModel",c.taskViewType)}}function At(e,t){if(1&e&&(w.Ub(0,"h3",57),w.Pb(1,"i",58),w.Lc(2),w.Tb()),2&e){var n=w.gc().$implicit,c=w.gc();w.Cb(2),w.Nc(" ",c.taskKey2name[n],"")}}function $t(e,t){if(1&e&&w.Pb(0,"img",74),2&e){var n=w.gc(2).$implicit;w.nc("src",n.thumbnail,w.Ec)}}function Et(e,t){1&e&&w.Pb(0,"i",75)}function zt(e,t){1&e&&w.Pb(0,"i",76)}function Ht(e,t){1&e&&w.Pb(0,"i",77)}function Yt(e,t){1&e&&w.Pb(0,"i",78)}function Kt(e,t){if(1&e&&(w.Ub(0,"div",79),w.Pb(1,"img",80),w.Tb()),2&e){var n=w.gc(2).$implicit;w.Cb(1),w.nc("src",n.img,w.Ec)}}function Wt(e,t){if(1&e&&w.Pb(0,"div",81),2&e){var n=w.gc(2).$implicit;w.nc("innerHTML",n.desc?n.desc:"(no description)",w.Cc)}}function Gt(e,t){1&e&&(w.Ub(0,"strong"),w.Lc(1,"This task will generate the following output data."),w.Tb())}function Qt(e,t){1&e&&(w.Ub(0,"strong"),w.Lc(1,"This task does NOT generate output data files."),w.Tb())}function Xt(e,t){if(1&e&&(w.Ub(0,"li",84),w.Ub(1,"b"),w.Lc(2),w.Tb(),w.Lc(3),w.Tb()),2&e){var n=w.gc().$implicit;w.Cb(2),w.Mc(null==n?null:n.name),w.Cb(1),w.Nc(": ",null==n?null:n.desc," ")}}function Zt(e,t){if(1&e&&w.Jc(0,Xt,4,2,"li",83),2&e){var n=t.$implicit;w.nc("ngIf","outFile"==(null==n?null:n.type))}}function en(e,t){if(1&e&&(w.Ub(0,"div"),w.Ub(1,"fieldset"),w.Ub(2,"legend"),w.Ub(3,"b"),w.Lc(4,"Full description"),w.Tb(),w.Tb(),w.Pb(5,"div",82),w.Pb(6,"hr"),w.Jc(7,Gt,2,0,"strong",17),w.Jc(8,Qt,2,0,"strong",17),w.Ub(9,"ol"),w.Jc(10,Zt,1,1,"ng-template",34),w.Tb(),w.Tb(),w.Tb()),2&e){var n=w.gc(4);w.Cb(5),w.nc("innerHTML",n.selectedTask.desc?n.selectedTask.desc:"(no description)",w.Cc),w.Cb(2),w.nc("ngIf",n.outputNumber>0),w.Cb(1),w.nc("ngIf",0===n.outputNumber),w.Cb(2),w.nc("ngForOf",null==n.selectedTask?null:n.selectedTask.arguments)}}function tn(e,t){if(1&e){var n=w.Vb();w.Ub(0,"button",85),w.cc("click",(function(e){return w.Bc(n),w.gc(4).onTaskBlur(e)})),w.Lc(1,"Cancel"),w.Tb()}}function nn(e,t){if(1&e){var n=w.Vb();w.Ub(0,"button",86),w.cc("click",(function(){w.Bc(n);var e=w.gc(4);return e.showWorkflow=!e.showWorkflow})),w.Pb(1,"i",87),w.Lc(2," Show workflow graph"),w.Tb()}}function cn(e,t){if(1&e){var n=w.Vb();w.Ub(0,"button",86),w.cc("click",(function(){w.Bc(n);var e=w.gc(4);return e.showWorkflow=!e.showWorkflow})),w.Pb(1,"i",87),w.Lc(2," Close workflow graph"),w.Tb()}}function rn(e,t){if(1&e){var n=w.Vb();w.Ub(0,"button",88),w.cc("click",(function(){return w.Bc(n),w.gc(4).currentStep=1})),w.Lc(1,"Next"),w.Tb()}if(2&e){var c=w.gc(4);w.nc("disabled",c.viewControls.workflowErrors.length>0)}}function an(e,t){if(1&e&&(w.Ub(0,"mat-list-item",91),w.Lc(1),w.Tb()),2&e){var n=t.$implicit;w.Cb(1),w.Nc("*",n,"")}}function sn(e,t){if(1&e&&(w.Ub(0,"mat-list",89),w.Jc(1,an,2,1,"mat-list-item",90),w.Tb()),2&e){var n=w.gc(4);w.Cb(1),w.nc("ngForOf",n.viewControls.workflowErrors)}}function on(e,t){if(1&e&&w.Pb(0,"bdp-workflow-planner",92),2&e){var n=w.gc(4);w.nc("taskMapper",n.selectedTask.mapper)("additionalTasks",n.loadedTasks)("childTasks",n.allTasksInPkg)("taskArgs",n.selectedTask.arguments)}}var bn=function(e,t,n){return{"p-1":!0,"col-xl-4":e,"col-lg-6":t,"col-12":n}};function ln(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",60),w.Ub(1,"mat-card",61),w.cc("click",(function(){w.Bc(n);var e=w.gc().$implicit;return w.gc(2).onSelectTask(e)})),w.Ub(2,"mat-card-header"),w.Jc(3,$t,1,1,"img",62),w.Ub(4,"mat-card-title"),w.Jc(5,Et,1,0,"i",63),w.Jc(6,zt,1,0,"i",64),w.Jc(7,Ht,1,0,"i",65),w.Jc(8,Yt,1,0,"i",66),w.Ub(9,"b"),w.Lc(10),w.Tb(),w.Tb(),w.Ub(11,"mat-card-subtitle"),w.Pb(12,"i",67),w.Lc(13),w.Tb(),w.Tb(),w.Ub(14,"mat-card-content"),w.Jc(15,Kt,2,1,"div",68),w.Jc(16,Wt,1,1,"div",69),w.Jc(17,en,11,4,"div",17),w.Tb(),w.Ub(18,"mat-card-actions"),w.Jc(19,tn,2,0,"button",70),w.Jc(20,nn,3,0,"button",35),w.Jc(21,cn,3,0,"button",35),w.Jc(22,rn,2,1,"button",71),w.Tb(),w.Jc(23,sn,2,1,"mat-list",72),w.Jc(24,on,1,4,"bdp-workflow-planner",73),w.Tb(),w.Tb()}if(2&e){var c=w.gc().$implicit,r=w.gc(2);w.nc("ngClass",w.tc(21,bn,r.selectedTask!==c,r.selectedTask!==c,r.selectedTask===c)),w.Cb(1),w.Ic("cursor",r.selectedTask?"auto":"pointer")("height","auto"),w.Cb(2),w.nc("ngIf",c.thumbnail),w.Cb(2),w.nc("ngIf","workflow"==c.type),w.Cb(1),w.nc("ngIf","standard"==c.type),w.Cb(1),w.nc("ngIf","child"==c.type),w.Cb(1),w.nc("ngIf","system"==c.type),w.Cb(2),w.Mc(c.name),w.Cb(3),w.Nc("",null==c||null==c.package?null:c.package.fullname," "),w.Cb(2),w.nc("ngIf",c.img),w.Cb(1),w.nc("ngIf",!r.selectedTask),w.Cb(1),w.nc("ngIf",r.selectedTask),w.Cb(2),w.nc("ngIf",r.selectedTask),w.Cb(1),w.nc("ngIf",r.selectedTask&&"workflow"===r.selectedTask.type&&!r.showWorkflow),w.Cb(1),w.nc("ngIf",r.selectedTask&&"workflow"===r.selectedTask.type&&r.showWorkflow),w.Cb(1),w.nc("ngIf",r.selectedTask),w.Cb(1),w.nc("ngIf",r.viewControls.workflowErrors.length>0),w.Cb(1),w.nc("ngIf",r.selectedTask&&"workflow"===r.selectedTask.type&&r.showWorkflow)}}function un(e,t){if(1&e&&(w.Sb(0),w.Jc(1,ln,25,25,"div",59),w.Rb()),2&e){var n=t.$implicit,c=w.gc(2);w.Cb(1),w.nc("ngIf",n&&"child"!==n.type&&(!c.selectedTask||c.selectedTask&&c.selectedTask===n))}}function fn(e,t){if(1&e&&(w.Ub(0,"div",14),w.Jc(1,At,3,1,"h3",54),w.Jc(2,un,2,1,"ng-container",55),w.Pb(3,"mat-divider",56),w.Tb()),2&e){var n=t.$implicit,c=w.gc();w.Cb(1),w.nc("ngIf",!c.selectedTask||c.selectedTask.package.sheetID+c.selectedTask.package.fullname===n),w.Cb(1),w.nc("ngForOf",c.taskListView[n])}}function dn(e,t){if(1&e&&(w.Ub(0,"mat-icon",43),w.Lc(1,"looks_two"),w.Tb(),w.Ub(2,"span"),w.Lc(3," Set parameters "),w.Tb()),2&e){var n=w.gc();w.Fb("text-primary",1==n.currentStep),w.Cb(2),w.Fb("text-primary",1==n.currentStep)}}function gn(e,t){if(1&e&&(w.Ub(0,"div",14),w.Ub(1,"div",15),w.Pb(2,"br"),w.Lc(3),w.Pb(4,"br"),w.Lc(5," Task description: "),w.Pb(6,"br"),w.Pb(7,"div",82),w.Pb(8,"br"),w.Tb(),w.Tb()),2&e){var n=w.gc();w.Cb(3),w.Nc(" You are going to run the task: ",n.selectedTask.name,". "),w.Cb(4),w.nc("innerHTML",n.selectedTask.desc,w.Cc)}}function pn(e,t){1&e&&(w.Ub(0,"div"),w.Lc(1,"Loading ..."),w.Tb())}function hn(e,t){1&e&&(w.Ub(0,"span"),w.Lc(1,"No parameters needed."),w.Tb())}function vn(e,t){1&e&&(w.Ub(0,"span"),w.Lc(1,"[Optional]"),w.Tb())}function mn(e,t){if(1&e&&(w.Ub(0,"small"),w.Lc(1),w.Tb()),2&e){var n=w.gc(2).$implicit;w.Cb(1),w.Mc(n.desc)}}function Tn(e,t){1&e&&(w.Ub(0,"small",99),w.Lc(1,"(no description)"),w.Tb())}function Cn(e,t){if(1&e&&(w.Ub(0,"div",97),w.Ub(1,"h3"),w.Ub(2,"strong"),w.Jc(3,vn,2,0,"span",17),w.Lc(4),w.Tb(),w.Lc(5,": "),w.Jc(6,mn,2,1,"small",17),w.Jc(7,Tn,2,0,"small",98),w.Tb(),w.Tb()),2&e){var n=w.gc().$implicit;w.Cb(3),w.nc("ngIf",n.optional),w.Cb(1),w.Nc(" ",null==n?null:n.name,""),w.Cb(2),w.nc("ngIf",n.desc),w.Cb(1),w.nc("ngIf",!n.desc)}}function kn(e,t){if(1&e&&(w.Ub(0,"mat-hint",101),w.Lc(1),w.Tb()),2&e){var n=w.gc(2).index,c=w.gc(2);w.Cb(1),w.Nc("*",c.viewControls.errorInputs[n],"")}}function Un(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",97),w.Ub(1,"mat-form-field",27),w.Ub(2,"input",100),w.cc("ngModelChange",(function(e){w.Bc(n);var t=w.gc().index;return w.gc(2)._selectedInputs[t]=e})),w.Tb(),w.Jc(3,kn,2,1,"mat-hint",31),w.Tb(),w.Tb()}if(2&e){var c=w.gc(),r=c.$implicit,i=c.index,a=w.gc(2);w.Cb(2),w.nc("disabled",a.paramChecked)("placeholder",r.name)("ngModel",a._selectedInputs[i]),w.Cb(1),w.nc("ngIf",a.viewControls.errorInputs[i])}}function Pn(e,t){1&e&&(w.Ub(0,"span"),w.Lc(1," must equal to "),w.Tb())}function wn(e,t){if(1&e&&(w.Sb(0),w.Lc(1),w.Rb()),2&e){var n=w.gc(3).$implicit;w.Cb(1),w.Nc("[",n.tagMatchRule,"]")}}function yn(e,t){if(1&e&&(w.Sb(0),w.Jc(1,wn,2,1,"ng-container",17),w.Ub(2,"span",105),w.Lc(3),w.Tb(),w.Rb()),2&e){var n=t.$implicit,c=t.index,r=w.gc(2).$implicit;w.Cb(1),w.nc("ngIf",c>0&&"all"!==r.tagMatchRule),w.Cb(2),w.Nc(" ",n," ")}}function In(e,t){if(1&e&&(w.Ub(0,"span",101),w.Lc(1),w.Tb()),2&e){var n=w.gc(2).index,c=w.gc(2);w.Cb(1),w.Nc("*",c.viewControls.errorInputs[n],"")}}function Ln(e,t){1&e&&(w.Ub(0,"h4",101),w.Lc(1,"No valid inputs. "),w.Pb(2,"br"),w.Tb())}function jn(e,t){if(1&e){var n=w.Vb();w.Ub(0,"datafile-card",107),w.cc("onFocused",(function(e){w.Bc(n);var t=w.gc(2).index,c=w.gc(2).index;return w.gc(2).onFocusedDataFile(e,c,t)})),w.Tb()}if(2&e){var c=w.gc(2).$implicit,r=w.gc(2).index,i=w.gc(2);w.nc("role","checkBox")("checked",i._selectedInputs[r][c.id])("disabled",i.paramChecked)("dataFile",c)}}function xn(e,t){if(1&e&&(w.Sb(0),w.Jc(1,jn,1,4,"datafile-card",106),w.Rb()),2&e){var n=w.gc().$implicit,c=w.gc(2).index,r=w.gc(2);w.Cb(1),w.nc("ngIf",!r._selectedDataFiles[c]||r._selectedInputs[c][n.id])}}function Sn(e,t){if(1&e&&(w.Sb(0),w.Jc(1,xn,2,1,"ng-container",17),w.Rb()),2&e){var n=t.$implicit,c=w.gc(4);w.Cb(1),w.nc("ngIf",!n.hidden||c.showIntermediateFile)}}function Jn(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",97),w.Ub(1,"button",102),w.cc("click",(function(){w.Bc(n);var e=w.gc().$implicit;return w.gc(2).uploadFileForArg(e)})),w.Pb(2,"i",103),w.Tb(),w.Ub(3,"span"),w.Ub(4,"b"),w.Lc(5,"*required tag(s)"),w.Tb(),w.Lc(6,": "),w.Jc(7,Pn,2,0,"span",17),w.Jc(8,yn,4,2,"ng-container",55),w.Tb(),w.Jc(9,In,2,1,"span",31),w.Tb(),w.Ub(10,"div",97),w.Jc(11,Ln,3,0,"h4",31),w.Ub(12,"div",14),w.Jc(13,Sn,2,1,"ng-container",104),w.Tb(),w.Tb()}if(2&e){var c=w.gc(),r=c.$implicit,i=c.index,a=w.gc(2);w.Cb(7),w.nc("ngIf","all"===r.tagMatchRule),w.Cb(1),w.nc("ngForOf",r.tags),w.Cb(1),w.nc("ngIf",a.viewControls.errorInputs[i]),w.Cb(2),w.nc("ngIf",a.validInputs[i]&&0==a.validInputs[i].length),w.Cb(2),w.nc("ngForOf",a.validInputs[i])("ngForTrackBy",a.trackByDataFile)}}function Fn(e,t){if(1&e&&(w.Ub(0,"mat-option",110),w.Lc(1),w.Tb()),2&e){var n=t.$implicit;w.nc("value",n),w.Cb(1),w.Mc(n)}}function _n(e,t){if(1&e&&(w.Ub(0,"span",101),w.Lc(1),w.Tb()),2&e){var n=w.gc(3).index,c=w.gc(2);w.Cb(1),w.Nc("*",c.viewControls.errorInputs[n],"")}}function Mn(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div"),w.Ub(1,"div",97),w.Ub(2,"mat-form-field",27),w.Ub(3,"mat-select",108),w.cc("ngModelChange",(function(e){w.Bc(n);var t=w.gc(2).index;return w.gc(2)._selectedInputs[t]=e})),w.Jc(4,Fn,2,2,"mat-option",109),w.Tb(),w.Tb(),w.Jc(5,_n,2,1,"span",31),w.Tb(),w.Tb()}if(2&e){var c=w.gc(2),r=c.index,i=c.$implicit,a=w.gc(2);w.Cb(3),w.nc("ngModel",a._selectedInputs[r])("multiple",i.multiple)("disabled",a.paramChecked)("placeholder",i.name),w.Cb(1),w.nc("ngForOf",i.list),w.Cb(1),w.nc("ngIf",a.viewControls.errorInputs[r])}}function On(e,t){if(1&e&&(w.Ub(0,"span",101),w.Lc(1),w.Tb()),2&e){var n=w.gc(4).index,c=w.gc(2);w.Cb(1),w.Nc("*",c.viewControls.errorInputs[n],"")}}function Rn(e,t){if(1&e&&(w.Ub(0,"span",101),w.Lc(1),w.Tb()),2&e){var n=w.gc(5).index,c=w.gc(2);w.Cb(1),w.Nc("*",c.viewControls.errorInputs[n],"")}}function Nn(e,t){if(1&e&&(w.Sb(0),w.Ub(1,"div",116),w.Pb(2,"input",117),w.Jc(3,Rn,2,1,"span",31),w.Tb(),w.Pb(4,"div",118),w.Rb()),2&e){var n=w.gc(4).index,c=w.gc(2);w.Cb(2),w.nc("disabled",c.paramChecked)("value",c._selectedInputs[n]?(null==c._selectedInputs[n]?null:c._selectedInputs[n].length)>5?c._selectedInputs[n].slice(0,5)+"... and "+((null==c._selectedInputs[n]?null:c._selectedInputs[n].length)-5)+" items":c._selectedInputs[n]:""),w.Cb(1),w.nc("ngIf",c.viewControls.errorInputs[n]),w.Cb(1),w.nc("hidden",c._selectedInputs[n])}}function Dn(e,t){if(1&e&&(w.Ub(0,"mat-option",110),w.Lc(1),w.Tb()),2&e){var n=t.$implicit;w.nc("value",n),w.Cb(1),w.Mc(n)}}function qn(e,t){if(1&e){var n=w.Vb();w.Ub(0,"mat-select",120),w.cc("ngModelChange",(function(e){w.Bc(n);var t=w.gc(5).index;return w.gc(2)._selectedInputs[t]=e}))("ngModelChange",(function(e){w.Bc(n);var t=w.gc(5).index,c=w.gc(2);return c._selectedInputs[t]=e,c.viewControls.errorInputs[t]=void 0})),w.Jc(1,Dn,2,2,"mat-option",109),w.hc(2,"slice"),w.Tb()}if(2&e){var c=w.gc(5),r=c.$implicit,i=c.index,a=w.gc(2);w.nc("multiple",r.multiple)("ngModel",a._selectedInputs[i])("disabled",a.paramChecked),w.Cb(1),w.nc("ngForOf",w.jc(2,4,a._loadedDataFile[a._valueOfListData[i]][0],1))}}function Bn(e,t){if(1&e&&(w.Ub(0,"div"),w.Jc(1,qn,3,7,"mat-select",119),w.Pb(2,"br"),w.Pb(3,"br"),w.Tb()),2&e){var n=w.gc(4).index,c=w.gc(2);w.Cb(1),w.nc("ngIf",c._loadedDataFile[c._valueOfListData[n]])}}function Vn(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",112),w.Ub(1,"button",113),w.cc("click",(function(e){w.Bc(n);var t=w.gc(3).index;return w.gc(2).onGetList(e,t)})),w.Lc(2," Loading list "),w.Pb(3,"i",114),w.Pb(4,"i",115),w.Tb(),w.Jc(5,On,2,1,"span",31),w.Jc(6,Nn,5,4,"ng-container",17),w.Jc(7,Bn,4,1,"div",17),w.Tb()}if(2&e){var c=w.gc(3),r=c.index,i=c.$implicit,a=w.gc(2);w.Cb(1),w.Fb("text-muted",a.paramChecked),w.Cb(4),w.nc("ngIf",a.viewControls.errorInputs[r]),w.Cb(1),w.nc("ngIf",a._valueOfListData[r]&&(null==i?null:i.preview)),w.Cb(1),w.nc("ngIf",a._valueOfListData[r]&&!(null!=i&&i.preview))}}function An(e,t){if(1&e&&(w.Sb(0),w.Jc(1,Vn,8,5,"div",111),w.Rb()),2&e){var n=w.gc(2).$implicit;w.Cb(1),w.nc("ngIf","argv"==n.dependOn.split(".")[0])}}function $n(e,t){if(1&e&&(w.Jc(0,Mn,6,6,"div",17),w.Jc(1,An,2,1,"ng-container",17)),2&e){var n=w.gc().$implicit;w.nc("ngIf",n.list.length>0),w.Cb(1),w.nc("ngIf",0==(null==n?null:n.list.length))}}function En(e,t){if(1&e&&(w.Sb(0),w.Ub(1,"div",94),w.Jc(2,Cn,8,4,"div",95),w.Jc(3,Un,4,4,"ng-template",96),w.Jc(4,Jn,14,6,"ng-template",96),w.Jc(5,$n,2,2,"ng-template",96),w.Tb(),w.Rb()),2&e){var n=t.$implicit,c=t.index,r=w.gc(2);w.Cb(1),w.Fb("hasError",r.viewControls.errorInputs[c]&&"outFile"!==(null==n?null:n.type)),w.nc("ngSwitch",null==n?null:n.type),w.Cb(1),w.nc("ngIf","outFile"!==n.type&&"static"!==n.type),w.Cb(1),w.nc("ngSwitchCase","value"),w.Cb(1),w.nc("ngSwitchCase","inFile"),w.Cb(1),w.nc("ngSwitchCase","list")}}function zn(e,t){if(1&e){var n=w.Vb();w.Ub(0,"button",86),w.cc("click",(function(){return w.Bc(n),w.gc(2).checkParams()})),w.Lc(1,"Check my parameters "),w.Tb()}}function Hn(e,t){if(1&e){var n=w.Vb();w.Ub(0,"button",121),w.cc("click",(function(){return w.Bc(n),w.gc(2).paramChecked=!1})),w.Lc(1,"Modify parameters "),w.Tb()}}function Yn(e,t){if(1&e&&(w.Ub(0,"div",15),w.Pb(1,"mat-divider",93),w.Jc(2,hn,2,0,"span",17),w.Jc(3,En,6,7,"ng-container",55),w.Pb(4,"mat-divider",93),w.Jc(5,zn,2,0,"button",35),w.Jc(6,Hn,2,0,"button",36),w.Tb()),2&e){var n=w.gc();w.Cb(2),w.nc("ngIf",0===(null==n.selectedTask?null:n.selectedTask.arguments.length)),w.Cb(1),w.nc("ngForOf",null==n.selectedTask?null:n.selectedTask.arguments),w.Cb(2),w.nc("ngIf",n.selectedTask&&!n.paramChecked),w.Cb(1),w.nc("ngIf",n.selectedTask&&n.paramChecked)}}function Kn(e,t){if(1&e&&(w.Ub(0,"mat-icon",43),w.Lc(1,"looks_3"),w.Tb(),w.Ub(2,"span"),w.Lc(3," Result information "),w.Tb()),2&e){var n=w.gc();w.Fb("text-primary",2==n.currentStep),w.Cb(2),w.Fb("text-primary",2==n.currentStep)}}function Wn(e,t){if(1&e&&(w.Ub(0,"mat-hint",101),w.Lc(1),w.Tb()),2&e){var n=w.gc();w.Cb(1),w.Mc(n.viewControls.errorName)}}function Gn(e,t){if(1&e&&(w.Ub(0,"mat-hint",101),w.Lc(1),w.Tb()),2&e){var n=w.gc();w.Cb(1),w.Mc(n.viewControls.errorDesc)}}function Qn(e,t){1&e&&(w.Ub(0,"div",122),w.Ub(1,"div",97),w.Ub(2,"h2"),w.Lc(3,"Setting output information"),w.Tb(),w.Tb(),w.Tb())}function Xn(e,t){if(1&e&&(w.Ub(0,"span",101),w.Lc(1),w.Tb()),2&e){var n=w.gc(2).index,c=w.gc();w.Cb(1),w.Nc("*",null==c.viewControls.errorOutputs[n]?null:c.viewControls.errorOutputs[n].name,"")}}function Zn(e,t){if(1&e&&(w.Ub(0,"span",101),w.Lc(1),w.Tb()),2&e){var n=w.gc(2).index,c=w.gc();w.Cb(1),w.Nc("*",null==c.viewControls.errorOutputs[n]?null:c.viewControls.errorOutputs[n].desc,"")}}function ec(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",124),w.Ub(1,"div",97),w.Ub(2,"h3"),w.Ub(3,"b"),w.Lc(4),w.Tb(),w.Tb(),w.Ub(5,"span",99),w.Lc(6),w.Tb(),w.Pb(7,"br"),w.Tb(),w.Ub(8,"div",97),w.Ub(9,"mat-form-field",27),w.Ub(10,"input",125),w.cc("ngModelChange",(function(e){w.Bc(n);var t=w.gc().index;return w.gc().resultInfo.outputs[t].name=e})),w.Tb(),w.Ub(11,"span",29),w.Lc(12),w.Tb(),w.Ub(13,"span",30),w.Lc(14),w.Tb(),w.Tb(),w.Jc(15,Xn,2,1,"span",31),w.Tb(),w.Ub(16,"div",126),w.Ub(17,"mat-form-field",27),w.Ub(18,"textarea",127),w.cc("ngModelChange",(function(e){w.Bc(n);var t=w.gc().index;return w.gc().resultInfo.outputs[t].desc=e})),w.Lc(19),w.Tb(),w.Tb(),w.Jc(20,Zn,2,1,"span",31),w.Pb(21,"br"),w.Tb(),w.Tb()}if(2&e){var c=w.gc(),r=c.index,i=c.$implicit,a=w.gc();w.Fb("hasError",(null==a.viewControls.errorOutputs[r]?null:a.viewControls.errorOutputs[r].name)||(null==a.viewControls.errorOutputs[r]?null:a.viewControls.errorOutputs[r].desc)),w.Cb(4),w.Mc(null==i?null:i.name),w.Cb(2),w.Nc("Output description: ",null==i?null:i.desc,""),w.Cb(4),w.nc("disabled",a.resultInfoChecked)("placeholder","The output name for"+i.name)("ngModel",a.resultInfo.outputs[r].name),w.Cb(2),w.Mc(a.resultInfo.prefix),w.Cb(2),w.Mc(a.resultInfo.suffix),w.Cb(1),w.nc("ngIf",null==a.viewControls.errorOutputs[r]?null:a.viewControls.errorOutputs[r].name),w.Cb(3),w.nc("disabled",a.resultInfoChecked)("ngModel",a.resultInfo.outputs[r].desc),w.Cb(1),w.Mc(a.resultInfo.outputs[r].desc),w.Cb(1),w.nc("ngIf",null==a.viewControls.errorOutputs[r]?null:a.viewControls.errorOutputs[r].desc)}}function tc(e,t){if(1&e&&w.Jc(0,ec,22,14,"div",123),2&e){var n=t.$implicit;w.nc("ngIf","outFile"==(null==n?null:n.type))}}function nc(e,t){if(1&e){var n=w.Vb();w.Ub(0,"button",86),w.cc("click",(function(){return w.Bc(n),w.gc().checkResultInfo()})),w.Lc(1,"Set the result information"),w.Tb()}}function cc(e,t){if(1&e){var n=w.Vb();w.Ub(0,"button",121),w.cc("click",(function(){return w.Bc(n),w.gc().resultInfoChecked=!1})),w.Lc(1,"Modify info "),w.Tb()}}function rc(e,t){if(1&e&&(w.Ub(0,"mat-icon",43),w.Lc(1,"looks_4"),w.Tb(),w.Ub(2,"span"),w.Lc(3," Confirm and submit "),w.Tb()),2&e){var n=w.gc();w.Fb("text-primary",3===n.currentStep),w.Cb(2),w.Fb("text-primary",3===n.currentStep)}}function ic(e,t){if(1&e&&w.Pb(0,"bdp-result-describer",128),2&e){var n=w.gc();w.nc("currentTask",n.selectedTask)("currentProject",n.currentProject)("resultInfo",n.resultInfo)("selectedInputs",n._selectedInputs)("validInputs",n.validInputs)}}function ac(e,t){1&e&&(w.Ub(0,"span"),w.Lc(1,"Save and Run"),w.Tb())}function sc(e,t){1&e&&(w.Ub(0,"span"),w.Pb(1,"i",129),w.Lc(2," Submitting ... "),w.Tb())}var oc,bc=function(){return["/home"]},lc=function(){return["/project/list"]},uc=((oc=function(){function e(t,n,c,r,i,a,s,o){_classCallCheck(this,e),this.router=t,this.route=n,this.projectService=c,this.systemService=r,this.userService=i,this.dataService=a,this.taskService=s,this.dialogRef=o,this.currentStep=0,this.paramChecked=!1,this.resultInfoChecked=!1,this.taskViewType="all",this.showWorkflow=!1,this.showIntermediateFile=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.projectID=this.route.snapshot.params.pid,this._subs=[],this.taskList={},this.allTasksInPkg={},this.taskListView={},this.taskKey2name={},this.taskKeys=[],this.validInputs=[],this.inputDataPreview=[],this._selectedInputs=[],this._selectedDataFiles=[],this._valueOfListData=[],this._loadedDataFile={},this.loadedTasks={},this.selectedTask=void 0,this.resultInfo={name:"",desc:"",prefix:"",suffix:"",outputs:[]},this.viewControls={isLoadingInputs:!1,isSubmitted:!1,isSubmitting:!1,isError:!1,errorInputs:[],errorOutputs:[],errorName:!1,errorDesc:!1,workflowErrors:[]},this._subs.push(this.projectService.currentProject$.subscribe((function(t){if(e.currentProject=t,t){e.currentProject.privilege.canRun||e.router.navigate(["/project",e.currentProject.id,"info"]);var n=t.packages;n.length>0?e.taskService.loadTasks(n.map((function(e){return e.id}))):e.taskService.loadTasks()}}))),this._subs.push(this.systemService.sysInfo$.subscribe((function(t){return e.sysConfig=t}))),this._subs.push(this.userService.currentUser$.subscribe((function(t){return e.currentUser=t}))),this._subs.push(this.taskService.taskList$.subscribe((function(t){if(t&&t.length>=0){e.taskList={},e.allTasksInPkg={},e.tasks=t;var n,c=_createForOfIteratorHelper(t);try{for(c.s();!(n=c.n()).done;){var r=n.value,i=r.package.sheetID+r.package.fullname;e.taskKey2name[i]="".concat(r.package.fullname," from ")+(r.package.sheetName||"Internal Package List"),e.taskList[i]||(e.taskList[i]=[]),e.allTasksInPkg[r.id]=r,e.taskList[i].push(r)}}catch(b){c.e(b)}finally{c.f()}e.taskKeys=e.currentProject&&Array.isArray(e.currentProject.packages)?e.currentProject.packages.map((function(e){return e.sheetID+e.fullname})):Object.keys(e.taskKey2name),e.changeTaskViewFilter(e.taskViewType);var a,s=_createForOfIteratorHelper(e.taskKeys);try{for(s.s();!(a=s.n()).done;){var o=a.value;e.taskList[o]=Object(q.a)(e.taskList[o],[function(e){return e.package.fullname},function(e){return e.name}],["asc","asc"])}}catch(b){s.e(b)}finally{s.f()}}}))),this._subs.push(this.taskService.taskValidInputs$.subscribe((function(t){return e.onValidInputChanged(t)}))),this._subs.push(this.dataService.incomingData$.subscribe((function(t){if("colnames"===t.viewType||"rownames"===t.viewType||"table"===t.viewType){var n=t.id+t.viewType+t.isPreview;e._loadedDataFile[n]||(e._loadedDataFile[n]={}),e._loadedDataFile[n]=t.data}}))),this.projectService.setCurrentProject(this.projectID)}},{key:"changeTaskViewFilter",value:function(e){e=e||"all";var t,n=_createForOfIteratorHelper(this.taskKeys);try{for(n.s();!(t=n.n()).done;){var c=t.value;this.taskListView[c]=Object(q.a)(Array.isArray(this.taskList[c])?this.taskList[c].filter((function(t){return"all"===e||t.type===e})):[],[function(e){return e.name}],["asc"])}}catch(r){n.e(r)}finally{n.f()}this.taskViewType=e}},{key:"getTaskByMap",value:function(e){var t=this,n=this.taskService.getTaskByMap(e).subscribe((function(c){n.unsubscribe(),console.log("XDD"),c.isError&&t.viewControls.workflowErrors.push("This task requires the task key ".concat(e.key," of package ").concat(e.pkg,"."));var r=c.success;t.loadedTasks[r.package.id]||(t.loadedTasks[r.package.id]={}),t.loadedTasks[r.package.id][r.id]=r,e.id=r.id,e.key=r.key,e.ver=r.package.version,e.pkg=r.package.name,e.pkgid=r.package.id}))}},{key:"onSelectTask",value:function(e){if((!this.selectedTask||this.selectedTask.id!==e.id)&&(this.selectedTask=e,this._selectedInputs.length=0,this._selectedDataFiles.length=0,this.timeStamp=bt().format("YYYYMMDD.HHmmss.SSS"),this.resultInfo.name="Result from "+e.name,this.resultInfo.desc="",this.resultInfo.outputs.length=0,this.resultInfoChecked=!1,this.paramChecked=!1,this.currentProject)){if(this.viewControls.isLoadingInputs=!0,e&&"workflow"===e.type){var t=e.mapper;this.viewControls.workflowErrors=[];for(var n=0;n<t.length;n++)for(var c=0;c<t[n].length;c++){var r=t[n][c];r.pkgid&&r.pkgid!==e.package.id&&this.getTaskByMap(r)}}this.taskService.getValidInputFile(e.id,this.currentProject.id);for(var i=0;i<this.selectedTask.arguments.length;i++){var a=this.selectedTask.arguments[i];"list"===a.type?this._selectedInputs[i]=a.default&&void 0!==a.default[0]?a.multiple?a.default:a.default[0]:[]:"value"===a.type?this._selectedInputs[i]=a.default&&void 0!==a.default[0]?a.default[0]:void 0:"outFile"===a.type&&(this.resultInfo.outputs[i]={name:a.name,desc:""})}}}},{key:"onTaskReloadBtnClick",value:function(){this.currentProject&&this.currentProject.packages&&this.taskService.loadTasks(this.currentProject.packages.map((function(e){return e.id})))}},{key:"onTaskBlur",value:function(e){e.stopPropagation(),this.viewControls.workflowErrors=[],this.selectedTask=void 0,this.paramChecked=!1,this.resultInfoChecked=!1,this.currentStep=0}},{key:"onGetList",value:function(e,t){if(!this.paramChecked){var n=this.selectedTask.arguments[t];if(this._selectedInputs[t]=void 0,this.viewControls.errorInputs=[],"list"===n.type){var c=n.dependOn.split(".");if("argv"===c[0]){var r,i=this._selectedInputs[+c[1]];for(var a in i)if(i[a]){r=a;break}if(r){var s=n.listType.split(".");"table"===s[0]&&this.dataService.getData(r,s[1],n.preview),this._valueOfListData[t]=r+s[1]+n.preview}else this.viewControls.errorInputs[+c[1]]="Please set this input first."}}}}},{key:"onListSaved",value:function(e,t){this._selectedInputs[t]=e.selectedList,this.viewControls.errorInputs=[]}},{key:"onFocusedDataFile",value:function(e,t,n){if(!this.paramChecked){for(var c in this._selectedInputs[t])this._selectedInputs[t][c]=c===e.id&&!this._selectedInputs[t][c];this._selectedDataFiles[t]=Object.values(this._selectedInputs[t]).filter((function(e){return e})).length>0,this.viewControls.errorInputs=[];for(var r=0;r<this.selectedTask.arguments.length;r++){var i=this.selectedTask.arguments[r];"list"===i.type&&i.dependOn==="argv."+t&&(this._selectedInputs[r]=void 0,this._valueOfListData[r]=void 0)}}}},{key:"onValidInputChanged",value:function(e){this.viewControls.isLoadingInputs=!1,this.validInputs.length=0,this.viewControls.errorInputs=[];for(var t=0;t<e.length;t++){var n=e[t];this.validInputs[n.index]=n.models,this._selectedInputs[n.index]||(this._selectedInputs[n.index]={});for(var c=Object.keys(this._selectedInputs[n.index]),r=n.models.map((function(e){return e.id})),i=0;i<c.length;i++){var a=c[i];r.indexOf(a)<0&&delete this._selectedInputs[n.index][a]}for(var s=0;s<n.models.length;s++)this._selectedInputs[n.index][n.models[s].id]=!!this._selectedInputs[n.index][n.models[s].id]}}},{key:"loadValidSubset",value:function(e){}},{key:"trackByDataFile",value:function(e,t){return t.id}},{key:"checkParams",value:function(){var e=!1;this.viewControls.errorInputs=[];var t=[];this.paramChecked=!1;for(var n=0;n<this.selectedTask.arguments.length;n++){var c=this.selectedTask.arguments[n];if("outFile"!==c.type){if("inFile"===c.type)for(var r in this._selectedInputs[n])this._selectedInputs[n][r]&&(t[n]=r);else"value"===c.type?"number"===c.format&&isNaN(parseFloat(this._selectedInputs[n]))?this.viewControls.errorInputs[n]="Only numbers are accepted.":t[n]=this._selectedInputs[n]:"list"===c.type?this._selectedInputs[n]&&(t[n]=this._selectedInputs[n],Array.isArray(t[n])||(t[n]=[t[n]])):"static"===c.type&&(c.default[0]||(c.default[0]=" "),t[n]=c.default[0]);void 0!==this.viewControls.errorInputs[n]?e=!0:c.optional||t[n]&&0!==t[n].length||(e=!0,this.viewControls.errorInputs[n]="Please set this argument")}}e?(this.paramChecked=!1,this.currentStep=1):(this.paramChecked=!0,this.currentStep=2)}},{key:"onTimeStampChange",value:function(e){console.log(e.checked),this.resultInfo.prefix=e.checked?"["+this.timeStamp+"] ":""}},{key:"checkResultInfo",value:function(){var e=!1;this.resultInfo.prefix=this.resultInfo.prefix.replace(/^\ +/,"").replace(/\ +$/," "),this.resultInfo.suffix=this.resultInfo.suffix.replace(/^\ +/," ").replace(/\ +$/,""),this.resultInfo.prefix.length>36?(this.viewControls.errorName="The length of the prefix should be less than or equal to 36 characters.",e=!0):this.resultInfo.suffix.length>36?(this.viewControls.errorName="The length of the suffix should be less than or equal to 36 characters.",e=!0):this.viewControls.errorName=!1,this.resultInfo.desc.length>500?(this.viewControls.errorDesc="The max length of the description is 500 characters.",e=!0):this.viewControls.errorDesc=!1,e||(this.resultInfoChecked=!0,this.currentStep=4)}},{key:"handleCorrectCaptcha",value:function(e){this.recaptchaResponse=e}},{key:"performTask",value:function(){var e=this,t=[],n=[],c=!1;this.viewControls.errorInputs=[],this.resultInfo.name.length>160?(this.viewControls.errorName="The length of the name should be less than or equal to 160 characters.",c=!0):this.viewControls.errorName=!1,this.resultInfo.desc.length>500?(this.viewControls.errorDesc="The max length of the description is 500 characters.",c=!0):this.viewControls.errorDesc=!1;for(var r=0;r<this.selectedTask.arguments.length;r++){var i=this.selectedTask.arguments[r];if("outFile"!==i.type){if("inFile"===i.type)for(var a in this._selectedInputs[r])this._selectedInputs[r][a]&&(t[r]=a);else"value"===i.type?"number"===i.format&&isNaN(parseFloat(this._selectedInputs[r]))?this.viewControls.errorInputs[r]="Only numbers are accepted.":t[r]=this._selectedInputs[r]:"list"===i.type?this._selectedInputs[r]&&(t[r]=this._selectedInputs[r],Array.isArray(t[r])||(t[r]=[t[r]])):"static"===i.type&&(i.default[0]||(i.default[0]=" "),t[r]=i.default[0]);void 0!==this.viewControls.errorInputs[r]?c=!0:i.optional||t[r]&&0!==t[r].length||(c=!0,this.viewControls.errorInputs[r]="Please set this input")}else{var s={name:void 0,desc:void 0};this.resultInfo.outputs[r].name.length>160&&(s.name="The name length exceeds 160 characters. Please shorten the name."),this.resultInfo.outputs[r].desc.length>500&&(s.desc="The description exceeds 500 characters. Please shorten the description."),s.name||s.desc?(this.viewControls.errorOutputs[r]=s,c=!0):n[r]={name:this.resultInfo.outputs[r].name,desc:this.resultInfo.outputs[r].desc}}}if(c)window.location.hash="settingParameters";else{var o=n.filter((function(e){return e})),b={run:!0,projectID:this.currentProject.id,inputs:t,outputs:o,name:this.resultInfo.name,desc:this.resultInfo.desc,prefix:this.resultInfo.prefix,suffix:this.resultInfo.suffix};this.viewControls.isSubmitting=!0,this.projectService.createResult(this.selectedTask.id,b).subscribe((function(t){if(!t.isError){var n=t.success;setTimeout((function(){e.router.navigate(["/result",n.id,"info"])}),100)}}))}}},{key:"reset",value:function(){console.log("reset"),this.viewControls.isSubmitted=!1,this.viewControls.isSubmitting=!1,this.viewControls.isError=!1,this.selectedTask=void 0}},{key:"hasTag",value:function(e,t,n){for(var c=0,r=0;r<e.length;r++)for(var i=0;i<t.length;i++)e[r]===t[i]&&c++;var a=!1;return("any"===n&&c>0||"all"===n&&c===e.length)&&(a=!0),a}},{key:"uploadFileForArg",value:function(e){var t=this;this.dialogRef.open(Ne.a,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{title:"Importing file(s) for the argument <u>".concat(e.name,"</u> of the task <u>").concat(this.selectedTask.name,"</u>."),allowedFormats:[e.format],project:this.currentProject,sysConfig:this.sysConfig,tasks:this.tasks,importType:"Folder"===e.format?"folder":"local",currentUser:this.currentUser,tags:e.tags}}).afterClosed().subscribe((function(){t.taskService.getValidInputFile(t.selectedTask.id,t.currentProject.id)}))}},{key:"ngOnDestroy",value:function(){this._subs.map((function(e){return e.unsubscribe?e.unsubscribe():""}))}},{key:"outputNumber",get:function(){return this.selectedTask?this.selectedTask.arguments.filter((function(e){return"outFile"===e.type})).length:0}}]),e}()).\u0275fac=function(e){return new(e||oc)(w.Ob(U.c),w.Ob(U.a),w.Ob(B.a),w.Ob(A.a),w.Ob($.a),w.Ob(lt.a),w.Ob(V.a),w.Ob(P.b))},oc.\u0275cmp=w.Ib({type:oc,selectors:[["result-create"]],decls:93,vars:42,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[1,"chi-header"],[1,"container-fluid"],["animationDuration","150ms",3,"dynamicHeight","selectedIndex","selectedIndexChange"],["mat-tab-label",""],[1,"p-1"],["class","row",4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[3,"disabled"],[1,"row"],[1,"col-12"],["mat-raised-button","",3,"click"],[4,"ngIf"],["class","col-12",4,"ngIf"],[1,"ml-5"],[3,"disabled","change"],["useTimeStamp",""],[1,"ml-3"],["matInput","","placeholder","Prefix",3,"disabled","ngModel","ngModelChange"],["matInput","","placeholder","Suffix",3,"disabled","ngModel","ngModelChange"],[1,"col-md-2"],[1,"col-md-10"],[2,"width","100%"],["matInput","","type","text","maxlength","160","size","160",3,"disabled","ngModel","placeholder","ngModelChange"],["matPrefix",""],["matSuffix",""],["class","text-danger",4,"ngIf"],["matInput","","maxlength","500","rows","4","placeholder","(Optional) Give some descriptions about this result",3,"disabled","ngModel","ngModelChange"],["class","row mt-3",4,"ngIf"],["ngFor","",3,"ngForOf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[3,"currentTask","currentProject","resultInfo","selectedInputs","validInputs",4,"ngIf"],["resultOK",""],["mat-raised-button","","color","accent","role","button",1,"btn","btn-primary",3,"disabled","click"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"mr-2"],["name","fontStyle","aria-label","Font Style",3,"ngModel","ngModelChange"],["value","all"],["value","standard"],[1,"fas","fa-cog","fa-fx"],["value","workflow"],[1,"fas","fa-cogs","fa-fx"],["value","system"],[1,"fas","fa-server","fa-fx"],[3,"click"],[1,"fas","fa-sync-alt","fa-fx"],["class","col-12 text-primary","style","font-size: 36px;",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-12","my-2"],[1,"col-12","text-primary",2,"font-size","36px"],[1,"fas","fa-cube","fa-fw","mr-2"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"d-flex","flex-column",3,"click"],["mat-card-avatar","",3,"src",4,"ngIf"],["class","fas fa-cogs fa-lg fa-fw",4,"ngIf"],["class","fas fa-cog fa-lg fa-fw",4,"ngIf"],["class","fas fa-puzzle-piece fa-lg fa-fw",4,"ngIf"],["class","fas fa-server fa-lg fa-fw",4,"ngIf"],[1,"fas","fa-cube","mr-2"],["style","min-height: 300px; display: flex; justify-content: center; flex-direction: column;",4,"ngIf"],["style","height: 100px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;","class","px-5",3,"innerHTML",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["role","list",4,"ngIf"],["style","width: 100%;",3,"taskMapper","additionalTasks","childTasks","taskArgs",4,"ngIf"],["mat-card-avatar","",3,"src"],[1,"fas","fa-cogs","fa-lg","fa-fw"],[1,"fas","fa-cog","fa-lg","fa-fw"],[1,"fas","fa-puzzle-piece","fa-lg","fa-fw"],[1,"fas","fa-server","fa-lg","fa-fw"],[2,"min-height","300px","display","flex","justify-content","center","flex-direction","column"],["mat-card-image","",1,"align-self-center",2,"max-height","300px","max-width","400px",3,"src"],[1,"px-5",2,"height","100px","white-space","nowrap","overflow","hidden","text-overflow","ellipsis",3,"innerHTML"],[3,"innerHTML"],["style","font-size: 14px;",4,"ngIf"],[2,"font-size","14px"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"fas","fa-project-diagram"],["mat-raised-button","","color","primary",3,"disabled","click"],["role","list"],["role","listitem","class","text-danger",4,"ngFor","ngForOf"],["role","listitem",1,"text-danger"],[2,"width","100%",3,"taskMapper","additionalTasks","childTasks","taskArgs"],[1,"my-4"],[1,"row","pb-2","mb-4",3,"ngSwitch"],["class","col-md-12",4,"ngIf"],[3,"ngSwitchCase"],[1,"col-md-12"],["class","text-muted",4,"ngIf"],[1,"text-muted"],["matInput","","type","text",3,"disabled","placeholder","ngModel","ngModelChange"],[1,"text-danger"],["mat-icon-button","",3,"click"],[1,"fas","fa-upload","fa-fw","fa-lg"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"badge","badge-primary","m-1"],["class","col-xl-4 col-lg-6 my-2",3,"role","checked","disabled","dataFile","onFocused",4,"ngIf"],[1,"col-xl-4","col-lg-6","my-2",3,"role","checked","disabled","dataFile","onFocused"],[3,"ngModel","multiple","disabled","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","col-12 p-2 m-2","style","padding:0px 10px;",4,"ngIf"],[1,"col-12","p-2","m-2",2,"padding","0px 10px"],["mat-button","","color","primary",1,"mb-3",2,"cursor","pointer",3,"click"],[1,"fa","fa-table"],[1,"fa","fa-caret-down","ml-2"],[1,"input-group"],["type","text","placeholder","No data selected.","readonly","",1,"form-control",3,"disabled","value"],[3,"hidden"],["style","width: 100%;","placeholder","Click to select the data","size","8",3,"multiple","ngModel","disabled","ngModelChange",4,"ngIf"],["placeholder","Click to select the data","size","8",2,"width","100%",3,"multiple","ngModel","disabled","ngModelChange"],["mat-raised-button","","color","warn",3,"click"],[1,"row","mt-3"],["class","row my-2",3,"hasError",4,"ngIf"],[1,"row","my-2"],["matInput","","type","text","maxlength","160","size","160",3,"disabled","placeholder","ngModel","ngModelChange"],[1,"col-md-12","mb-5"],["matInput","","maxlength","500","rows","4","placeholder","(Optional) Give some descriptions about this output.",3,"disabled","ngModel","ngModelChange"],[3,"currentTask","currentProject","resultInfo","selectedInputs","validInputs"],[1,"fas","fa-circle-o-notch","fa-spin","fa-lg","fa-fw","mr-3"]],template:function(e,t){if(1&e&&(w.Ub(0,"ol",0),w.Ub(1,"li",1),w.Ub(2,"a",2),w.Lc(3,"Home"),w.Tb(),w.Tb(),w.Ub(4,"li",1),w.Ub(5,"a",2),w.Lc(6,"Project List"),w.Tb(),w.Tb(),w.Jc(7,Ot,4,4,"li",3),w.Jc(8,Rt,2,0,"li",3),w.Jc(9,Dt,5,6,"li",4),w.Jc(10,qt,2,0,"li",4),w.Tb(),w.Ub(11,"div",5),w.Ub(12,"h4",6),w.Lc(13,"Let's perform a task"),w.Tb(),w.Pb(14,"br"),w.Pb(15,"br"),w.Ub(16,"div",7),w.Ub(17,"mat-tab-group",8),w.cc("selectedIndexChange",(function(e){return t.currentStep=e})),w.Ub(18,"mat-tab"),w.Jc(19,Bt,4,4,"ng-template",9),w.Ub(20,"div",10),w.Ub(21,"h2"),w.Lc(22,"Step 1. Choose a task"),w.Tb(),w.Jc(23,Vt,13,1,"div",11),w.Jc(24,fn,4,2,"div",12),w.Tb(),w.Tb(),w.Ub(25,"mat-tab",13),w.Jc(26,dn,4,4,"ng-template",9),w.Ub(27,"h2"),w.Lc(28,"2. Set parameters"),w.Tb(),w.Jc(29,gn,9,2,"div",11),w.Ub(30,"div",14),w.Ub(31,"div",15),w.Ub(32,"button",16),w.cc("click",(function(){return t.showIntermediateFile=!t.showIntermediateFile})),w.Lc(33,"Toggle intermediate output files"),w.Tb(),w.Tb(),w.Tb(),w.Ub(34,"div",14),w.Jc(35,pn,2,0,"div",17),w.Jc(36,Yn,7,4,"div",18),w.Tb(),w.Tb(),w.Ub(37,"mat-tab",13),w.Jc(38,Kn,4,4,"ng-template",9),w.Ub(39,"h2"),w.Lc(40,"Step 3. Set result information"),w.Tb(),w.Pb(41,"br"),w.Ub(42,"div",14),w.Ub(43,"div",15),w.Ub(44,"h3"),w.Lc(45,"Result prefix/suffix:"),w.Tb(),w.Ub(46,"div",19),w.Ub(47,"mat-checkbox",20,21),w.cc("change",(function(e){return t.onTimeStampChange(e)})),w.Lc(49,"Time stamp"),w.Tb(),w.Ub(50,"mat-form-field",22),w.Ub(51,"input",23),w.cc("ngModelChange",(function(e){return t.resultInfo.prefix=e})),w.Tb(),w.Tb(),w.Ub(52,"mat-form-field",22),w.Ub(53,"input",24),w.cc("ngModelChange",(function(e){return t.resultInfo.suffix=e})),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Ub(54,"div",14),w.Ub(55,"div",25),w.Ub(56,"h3"),w.Lc(57,"Name"),w.Tb(),w.Tb(),w.Ub(58,"div",26),w.Ub(59,"mat-form-field",27),w.Ub(60,"input",28),w.cc("ngModelChange",(function(e){return t.resultInfo.name=e})),w.Tb(),w.Ub(61,"span",29),w.Lc(62),w.Tb(),w.Ub(63,"span",30),w.Lc(64),w.Tb(),w.Jc(65,Wn,2,1,"mat-hint",31),w.Tb(),w.Tb(),w.Tb(),w.Ub(66,"div",14),w.Ub(67,"div",25),w.Ub(68,"h3"),w.Lc(69,"Description"),w.Tb(),w.Tb(),w.Ub(70,"div",26),w.Ub(71,"mat-form-field",27),w.Ub(72,"textarea",32),w.cc("ngModelChange",(function(e){return t.resultInfo.desc=e})),w.Lc(73),w.Tb(),w.Jc(74,Gn,2,1,"mat-hint",31),w.Tb(),w.Tb(),w.Tb(),w.Jc(75,Qn,4,0,"div",33),w.Jc(76,tc,1,1,"ng-template",34),w.Jc(77,nc,2,0,"button",35),w.Jc(78,cc,2,0,"button",36),w.Tb(),w.Ub(79,"mat-tab",13),w.Jc(80,rc,4,4,"ng-template",9),w.Ub(81,"h2"),w.Lc(82,"Step 4. Confirm and submit"),w.Tb(),w.Jc(83,ic,1,5,"bdp-result-describer",37),w.Pb(84,"hr"),w.Pb(85,"br"),w.Ub(86,"mat-checkbox",null,38),w.Lc(88,"I have checked my result settings."),w.Tb(),w.Pb(89,"br"),w.Ub(90,"button",39),w.cc("click",(function(){return t.performTask()})),w.Jc(91,ac,2,0,"span",17),w.Jc(92,sc,3,0,"span",17),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb()),2&e){var n=w.yc(48),c=w.yc(87);w.Cb(2),w.nc("routerLink",w.qc(40,bc)),w.Cb(3),w.nc("routerLink",w.qc(41,lc)),w.Cb(2),w.nc("ngIf",t.currentProject),w.Cb(1),w.nc("ngIf",!t.currentProject),w.Cb(1),w.nc("ngIf",t.currentProject),w.Cb(1),w.nc("ngIf",!t.currentProject),w.Cb(7),w.nc("dynamicHeight",!0)("selectedIndex",t.currentStep),w.Cb(6),w.nc("ngIf",!t.selectedTask),w.Cb(1),w.nc("ngForOf",t.taskKeys),w.Cb(1),w.nc("disabled",!t.selectedTask),w.Cb(4),w.nc("ngIf",t.selectedTask),w.Cb(6),w.nc("ngIf",t.viewControls.isLoadingInputs),w.Cb(1),w.nc("ngIf",!t.viewControls.isLoadingInputs),w.Cb(1),w.nc("disabled",!t.selectedTask||!t.paramChecked),w.Cb(10),w.nc("disabled",t.resultInfoChecked),w.Cb(4),w.nc("disabled",t.resultInfoChecked)("ngModel",t.resultInfo.prefix)("disabled",n.checked),w.Cb(2),w.nc("disabled",t.resultInfoChecked)("ngModel",t.resultInfo.suffix),w.Cb(7),w.pc("placeholder","Result of ",null==t.selectedTask?null:t.selectedTask.name,""),w.nc("disabled",t.resultInfoChecked)("ngModel",t.resultInfo.name),w.Cb(2),w.Mc(t.resultInfo.prefix),w.Cb(2),w.Mc(t.resultInfo.suffix),w.Cb(1),w.nc("ngIf",t.viewControls.errorName),w.Cb(7),w.nc("disabled",t.resultInfoChecked)("ngModel",t.resultInfo.desc),w.Cb(1),w.Mc(t.resultInfo.desc),w.Cb(1),w.nc("ngIf",t.viewControls.errorDesc),w.Cb(1),w.nc("ngIf",t.outputNumber>0),w.Cb(1),w.nc("ngForOf",null==t.selectedTask?null:t.selectedTask.arguments),w.Cb(1),w.nc("ngIf",t.selectedTask&&!t.resultInfoChecked),w.Cb(1),w.nc("ngIf",t.selectedTask&&t.resultInfoChecked),w.Cb(1),w.nc("disabled",!t.selectedTask||!t.paramChecked||!t.resultInfoChecked),w.Cb(4),w.nc("ngIf",t.paramChecked&&t.resultInfoChecked),w.Cb(7),w.nc("disabled",!c.checked||t.viewControls.isSubmitting),w.Cb(1),w.nc("ngIf",!t.viewControls.isSubmitting),w.Cb(1),w.nc("ngIf",t.viewControls.isSubmitting)}},directives:[U.f,c.n,v.c,v.a,v.d,c.m,a.b,b.a,y.b,d.a,r.b,r.i,r.l,r.e,y.f,y.g,f.a,s.b,s.a,m.a,c.l,o.a,o.f,o.j,o.i,o.d,o.b,o.c,o.g,T.a,T.c,ut.a,c.p,c.q,y.e,ft.a,p.a,I.k,Ft],pipes:[c.v],styles:["fieldset[_ngcontent-%COMP%]{border:1px solid grey;padding:10px 15px}legend[_ngcontent-%COMP%]{width:auto;margin-bottom:0}.hasError[_ngcontent-%COMP%]{border:1px solid red;background-color:rgba(231,195,195,.3)}.link[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,255,.1)}.mat-tab-label[_ngcontent-%COMP%]{opacity:1!important}"]}),oc),fc=n("eIep");function dc(e,t){1&e&&(w.Ub(0,"h3",12),w.Lc(1,"My projects"),w.Tb())}function gc(e,t){1&e&&(w.Ub(0,"h3",12),w.Lc(1,"Projects that shared with me"),w.Tb())}function pc(e,t){1&e&&(w.Ub(0,"h3",12),w.Lc(1,"Public projects"),w.Tb())}function hc(e,t){1&e&&(w.Ub(0,"h1"),w.Lc(1,"One more step to proceed."),w.Tb())}function vc(e,t){1&e&&(w.Ub(0,"p"),w.Lc(1,"Please wait the administrator to unlock your privileges."),w.Tb())}function mc(e,t){1&e&&(w.Ub(0,"h1"),w.Lc(1,"This account has been locked. Please inform the administrator to unlock your account."),w.Tb())}var Tc=function(){return["/account/profile"]};function Cc(e,t){1&e&&(w.Ub(0,"p"),w.Pb(1,"br"),w.Lc(2,"Sorry for the inconvinience, but this site aims for a private group to use. "),w.Pb(3,"br"),w.Lc(4,"Every user needs the admin's approval to use the resources. "),w.Pb(5,"br"),w.Ub(6,"b"),w.Lc(7,"You might want to "),w.Ub(8,"a",2),w.Lc(9,"specify your account name"),w.Tb(),w.Lc(10," to allow the administrator to recognize you."),w.Tb(),w.Tb()),2&e&&(w.Cb(8),w.nc("routerLink",w.qc(1,Tc)))}function kc(e,t){if(1&e&&(w.Ub(0,"div"),w.Ub(1,"div",13),w.Jc(2,hc,2,0,"h1",9),w.Jc(3,vc,2,0,"p",9),w.Jc(4,mc,2,0,"h1",9),w.Jc(5,Cc,11,2,"p",9),w.Ub(6,"p"),w.Ub(7,"button",14),w.Lc(8,"Learn more"),w.Tb(),w.Tb(),w.Tb(),w.Tb()),2&e){var n=w.gc();w.Cb(2),w.nc("ngIf",n.currentUser&&!n.currentUser.auths.bdp),w.Cb(1),w.nc("ngIf",n.currentUser&&!n.currentUser.auths.bdp),w.Cb(1),w.nc("ngIf",n.currentUser&&1===n.currentUser.auths.bdp),w.Cb(1),w.nc("ngIf",n.currentUser&&!n.currentUser.auths.bdp)}}function Uc(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",27),w.Ub(1,"h1",28),w.Lc(2,"Welcome to Big Data Processor!"),w.Tb(),w.Ub(3,"p",29),w.Lc(4,"You haven't created any project."),w.Tb(),w.Pb(5,"hr",30),w.Ub(6,"p"),w.Lc(7,"Try to create a project first."),w.Tb(),w.Ub(8,"button",31),w.cc("click",(function(){return w.Bc(n),w.gc(3).onNewProject()})),w.Lc(9," Create a project "),w.Tb(),w.Tb()}}var Pc=function(){return["/project/list"]},wc=function(){return{listType:"myProjects"}},yc=function(){return{listType:"publicProjects"}};function Ic(e,t){1&e&&(w.Ub(0,"div",27),w.Ub(1,"h1",32),w.Lc(2,"You have no shared projects."),w.Tb(),w.Ub(3,"p",29),w.Lc(4,"Other users can share their projects with you."),w.Tb(),w.Pb(5,"hr",30),w.Ub(6,"button",33),w.Lc(7," View your own projects "),w.Tb(),w.Ub(8,"button",34),w.Lc(9," View public projects "),w.Tb(),w.Tb()),2&e&&(w.Cb(6),w.nc("routerLink",w.qc(4,Pc))("queryParams",w.qc(5,wc)),w.Cb(2),w.nc("routerLink",w.qc(6,Pc))("queryParams",w.qc(7,yc)))}var Lc=function(){return{listType:"sharedProjects"}};function jc(e,t){1&e&&(w.Ub(0,"div",27),w.Ub(1,"h1",32),w.Lc(2,"No public projects."),w.Tb(),w.Ub(3,"p",29),w.Lc(4,"Public projects can be viewed by registered users."),w.Tb(),w.Pb(5,"hr",30),w.Ub(6,"p"),w.Lc(7,"Registered users can specify their projects as public."),w.Tb(),w.Ub(8,"button",33),w.Lc(9," View your own projects "),w.Tb(),w.Ub(10,"button",34),w.Lc(11," View shared projects "),w.Tb(),w.Tb()),2&e&&(w.Cb(8),w.nc("routerLink",w.qc(4,Pc))("queryParams",w.qc(5,wc)),w.Cb(2),w.nc("routerLink",w.qc(6,Pc))("queryParams",w.qc(7,Lc)))}function xc(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",35),w.cc("click",(function(){w.Bc(n);var e=t.$implicit;return w.gc(3).onProjectInfo(e)})),w.Ub(1,"span",36),w.Lc(2),w.Tb(),w.Pb(3,"br"),w.Ub(4,"h2",37),w.Lc(5),w.Tb(),w.Pb(6,"br"),w.Ub(7,"p",38),w.Lc(8),w.Tb(),w.Ub(9,"div"),w.Ub(10,"span",39),w.Lc(11),w.Tb(),w.Ub(12,"div",40),w.Ub(13,"span",41),w.Lc(14),w.Tb(),w.Pb(15,"br"),w.Ub(16,"span",41),w.Pb(17,"i",42),w.Lc(18),w.Tb(),w.Tb(),w.Tb(),w.Tb()}if(2&e){var c=t.$implicit;w.Cb(2),w.Mc(null==c?null:c.id),w.Cb(3),w.Mc(null==c?null:c.name),w.Cb(3),w.Nc(" ",null==c?null:c.desc," "),w.Cb(3),w.Nc("Updated at ",null==c||null==c.updatedAt?null:c.updatedAt.calendar(),""),w.Cb(3),w.Nc("Owner: ",(null==c||null==c.owner?null:c.owner.name)||"unknown",""),w.Cb(4),w.Mc(null==c||null==c.packages[0]?null:c.packages[0].fullname)}}var Sc=function(){return[2,5,10,30,50,100,300,500]},Jc=function(){return[10,30,50,100,300,500]};function Fc(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div"),w.Ub(1,"mat-paginator",22),w.cc("page",(function(e){return w.Bc(n),w.gc(2).onPageChange(e)})),w.Tb(),w.Jc(2,Uc,10,0,"div",23),w.Jc(3,Ic,10,8,"div",23),w.Jc(4,jc,12,8,"div",23),w.Ub(5,"div",24),w.cc("click",(function(){return w.Bc(n),w.gc(2).onNewProject()})),w.Pb(6,"i",25),w.Lc(7,"Create a new project "),w.Tb(),w.Jc(8,xc,19,6,"div",26),w.Ub(9,"mat-paginator",22),w.cc("page",(function(e){return w.Bc(n),w.gc(2).onPageChange(e)})),w.Tb(),w.Tb()}if(2&e){var c=w.gc(2);w.Cb(1),w.nc("length",c.totalCount)("pageSize",c.pageSize)("pageIndex",c.pageIndex)("pageSizeOptions",w.qc(12,Sc)),w.Cb(1),w.nc("ngIf","myProjects"===c.listType&&c.projects&&0===c.projects.length),w.Cb(1),w.nc("ngIf","sharedProjects"===c.listType&&c.projects&&0===c.projects.length),w.Cb(1),w.nc("ngIf","publicProjects"===c.listType&&c.projects&&0===c.projects.length),w.Cb(4),w.nc("ngForOf",c.projects),w.Cb(1),w.nc("length",c.totalCount)("pageSize",c.pageSize)("pageIndex",c.pageIndex)("pageSizeOptions",w.qc(13,Jc))}}function _c(e,t){if(1&e&&(w.Ub(0,"div",15),w.Ub(1,"div",16),w.Ub(2,"nav",17),w.Ub(3,"a",18),w.Pb(4,"i",19),w.Lc(5,"My Projects "),w.Tb(),w.Ub(6,"a",18),w.Pb(7,"i",20),w.Lc(8,"Shared "),w.Tb(),w.Ub(9,"a",18),w.Pb(10,"i",21),w.Lc(11,"Public "),w.Tb(),w.Tb(),w.Tb(),w.Ub(12,"div",16),w.Jc(13,Fc,10,14,"div",9),w.Tb(),w.Tb()),2&e){var n=w.gc();w.Cb(3),w.Ic("background-color","myProjects"===n.listType?"#CCE5FE":"initial"),w.Fb("text-primary","myProjects"===n.listType),w.nc("routerLink",w.qc(22,Pc))("queryParams",w.qc(23,wc))("active","myProjects"===n.listType),w.Cb(3),w.Ic("background-color","sharedProjects"===n.listType?"#CCE5FE":"initial"),w.Fb("text-primary","sharedProjects"===n.listType),w.nc("routerLink",w.qc(24,Pc))("queryParams",w.qc(25,Lc))("active","sharedProjects"===n.listType),w.Cb(3),w.Ic("background-color","publicProjects"===n.listType?"#CCE5FE":"initial"),w.Fb("text-primary","publicProjects"===n.listType),w.nc("routerLink",w.qc(26,Pc))("queryParams",w.qc(27,yc))("active","publicProjects"===n.listType),w.Cb(4),w.nc("ngIf",n.projects&&n.currentUser&&n.currentUser.auths.bdp>=2)}}function Mc(e,t){1&e&&w.Pb(0,"i",55)}function Oc(e,t){1&e&&w.Pb(0,"i",56)}function Rc(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",43),w.Ub(1,"a",44),w.cc("click",(function(){w.Bc(n);var e=w.gc();return e.showRightButtonContent=!e.showRightButtonContent})),w.Jc(2,Mc,1,0,"i",45),w.Jc(3,Oc,1,0,"i",46),w.Ub(4,"span",47),w.Lc(5,"MENU"),w.Tb(),w.Ub(6,"span",48),w.Lc(7,"\u276f"),w.Tb(),w.Tb(),w.Pb(8,"br"),w.Ub(9,"a",49),w.Pb(10,"i",50),w.Ub(11,"span",51),w.Lc(12,"My projects"),w.Tb(),w.Ub(13,"span",48),w.Lc(14,"\u276f"),w.Tb(),w.Tb(),w.Pb(15,"br"),w.Ub(16,"a",49),w.Pb(17,"i",52),w.Ub(18,"span",51),w.Lc(19,"Shared with me"),w.Tb(),w.Ub(20,"span",48),w.Lc(21,"\u276f"),w.Tb(),w.Tb(),w.Pb(22,"br"),w.Ub(23,"a",49),w.Pb(24,"i",53),w.Ub(25,"span",51),w.Lc(26,"Public projects"),w.Tb(),w.Ub(27,"span",48),w.Lc(28,"\u276f"),w.Tb(),w.Tb(),w.Pb(29,"br"),w.Ub(30,"a",44),w.cc("click",(function(){return w.Bc(n),w.gc().onNewProject()})),w.Pb(31,"i",54),w.Ub(32,"span",51),w.Lc(33,"New project"),w.Tb(),w.Ub(34,"span",48),w.Lc(35,"\u276f"),w.Tb(),w.Tb(),w.Pb(36,"br"),w.Tb()}if(2&e){var c=w.gc();w.nc("@rightButtonState",c.showRightButtonContent?"active":"inactive"),w.Cb(2),w.nc("ngIf",c.showRightButtonContent),w.Cb(1),w.nc("ngIf",!c.showRightButtonContent),w.Cb(1),w.Fb("active",c.showRightButtonContent),w.Cb(5),w.Fb("active","myProjects"===c.listType),w.nc("routerLink",w.qc(25,Pc))("queryParams",w.qc(26,wc)),w.Cb(2),w.Fb("active",c.showRightButtonContent),w.Cb(5),w.Fb("active","sharedProjects"===c.listType),w.nc("routerLink",w.qc(27,Pc))("queryParams",w.qc(28,Lc)),w.Cb(2),w.Fb("active",c.showRightButtonContent),w.Cb(5),w.Fb("active","publicProjects"===c.listType),w.nc("routerLink",w.qc(29,Pc))("queryParams",w.qc(30,yc)),w.Cb(2),w.Fb("active",c.showRightButtonContent),w.Cb(7),w.Fb("active",c.showRightButtonContent)}}var Nc,Dc=function(){return["/home"]},qc=((Nc=function(){function e(t,n,c,r,i){_classCallCheck(this,e),this.projectService=t,this.systemService=n,this.router=c,this.route=r,this.userService=i}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.projects=void 0,this.showRightButtonContent=!1,this._subs=[],this.listType="myProjects",this.pageIndex=0,this.pageSize=30,this.totalCount=0,this._subs.push(this.userService.currentUser$.subscribe((function(t){return e.currentUser=t}))),this.route.queryParamMap.pipe(Object(fc.a)((function(t){return e.listType=t.get("listType")||"myProjects",e.pageSize=+t.get("pageSize")||30,e.pageIndex=+t.get("pageIndex")||0,"sharedProjects"===e.listType?e.projectService.getSharedProjects(e.pageIndex,e.pageSize):"publicProjects"===e.listType?e.projectService.getPublicProjects(e.pageIndex,e.pageSize):e.projectService.getProjects(e.pageIndex,e.pageSize)}))).subscribe((function(t){t.isError||(e.projects=t.success.records,e.totalCount=t.success.totalCount)}))}},{key:"sortFunc",value:function(e,t){return t.createdAt.valueOf()-e.createdAt.valueOf()}},{key:"onNewProject",value:function(){this.router.navigate(["/project/create"])}},{key:"onProjectInfo",value:function(e){this.router.navigate(["/project/"+e.id+"/info"])}},{key:"onPageChange",value:function(e){this.router.navigate(["/project/list"],{queryParams:{listType:this.listType,pageSize:e.pageSize,pageIndex:e.pageIndex}})}},{key:"ngOnDestroy",value:function(){this._subs.map((function(e){return e.unsubscribe?e.unsubscribe():""}))}}]),e}()).\u0275fac=function(e){return new(e||Nc)(w.Ob(B.a),w.Ob(A.a),w.Ob(U.c),w.Ob(U.a),w.Ob($.a))},Nc.\u0275cmp=w.Ib({type:Nc,selectors:[["project-list"]],decls:18,vars:12,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"bdp-main-container"],["class","chi-header",4,"ngIf"],[1,"container",2,"padding","10px"],[4,"ngIf"],["class","row",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[1,"chi-header"],[1,"jumbotron"],["type","button","role","button",1,"btn","btn-primary","btn-lg"],[1,"row"],[1,"col-12"],["mat-tab-nav-bar",""],["mat-tab-link","",2,"text-decoration","none",3,"routerLink","queryParams","active"],[1,"fas","fa-list","mr-3"],[1,"far","fa-handshake","fa-fw","mr-2"],[1,"fa","fa-list-alt","fa-fw","mr-2"],[2,"background-color","rgba(255,255, 255, 0.7)","border","thin solid darkgray",3,"length","pageSize","pageIndex","pageSizeOptions","page"],["class","jumbotron mb-0",4,"ngIf"],[1,"project","clearfix",2,"text-align","center","line-height","40px","min-height","40px","background-color","rgba(255, 243, 205, 0.4)",3,"click"],[1,"fas","fa-plus-square","fa-fw","mr-2"],["class","project clearfix",3,"click",4,"ngFor","ngForOf"],[1,"jumbotron","mb-0"],[1,"mat-display-2"],[1,"mat-title"],[1,"my-4"],["mat-raised-button","","color","primary",3,"click"],[1,"mat-display-1"],["mat-raised-button","","color","primary",3,"routerLink","queryParams"],["mat-raised-button","",1,"ml-3",3,"routerLink","queryParams"],[1,"project","clearfix",3,"click"],[1,"text-muted","float-right",2,"font-size","8pt"],[1,"projectTitle"],[1,"p-2","text-muted"],[1,"text-muted",2,"font-size","10pt"],[1,"clearfix","float-right","text-muted"],[1,"float-right"],[1,"fas","fa-cube","mr-2"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ml-2"],[1,"chi-rbtn-arrow"],[1,"chi-rbtn",3,"routerLink","queryParams"],[1,"fas","fa-list","fa-fw"],[1,"chi-rbtn-content"],[1,"far","fa-handshake","fa-fw"],[1,"fa","fa-list-alt","fa-fw"],[1,"fas","fa-plus-square","fa-fw"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"]],template:function(e,t){1&e&&(w.Ub(0,"ol",0),w.Ub(1,"li",1),w.Ub(2,"a",2),w.Lc(3,"Home"),w.Tb(),w.Tb(),w.Ub(4,"li",3),w.Ub(5,"a",2),w.Lc(6," Project List"),w.Tb(),w.Ub(7,"a",4),w.Pb(8,"i",5),w.Tb(),w.Tb(),w.Tb(),w.Ub(9,"div",6),w.Jc(10,dc,2,0,"h3",7),w.Jc(11,gc,2,0,"h3",7),w.Jc(12,pc,2,0,"h3",7),w.Pb(13,"br"),w.Ub(14,"div",8),w.Jc(15,kc,9,4,"div",9),w.Jc(16,_c,14,28,"div",10),w.Tb(),w.Tb(),w.Jc(17,Rc,37,31,"div",11)),2&e&&(w.Cb(2),w.nc("routerLink",w.qc(9,Dc)),w.Cb(3),w.nc("routerLink",w.qc(10,Pc)),w.Cb(2),w.nc("routerLink",w.qc(11,Pc)),w.Cb(3),w.nc("ngIf","myProjects"===t.listType),w.Cb(1),w.nc("ngIf","sharedProjects"===t.listType),w.Cb(1),w.nc("ngIf","publicProjects"===t.listType),w.Cb(3),w.nc("ngIf",t.currentUser&&t.currentUser.auths.bdp<=1),w.Cb(1),w.nc("ngIf",t.currentUser&&t.currentUser.auths.bdp>=2),w.Cb(1),w.nc("ngIf",t.projects&&t.currentUser&&t.currentUser.auths.bdp>=2))},directives:[U.f,c.n,v.f,v.e,g.a,c.m,a.b,U.d],styles:[".project[_ngcontent-%COMP%]{min-height:70px;padding:5px;height:auto;margin:5px 0;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);background-color:hsla(0,0%,100%,.5);cursor:pointer;transition:all .3s cubic-bezier(.25,.8,.25,1)}.project[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);background-color:#fff3cd}.projectTitle[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%}.mat-tab-link[_ngcontent-%COMP%]{opacity:1!important}"],data:{animation:[Re.a]}}),Nc),Bc=n("MKys"),Vc=n("xsm5"),Ac=n("RMae"),$c=n("jhN1"),Ec=n("2uAV");function zc(e,t){if(1&e&&(w.Ub(0,"span"),w.Lc(1),w.Tb()),2&e){var n=w.gc(2);w.Cb(1),w.Nc(" ",n.currentProject.name,"")}}var Hc=function(e){return["/project",e,"info"]};function Yc(e,t){if(1&e&&(w.Ub(0,"li",8),w.Ub(1,"a",2),w.Lc(2,"Project"),w.Jc(3,zc,2,1,"span",5),w.Tb(),w.Ub(4,"a",9),w.Pb(5,"i",10),w.Tb(),w.Tb()),2&e){var n=w.gc();w.Cb(1),w.nc("routerLink",w.rc(3,Hc,n.currentProject.id)),w.Cb(2),w.nc("ngIf",n.currentProject),w.Cb(1),w.nc("routerLink",w.rc(5,Hc,n.currentProject.id))}}function Kc(e,t){1&e&&(w.Ub(0,"li",8),w.Lc(1,"Project information"),w.Tb())}function Wc(e,t){1&e&&(w.Ub(0,"div"),w.Lc(1,"Loading ... "),w.Pb(2,"i",11),w.Tb())}function Gc(e,t){if(1&e){var n=w.Vb();w.Ub(0,"mat-form-field",29),w.Ub(1,"input",30),w.cc("ngModelChange",(function(e){return w.Bc(n),w.gc(2).currentProject.name=e})),w.Tb(),w.Tb()}if(2&e){var c=w.gc(2);w.Cb(1),w.nc("ngModel",c.currentProject.name)}}function Qc(e,t){if(1&e){var n=w.Vb();w.Ub(0,"mat-form-field",29),w.Ub(1,"textarea",31),w.cc("ngModelChange",(function(e){return w.Bc(n),w.gc(2).currentProject.desc=e})),w.Lc(2),w.Tb(),w.Tb()}if(2&e){var c=w.gc(2);w.Cb(1),w.nc("ngModel",c.currentProject.desc),w.Cb(1),w.Mc(c.currentProject.desc)}}function Xc(e,t){1&e&&(w.Ub(0,"span"),w.Lc(1,"This is a public project."),w.Tb())}function Zc(e,t){1&e&&(w.Ub(0,"span"),w.Lc(1,"This is a private project."),w.Tb())}function er(e,t){1&e&&(w.Ub(0,"div",32),w.Lc(1," No package assigned. "),w.Tb())}function tr(e,t){1&e&&w.Pb(0,"i",57)}function nr(e,t){1&e&&w.Pb(0,"i",58)}function cr(e,t){if(1&e&&(w.Sb(0),w.Jc(1,tr,1,0,"i",55),w.Jc(2,nr,1,0,"i",56),w.Rb()),2&e){var n=w.gc(2).$implicit;w.Cb(1),w.nc("ngIf",null==n.privilege?null:n.privilege.canView),w.Cb(1),w.nc("ngIf",!(null!=n.privilege&&n.privilege.canView))}}function rr(e,t){1&e&&w.Pb(0,"i",59)}function ir(e,t){1&e&&(w.Ub(0,"span",46),w.Lc(1,"owner"),w.Tb())}function ar(e,t){1&e&&(w.Ub(0,"span",46),w.Lc(1,"manager"),w.Tb())}function sr(e,t){1&e&&(w.Ub(0,"span",46),w.Lc(1," viewer"),w.Tb())}function or(e,t){1&e&&(w.Ub(0,"span",46),w.Lc(1," runner"),w.Tb())}function br(e,t){if(1&e&&(w.Ub(0,"div",60),w.Jc(1,ir,2,0,"span",47),w.Jc(2,ar,2,0,"span",47),w.Jc(3,sr,2,0,"span",47),w.Jc(4,or,2,0,"span",47),w.Tb()),2&e){var n=w.gc(2).$implicit;w.Cb(1),w.nc("ngIf",n.privilege.isOwner),w.Cb(1),w.nc("ngIf",n.privilege.isManager),w.Cb(1),w.nc("ngIf",n.privilege.isViewer),w.Cb(1),w.nc("ngIf",n.privilege.isRunner)}}function lr(e,t){1&e&&(w.Ub(0,"div",60),w.Ub(1,"span",46),w.Lc(2,"public"),w.Tb(),w.Tb())}function ur(e,t){1&e&&(w.Ub(0,"span",61),w.Lc(1,"main package"),w.Tb())}function fr(e,t){if(1&e&&(w.Ub(0,"span",62),w.Lc(1),w.Tb()),2&e){var n=t.$implicit;w.Cb(1),w.Mc(n)}}function dr(e,t){if(1&e){var n=w.Vb();w.Ub(0,"button",67),w.cc("click",(function(){w.Bc(n);var e=w.gc(3).index;return w.gc(3).movePkgUp(e)})),w.Pb(1,"i",68),w.Tb()}}function gr(e,t){if(1&e){var n=w.Vb();w.Ub(0,"button",67),w.cc("click",(function(){w.Bc(n);var e=w.gc(3).index;return w.gc(3).movePkgDown(e)})),w.Pb(1,"i",69),w.Tb()}}function pr(e,t){if(1&e){var n=w.Vb();w.Ub(0,"mat-card-actions"),w.Jc(1,dr,2,0,"button",63),w.Jc(2,gr,2,0,"button",64),w.Ub(3,"button",65),w.cc("click",(function(){w.Bc(n);var e=w.gc(2).index;return w.gc(3).removePkg(e)})),w.Pb(4,"i",66),w.Tb(),w.Tb()}if(2&e){var c=w.gc(2).index,r=w.gc(3);w.Cb(1),w.nc("ngIf",0!==c),w.Cb(1),w.nc("ngIf",c<r.currentProject.packages.length-1)}}function hr(e,t){1&e&&(w.Ub(0,"span",46),w.Lc(1," (You)"),w.Tb())}function vr(e,t){1&e&&(w.Ub(0,"span",70),w.Lc(1,"Under development"),w.Tb())}function mr(e,t){1&e&&(w.Ub(0,"span",71),w.Lc(1,"Experimenting"),w.Tb())}function Tr(e,t){1&e&&(w.Ub(0,"span",72),w.Lc(1,"Stable"),w.Tb())}function Cr(e,t){1&e&&(w.Ub(0,"span",73),w.Lc(1,"Out of date"),w.Tb())}function kr(e,t){if(1&e&&(w.Ub(0,"mat-card",37),w.Ub(1,"mat-card-header"),w.Ub(2,"div",38),w.Jc(3,cr,3,2,"ng-container",5),w.Jc(4,rr,1,0,"i",39),w.Tb(),w.Ub(5,"mat-card-title"),w.Ub(6,"b"),w.Lc(7),w.Tb(),w.Tb(),w.Ub(8,"mat-card-subtitle"),w.Lc(9),w.hc(10,"htmlToPlainText"),w.Tb(),w.Jc(11,br,5,4,"div",40),w.Jc(12,lr,3,0,"div",40),w.Tb(),w.Ub(13,"mat-card-content"),w.Jc(14,ur,2,0,"span",41),w.Jc(15,fr,2,1,"span",42),w.Tb(),w.Jc(16,pr,5,2,"mat-card-actions",5),w.Ub(17,"mat-card-footer",43),w.Ub(18,"div",44),w.Pb(19,"i",45),w.Ub(20,"span",46),w.Lc(21),w.Tb(),w.Jc(22,hr,2,0,"span",47),w.Tb(),w.Tb(),w.Ub(23,"mat-card-footer",48),w.Ub(24,"div",49),w.Sb(25,50),w.Jc(26,vr,2,0,"span",51),w.Jc(27,mr,2,0,"span",52),w.Jc(28,Tr,2,0,"span",53),w.Jc(29,Cr,2,0,"span",54),w.Rb(),w.Tb(),w.Tb(),w.Tb()),2&e){var n=w.gc(),c=n.$implicit,r=n.index,i=w.gc(3);w.Cb(3),w.nc("ngIf",!c.public),w.Cb(1),w.nc("ngIf",c.public),w.Cb(3),w.Mc(c.fullname),w.Cb(2),w.Nc(" ",w.ic(10,16,c.desc)," "),w.Cb(2),w.nc("ngIf",!c.public),w.Cb(1),w.nc("ngIf",c.public),w.Cb(2),w.nc("ngIf",0===r),w.Cb(1),w.nc("ngForOf",c.scope),w.Cb(1),w.nc("ngIf",i._viewControls.isEditing),w.Cb(5),w.Mc(c.owner?c.owner.name:"unset"),w.Cb(1),w.nc("ngIf",(null==c.owner?null:c.owner.id)===(null==i.currentUser?null:i.currentUser.id)),w.Cb(3),w.nc("ngSwitch",c.status),w.Cb(1),w.nc("ngSwitchCase",0),w.Cb(1),w.nc("ngSwitchCase",1),w.Cb(1),w.nc("ngSwitchCase",2),w.Cb(1),w.nc("ngSwitchCase",3)}}function Ur(e,t){if(1&e&&(w.Ub(0,"div",35),w.Jc(1,kr,30,18,"mat-card",36),w.Tb()),2&e){var n=t.$implicit,c=w.gc(3);w.nc("cdkDragDisabled",!c._viewControls.isEditing),w.Cb(1),w.nc("ngIf",n)}}function Pr(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",22),w.Ub(1,"div",33),w.cc("cdkDropListDropped",(function(e){return w.Bc(n),w.gc(2).drop(e)})),w.Jc(2,Ur,2,2,"div",34),w.Tb(),w.Tb()}if(2&e){var c=w.gc(2);w.Cb(2),w.nc("ngForOf",c.currentProject.packages)}}function wr(e,t){if(1&e){var n=w.Vb();w.Ub(0,"mat-card",74),w.cc("click",(function(){return w.Bc(n),w.gc(2).onClickPackageSelector()})),w.Ub(1,"mat-card-header"),w.Ub(2,"div",38),w.Pb(3,"i",75),w.Tb(),w.Ub(4,"mat-card-title"),w.Ub(5,"b"),w.Lc(6,"Click to add a package"),w.Tb(),w.Tb(),w.Tb(),w.Tb()}}var yr=function(e){return["/project",e,"dataFile","list"]},Ir=function(e){return["/project",e,"result","list"]};function Lr(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",12),w.Ub(1,"div",13),w.Ub(2,"div",14),w.Ub(3,"div",15),w.Ub(4,"strong"),w.Lc(5,"Project name"),w.Tb(),w.Tb(),w.Ub(6,"div",16),w.Ub(7,"span",17),w.Lc(8),w.Tb(),w.Jc(9,Gc,2,1,"mat-form-field",18),w.Tb(),w.Tb(),w.Pb(10,"br"),w.Ub(11,"div",14),w.Ub(12,"div",15),w.Ub(13,"strong"),w.Lc(14,"Description"),w.Tb(),w.Tb(),w.Ub(15,"div",16),w.Ub(16,"span",19),w.Lc(17),w.Tb(),w.Jc(18,Qc,3,2,"mat-form-field",18),w.Tb(),w.Tb(),w.Pb(19,"br"),w.Ub(20,"div",14),w.Ub(21,"div",15),w.Ub(22,"strong"),w.Lc(23,"Creation time"),w.Tb(),w.Tb(),w.Ub(24,"div",16),w.Lc(25),w.Tb(),w.Tb(),w.Pb(26,"br"),w.Ub(27,"div",14),w.Ub(28,"div",15),w.Ub(29,"strong"),w.Lc(30,"Last manipulation"),w.Tb(),w.Tb(),w.Ub(31,"div",16),w.Lc(32),w.Tb(),w.Tb(),w.Pb(33,"br"),w.Ub(34,"div",14),w.Ub(35,"div",15),w.Ub(36,"strong"),w.Lc(37,"Summary"),w.Tb(),w.Tb(),w.Ub(38,"div",16),w.Ub(39,"a",2),w.Lc(40),w.Tb(),w.Lc(41," and "),w.Ub(42,"a",2),w.Lc(43),w.Tb(),w.Lc(44,". "),w.Tb(),w.Tb(),w.Pb(45,"br"),w.Ub(46,"div",14),w.Ub(47,"div",15),w.Ub(48,"strong"),w.Lc(49,"Public project?"),w.Tb(),w.Tb(),w.Ub(50,"div",16),w.Ub(51,"mat-checkbox",20),w.cc("ngModelChange",(function(e){return w.Bc(n),w.gc().currentProject.public=e})),w.Jc(52,Xc,2,0,"span",5),w.Jc(53,Zc,2,0,"span",5),w.Tb(),w.Tb(),w.Tb(),w.Ub(54,"div",14),w.Ub(55,"div",21),w.Ub(56,"strong"),w.Lc(57,"Privilege role settings"),w.Tb(),w.Tb(),w.Ub(58,"div",22),w.Ub(59,"table",23),w.Ub(60,"tr"),w.Ub(61,"td"),w.Lc(62,"Owner"),w.Tb(),w.Ub(63,"td"),w.Ub(64,"button",24),w.cc("click",(function(){w.Bc(n);var e=w.gc();return e.openUserSelectDialog("the project owner","owner",!1,e.currentProject.owner)})),w.Lc(65),w.Tb(),w.Tb(),w.Tb(),w.Ub(66,"tr"),w.Ub(67,"td"),w.Lc(68,"Managers"),w.Tb(),w.Ub(69,"td"),w.Ub(70,"button",24),w.cc("click",(function(){w.Bc(n);var e=w.gc();return e.openUserSelectDialog("the project managers","managers",!0,e.currentProject.managers)})),w.Lc(71),w.Tb(),w.Tb(),w.Tb(),w.Ub(72,"tr"),w.Ub(73,"td"),w.Lc(74,"Task runners"),w.Tb(),w.Ub(75,"td"),w.Ub(76,"button",24),w.cc("click",(function(){w.Bc(n);var e=w.gc();return e.openUserSelectDialog("the task runners","runners",!0,e.currentProject.runners)})),w.Lc(77),w.Tb(),w.Tb(),w.Tb(),w.Ub(78,"tr"),w.Ub(79,"td"),w.Lc(80,"Viewers"),w.Tb(),w.Ub(81,"button",24),w.cc("click",(function(){w.Bc(n);var e=w.gc();return e.openUserSelectDialog("the project viewers","viewers",!0,e.currentProject.viewers)})),w.Lc(82),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Pb(83,"br"),w.Ub(84,"div",14),w.Ub(85,"div",25),w.Ub(86,"b"),w.Lc(87,"Packages"),w.Tb(),w.Tb(),w.Jc(88,er,2,0,"div",26),w.Jc(89,Pr,3,1,"div",27),w.Jc(90,wr,7,0,"mat-card",28),w.Tb(),w.Pb(91,"br"),w.Tb(),w.Tb()}if(2&e){var c=w.gc();w.Cb(7),w.nc("hidden",c._viewControls.isEditing),w.Cb(1),w.Mc(null!=c.currentProject&&c.currentProject.name?null==c.currentProject?null:c.currentProject.name:"None"),w.Cb(1),w.nc("ngIf",c._viewControls.isEditing),w.Cb(7),w.nc("hidden",c._viewControls.isEditing),w.Cb(1),w.Mc(null!=c.currentProject&&c.currentProject.desc?null==c.currentProject?null:c.currentProject.desc:"None"),w.Cb(1),w.nc("ngIf",c._viewControls.isEditing),w.Cb(7),w.Nc(" ",null==c.currentProject||null==c.currentProject.createdAt?null:c.currentProject.createdAt.calendar()," "),w.Cb(7),w.Nc(" ",null==c.currentProject||null==c.currentProject.updatedAt?null:c.currentProject.updatedAt.calendar()," "),w.Cb(7),w.nc("routerLink",w.rc(23,yr,c.currentProject.id)),w.Cb(1),w.Nc("",null==c.currentProject?null:c.currentProject.dataFileNumber," data files"),w.Cb(2),w.nc("routerLink",w.rc(25,Ir,c.currentProject.id)),w.Cb(1),w.Nc("",null==c.currentProject?null:c.currentProject.resultNumber," results"),w.Cb(8),w.nc("ngModel",c.currentProject.public)("disabled",!c._viewControls.isEditing),w.Cb(1),w.nc("ngIf",c.currentProject.public),w.Cb(1),w.nc("ngIf",!c.currentProject.public),w.Cb(12),w.Mc(c.currentProject.owner.name?c.currentProject.owner.name:"unset"),w.Cb(6),w.Mc(null==c.currentProject.managers?null:c.currentProject.managers.length),w.Cb(6),w.Mc(null==c.currentProject.runners?null:c.currentProject.runners.length),w.Cb(5),w.Mc(null==c.currentProject.viewers?null:c.currentProject.viewers.length),w.Cb(6),w.nc("ngIf",0===c.currentProject.packages.length),w.Cb(1),w.nc("ngIf",c.currentProject.packages.length>0&&c.packageSheetNames.length>0),w.Cb(1),w.nc("ngIf",c._viewControls.isEditing&&c.currentProject.packages.length<=10)}}function jr(e,t){1&e&&w.Pb(0,"i",86)}function xr(e,t){1&e&&w.Pb(0,"i",87)}var Sr=function(e,t){return{"fa-edit":e,"fa-save":t}};function Jr(e,t){if(1&e){var n=w.Vb();w.Sb(0),w.Ub(1,"a",77),w.cc("click",(function(){return w.Bc(n),w.gc(2).onSave()})),w.Pb(2,"i",88),w.Ub(3,"span",84),w.Lc(4),w.Tb(),w.Ub(5,"span",81),w.Lc(6,"\u276f"),w.Tb(),w.Tb(),w.Pb(7,"br"),w.Rb()}if(2&e){var c=w.gc(2);w.Cb(1),w.Fb("active",c._viewControls.isEditing),w.Cb(1),w.nc("ngClass",w.sc(6,Sr,!c._viewControls.isEditing,c._viewControls.isEditing)),w.Cb(1),w.Fb("active",c._viewControls.isEditing||c.showRightButtonContent),w.Cb(1),w.Mc(c._viewControls.isEditing?"Click to save info":"Edit project info")}}var Fr=function(e){return["/project",e,"fileImport"]};function _r(e,t){if(1&e&&(w.Sb(0),w.Ub(1,"a",82),w.Pb(2,"i",89),w.Ub(3,"span",84),w.Lc(4,"File Import"),w.Tb(),w.Ub(5,"span",81),w.Lc(6,"\u276f"),w.Tb(),w.Tb(),w.Pb(7,"br"),w.Rb()),2&e){var n=w.gc(2);w.Cb(1),w.nc("routerLink",w.rc(3,Fr,n.currentProject.id)),w.Cb(2),w.Fb("active",n.showRightButtonContent)}}var Mr=function(e){return["/project",e,"result","creation"]};function Or(e,t){if(1&e&&(w.Sb(0),w.Ub(1,"a",82),w.Pb(2,"i",90),w.Ub(3,"span",84),w.Lc(4,"Execute tasks"),w.Tb(),w.Ub(5,"span",81),w.Lc(6,"\u276f"),w.Tb(),w.Tb(),w.Pb(7,"br"),w.Rb()),2&e){var n=w.gc(2);w.Cb(1),w.nc("routerLink",w.rc(3,Mr,n.currentProject.id)),w.Cb(2),w.Fb("active",n.showRightButtonContent)}}function Rr(e,t){if(1&e){var n=w.Vb();w.Sb(0),w.Ub(1,"a",77),w.cc("click",(function(){return w.Bc(n),w.gc(2).deleteProjectDialog()})),w.Pb(2,"i",91),w.Ub(3,"span",84),w.Lc(4,"Delete"),w.Tb(),w.Ub(5,"span",81),w.Lc(6,"\u276f"),w.Tb(),w.Tb(),w.Pb(7,"br"),w.Rb()}if(2&e){var c=w.gc(2);w.Cb(3),w.Fb("active",c.showRightButtonContent)}}function Nr(e,t){if(1&e){var n=w.Vb();w.Ub(0,"div",76),w.Ub(1,"a",77),w.cc("click",(function(){w.Bc(n);var e=w.gc();return e.showRightButtonContent=!e.showRightButtonContent})),w.Jc(2,jr,1,0,"i",78),w.Jc(3,xr,1,0,"i",79),w.Ub(4,"span",80),w.Lc(5,"MENU"),w.Tb(),w.Ub(6,"span",81),w.Lc(7,"\u276f"),w.Tb(),w.Tb(),w.Pb(8,"br"),w.Jc(9,Jr,8,9,"ng-container",5),w.Ub(10,"a",82),w.Pb(11,"i",83),w.Ub(12,"span",84),w.Lc(13,"Data files"),w.Tb(),w.Ub(14,"span",81),w.Lc(15,"\u276f"),w.Tb(),w.Tb(),w.Pb(16,"br"),w.Ub(17,"a",82),w.Pb(18,"i",85),w.Ub(19,"span",84),w.Lc(20,"Results"),w.Tb(),w.Ub(21,"span",81),w.Lc(22,"\u276f"),w.Tb(),w.Tb(),w.Pb(23,"br"),w.Jc(24,_r,8,5,"ng-container",5),w.Jc(25,Or,8,5,"ng-container",5),w.Jc(26,Rr,8,2,"ng-container",5),w.Tb()}if(2&e){var c=w.gc();w.nc("@rightButtonState",c.showRightButtonContent?"active":"inactive"),w.Cb(2),w.nc("ngIf",c.showRightButtonContent),w.Cb(1),w.nc("ngIf",!c.showRightButtonContent),w.Cb(1),w.Fb("active",c.showRightButtonContent),w.Cb(5),w.nc("ngIf",c.currentProject.privilege.canEdit),w.Cb(1),w.nc("routerLink",w.rc(15,yr,c.currentProject.id)),w.Cb(2),w.Fb("active",c.showRightButtonContent),w.Cb(5),w.nc("routerLink",w.rc(17,Ir,c.currentProject.id)),w.Cb(2),w.Fb("active",c.showRightButtonContent),w.Cb(5),w.nc("ngIf",c.currentProject.privilege.canAddFile),w.Cb(1),w.nc("ngIf",c.currentProject.privilege.canRun),w.Cb(1),w.nc("ngIf",c.currentProject.privilege.canDelete)}}var Dr=function(){return["/home"]},qr=function(){return["/project/list"]};function Br(e,t){1&e&&(w.Ub(0,"div",18),w.Ub(1,"div",28),w.Pb(2,"i",29),w.Lc(3,"Your account hasn't been activated as a Normal User, please contact the System Root."),w.Tb(),w.Tb())}function Vr(e,t){1&e&&(w.Ub(0,"b"),w.Lc(1,"*Require "),w.Ub(2,"u"),w.Lc(3,"Normal User"),w.Tb(),w.Tb())}function Ar(e,t){1&e&&(w.Ub(0,"b"),w.Lc(1,"*Require "),w.Ub(2,"u"),w.Lc(3,"Normal User"),w.Tb(),w.Tb())}function $r(e,t){1&e&&(w.Ub(0,"b"),w.Lc(1,"*Require "),w.Ub(2,"u"),w.Lc(3,"Normal User"),w.Tb(),w.Tb())}var Er=function(){return["/project/create"]},zr=function(){return["/project/list"]};function Hr(e,t){1&e&&(w.Ub(0,"span",30),w.Lc(1,"If you don't know where to start, you may "),w.Ub(2,"a",2),w.Lc(3,"create a new project"),w.Tb(),w.Lc(4," or select a project from "),w.Ub(5,"a",2),w.Lc(6,"the project lists"),w.Tb(),w.Lc(7,"."),w.Tb()),2&e&&(w.Cb(2),w.nc("routerLink",w.qc(2,Er)),w.Cb(3),w.nc("routerLink",w.qc(3,zr)))}var Yr,Kr,Wr,Gr,Qr,Xr=function(){return["/home"]},Zr=function(){return["/project/quick-start"]},ei=function(){return["/account/profile"]},ti=function(){return["/result/activities"]},ni=function(e){return["/project",e,"fileImport"]},ci=function(e){return["/project",e,"result","creation"]},ri=function(e){return["/project",e,"dataFile","list"]},ii=function(e){return["/project",e,"result","list"]},ai=function(){return["/page"]},si=function(e){return{project:e}},oi=U.g.forChild([{path:"",pathMatch:"full",redirectTo:"list"},{path:"create",component:Oe,data:{path:"project/create"},canActivate:[Bc.a]},{path:":pid/info",component:(Kr=function(){function e(t,n,c,r,i,a,s,o,b,l){_classCallCheck(this,e),this.router=t,this.route=n,this.projectService=i,this.infoService=a,this.dialog=s,this.systemService=o,this.accountService=b,this.taskService=l,this._subs=[],c.addSvgIcon("pipeline-exec",r.bypassSecurityTrustResourceUrl("assets/icon/noun_82501_cc.svg"))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.dataFileCardMode="card",this._viewControls={isDataFileDeleting:!1,isResultDeleting:!1,dataFileViewMode:"table",resultViewMode:"table",isEditing:!1,isLoading:!0,isProjectDeleting:!1,isHideDataFiles:!1,isHideResults:!1,confirmDelete:"",showPackageInfo:!1},this.packageSheetNames=[],this.showRightButtonContent=!1,this._subs.push(this.accountService.currentUser$.subscribe((function(t){t&&t.isLoggedIn&&(e.currentUser=t)}))),this._subs.push(this.systemService.sysInfo$.subscribe((function(t){t&&(e.recaptchaKey=t.reCaptchaSiteKey)}))),this._subs.push(this.projectService.currentProject$.subscribe((function(t){t&&(e.currentProject=t,t.packages&&(e.currentPackages=t.packages),e._viewControls.isLoading=!1)}))),this.taskService.packageList$.subscribe((function(t){e.packageLists={},e.packageSheetNames=[],t.forEach((function(t){var n=t.sheetName||"Internal Package List";e.packageLists[n]||(e.packageLists[n]=[]),e.packageLists[n].push(t)})),e.packageSheetNames=Object.keys(e.packageLists),e.packageSheetNames=Object(q.a)(e.packageSheetNames);var n,c=_createForOfIteratorHelper(e.packageSheetNames);try{for(c.s();!(n=c.n()).done;){var r=n.value;e.packageLists[r]=Object(q.a)(e.packageLists[r],[function(e){return e.name}],["asc"])}}catch(i){c.e(i)}finally{c.f()}})),this.route.queryParamMap.subscribe((function(t){e._viewControls.isEditing="1"===t.get("edit")})),this.route.paramMap.subscribe((function(t){var n=t.get("pid");e.projectService.setCurrentProject(n,!0)})),this.taskService.loadPackages()}},{key:"onProjectChange",value:function(e){this.currentProject=e}},{key:"setStatusCSS",value:function(e){var t={"fa-circle-o-notch":!1,"fa-spin":!1,"fa-hourglass-half":!1,"fa-check":!1,"fa-times":!1};switch(e){case 0:t["fa-hourglass-half"]=!0;break;case 1:t["fa-circle-o-notch"]=!0,t["fa-spin"]=!0;break;case 2:t["fa-check"]=!0;break;case 3:t["fa-times"]=!0}return t}},{key:"refresh",value:function(){return this.currentProject?this.projectService.setCurrentProject(this.currentProject.id,!0):""}},{key:"goToFileUploadPage",value:function(){this.router.navigate(["/project",this.currentProject.id,"fileImport"])}},{key:"trackByDataFile",value:function(e,t){return t.id}},{key:"goToNewResultPage",value:function(){this.router.navigate(["/project",this.currentProject.id,"result","creation"])}},{key:"onFocusedDataFile",value:function(e){this.focusedDataFile=e}},{key:"onFocusedResult",value:function(e){this.focusedResult=e}},{key:"gotoDataFile",value:function(e,t){return this.router.navigate(["/dataFile",e.id,"info"],t?{queryParams:{edit:1}}:{})}},{key:"gotoResult",value:function(e,t){return this.router.navigate(["/result",e.id,"info"],t?{queryParams:{edit:1}}:{})}},{key:"deleteProject",value:function(e){var t=this;this._subs.push(this.projectService.removeProject(this.currentProject).subscribe((function(e){return e.isError?"":t.router.navigate(["/project/list"])})))}},{key:"deleteProjectDialog",value:function(){var e=this,t=this.dialog.open(Vc.a,{disableClose:!1});t.componentInstance.setOptions({title:'<h4 class="modal-title text-danger" id="myModalLabel"> Are you sure you want to delete the project\n        <strong>'.concat(this.currentProject.name,"</strong>?</h4>"),desc:'<span class="text-danger">This will delete the project, name: <b>'.concat(this.currentProject.name,"</b>,\n         and all the associated results and data files.<br>This cannot be undone.\n         Make sure this is something you really want to do!</span><br>"),confirmWord:"Delete"}),t.afterClosed().subscribe((function(t){return t?e.deleteProject(t):""}))}},{key:"onSave",value:function(){var e=this;if(this._viewControls.isEditing){this._viewControls.isEditing=!1;var t=this.projectService.updateProjectInfo(this.currentProject,this.currentProject.packages.map((function(e){return e.id}))).subscribe((function(n){n.isError||e.projectService.setCurrentProject(n.success.id),t.unsubscribe()}))}else this._viewControls.isEditing=!0}},{key:"openUserSelectDialog",value:function(e,t,n,c){var r=this,i=this.dialog.open(Ac.a,{disableClose:!1,width:"95%",height:"95%"});n||(c=c&&c.id?[c]:[]);var a=this.currentProject.privilege,s=a.canSetMember&&!(("owner"===t||"managers"===t)&&a.isManager);i.componentInstance.setOptions({scope:e,isMultiple:n,canEdit:s,userList:c,authField:"bdp",currentUser:this.currentUser}),i.afterClosed().subscribe((function(e){if(s&&e&&e.length>0)var n=r.projectService.setProjectMembers(r.currentProject.id,t,e).subscribe((function(){return n.unsubscribe()}))}))}},{key:"drop",value:function(e){Object(k.d)(this.currentProject.packages,e.previousIndex,e.currentIndex)}},{key:"movePkgUp",value:function(e){if(!(e<1)){var t=this.currentProject.packages.splice(e,1)[0];console.log(t),this.currentProject.packages.splice(e-1,0,t)}}},{key:"movePkgDown",value:function(e){if(!(e>=this.currentProject.packages.length-1)){var t=this.currentProject.packages.splice(e,1)[0];this.currentProject.packages.splice(e+1,0,t)}}},{key:"removePkg",value:function(e){this.currentProject.packages.splice(e,1)}},{key:"onClickPackageSelector",value:function(){var e=this;this.dialog.open(D,{disableClose:!1,data:{packageLists:this.packageLists,packageSheetNames:this.packageSheetNames,selectedPackages:this.currentProject.packages}}).afterClosed().subscribe((function(t){e.currentProject.packages.push(t)}))}},{key:"ngOnDestroy",value:function(){this._subs.map((function(e){return e.unsubscribe?e.unsubscribe():""}))}}]),e}(),Kr.\u0275fac=function(e){return new(e||Kr)(w.Ob(U.c),w.Ob(U.a),w.Ob(f.c),w.Ob($c.b),w.Ob(B.a),w.Ob(Ec.a),w.Ob(P.b),w.Ob(A.a),w.Ob($.a),w.Ob(V.a))},Kr.\u0275cmp=w.Ib({type:Kr,selectors:[["project-info"]],decls:17,vars:9,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[4,"ngIf"],["class","container-fluid",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"fas","fa-circle-notch","fa-fw","fa-spin","fa-lg"],[1,"container-fluid"],[2,"font-size","14px"],[1,"row"],[1,"col-md-2"],[1,"col-md-9"],[2,"text-indent","36px","width","100%",3,"hidden"],["style","width: 100%;",4,"ngIf"],[2,"text-indent","36px","width","100%","word-break","break-all",3,"hidden"],[1,"mr-3",3,"ngModel","disabled","ngModelChange"],[1,"col-12","my-3"],[1,"col-12"],[1,"ml-5"],["mat-button","",3,"click"],[1,"col-lg-3"],["class","col-lg-9",4,"ngIf"],["class","col-12",4,"ngIf"],["class","col-12","class","link viewable","style","height: auto; width: 100%;",3,"click",4,"ngIf"],[2,"width","100%"],["matInput","","type","text","maxlength","40","size","40","placeholder","The subset name (length must be smaller or equal than 40 characters)",3,"ngModel","ngModelChange"],["matInput","","placeholder","Say something about this project. (max length: 160 characters)","maxlength","160","rows","3",3,"ngModel","ngModelChange"],[1,"col-lg-9"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",3,"cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDrag","",3,"cdkDragDisabled"],["class","ml-1 my-2","style","height: auto",4,"ngIf"],[1,"ml-1","my-2",2,"height","auto"],["mat-card-avatar",""],["class","fas fa-unlock fa-fw fa-2x",4,"ngIf"],["class","ml-3","style","position: absolute; top: 2px; right: 5px; font-size: 14px;",4,"ngIf"],["class","badge badge-warning m-3",4,"ngIf"],["class","m-3 badge badge-primary",4,"ngFor","ngForOf"],[2,"text-align","left"],[1,"small","ml-3",2,"font-size","12pt","margin","5px 5px"],[1,"fas","fa-user-circle","text-muted","ml-5","mr-2"],[1,"text-muted"],["class","text-muted",4,"ngIf"],[2,"text-align","right"],[1,"small","text-mute",2,"font-size","14pt","margin","5px 5px"],[3,"ngSwitch"],["class","badge badge-danger",4,"ngSwitchCase"],["class","badge badge-warning",4,"ngSwitchCase"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-default",4,"ngSwitchCase"],["class","fas fa-cube fa-fw fa-2x",4,"ngIf"],["class","fas fa-lock fa-fw fa-2x",4,"ngIf"],[1,"fas","fa-cube","fa-fw","fa-2x"],[1,"fas","fa-lock","fa-fw","fa-2x"],[1,"fas","fa-unlock","fa-fw","fa-2x"],[1,"ml-3",2,"position","absolute","top","2px","right","5px","font-size","14px"],[1,"badge","badge-warning","m-3"],[1,"m-3","badge","badge-primary"],["mat-button","","color","primary","style","min-width: 1%;",3,"click",4,"ngIf"],["style","min-width: 1%;","mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","accent",2,"min-width","1%",3,"click"],[1,"fas","fa-times","fa-fw"],["mat-button","","color","primary",2,"min-width","1%",3,"click"],[1,"fas","fa-arrow-up","fa-fw"],[1,"fas","fa-arrow-down","fa-fw"],[1,"badge","badge-danger"],[1,"badge","badge-warning"],[1,"badge","badge-success"],[1,"badge","badge-default"],[1,"link","viewable",2,"height","auto","width","100%",3,"click"],[1,"far","fa-plus-square","fa-fw","fa-2x"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ml-2"],[1,"chi-rbtn-arrow"],[1,"chi-rbtn",3,"routerLink"],[1,"far","fa-file","fa-fw"],[1,"chi-rbtn-content"],[1,"far","fa-folder-open","fa-fw"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],[1,"far","fa-fw",3,"ngClass"],[1,"fa","fa-upload","fa-fw"],[1,"fa","fa-play","fa-fw"],[1,"far","fa-trash-alt","fa-fw"]],template:function(e,t){1&e&&(w.Ub(0,"ol",0),w.Ub(1,"li",1),w.Ub(2,"a",2),w.Lc(3,"Home"),w.Tb(),w.Tb(),w.Ub(4,"li",1),w.Ub(5,"a",2),w.Lc(6,"Project List"),w.Tb(),w.Tb(),w.Jc(7,Yc,6,7,"li",3),w.Jc(8,Kc,2,0,"li",3),w.Tb(),w.Ub(9,"div",4),w.Ub(10,"h3"),w.Lc(11,"Project information"),w.Tb(),w.Pb(12,"br"),w.Pb(13,"br"),w.Jc(14,Wc,3,0,"div",5),w.Jc(15,Lr,92,27,"div",6),w.Tb(),w.Jc(16,Nr,27,19,"div",7)),2&e&&(w.Cb(2),w.nc("routerLink",w.qc(7,Dr)),w.Cb(3),w.nc("routerLink",w.qc(8,qr)),w.Cb(2),w.nc("ngIf",t.currentProject),w.Cb(1),w.nc("ngIf",!t.currentProject),w.Cb(6),w.nc("ngIf",t._viewControls.isLoading),w.Cb(1),w.nc("ngIf",!t._viewControls.isLoading&&void 0!==t.currentProject),w.Cb(1),w.nc("ngIf",t.currentProject))},directives:[U.f,c.n,b.a,r.i,r.l,a.b,y.b,d.a,r.b,r.e,k.b,c.m,k.a,o.a,o.f,o.c,o.j,o.i,o.d,o.e,c.p,c.q,o.b,c.l],pipes:[E.a],styles:["h3[_ngcontent-%COMP%]{font-style:italic;font-size:27px;border-bottom:1px solid #b4b4b4;padding-bottom:0;display:inline-block;margin:0}.projectTitle[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;padding-right:150px;font-size:18px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:1px}.subsetCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);min-height:80px;background-color:hsla(0,0%,100%,.5);padding:10px;margin:10px 0;height:150px;overflow:hidden;text-overflow:ellipsis}.viewable[_ngcontent-%COMP%]:hover{background-color:#fff3cd;border-color:#ffeeba;box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}"],data:{animation:[Re.a]}}),Kr),data:{path:"project/info"},canActivate:[Bc.a]},{path:":pid/fileImport",component:ot,data:{path:"project/import"},canActivate:[Bc.a]},{path:"list",component:qc,data:{path:"project/list"},canActivate:[Bc.a]},{path:":pid/result/creation",component:uc,data:{path:"project/resultcreate"},canActivate:[Bc.a]},{path:"quick-start",component:(Yr=function(){function e(t,n,c){_classCallCheck(this,e),this.systemService=t,this.projectService=n,this.accountService=c,this._subs=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this._subs.push(this.projectService.currentProject$.subscribe((function(t){return e.currentProject=t}))),this._subs.push(this.accountService.currentUser$.subscribe((function(t){return e.currentUser=t})))}},{key:"ngOnDestroy",value:function(){this._subs.map((function(e){return e.unsubscribe?e.unsubscribe():""}))}}]),e}(),Yr.\u0275fac=function(e){return new(e||Yr)(w.Ob(A.a),w.Ob(B.a),w.Ob($.a))},Yr.\u0275cmp=w.Ib({type:Yr,selectors:[["quick-start"]],decls:89,vars:84,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"bdp-main-container"],[1,"chi-header"],[1,"row"],["class","col-12",4,"ngIf"],[1,"col-md-6","col-lg-4","col-xl-3","my-3"],[1,"quick-card","link","p-4",3,"routerLink"],[1,"far","fa-address-card","fa-3x"],[1,"text-muted","text-justify","px-3","desc"],[1,"far","fa-plus-square","fa-3x"],[4,"ngIf"],[1,"fas","fa-th-list","fa-3x"],[1,"fas","fa-history","fa-3x"],[1,"col-12"],[1,"px-3","py-2"],["class","px-5",4,"ngIf"],[1,"quick-card","p-4",3,"routerLink"],[1,"fas","fa-upload","fa-3x"],[1,"fas","fa-play","fa-3x"],[1,"fas","fa-file","fa-3x"],[1,"fas","fa-folder-open","fa-3x"],[1,"quick-card","link","p-4",3,"routerLink","queryParams"],[1,"fas","fa-scroll","fa-3x"],[1,"alert","alert-danger","m-3"],[1,"fas","fa-exclamation-triangle","fa-fw","mr-2"],[1,"px-5"]],template:function(e,t){1&e&&(w.Ub(0,"ol",0),w.Ub(1,"li",1),w.Ub(2,"a",2),w.Lc(3,"Home"),w.Tb(),w.Tb(),w.Ub(4,"li",3),w.Ub(5,"a",2),w.Lc(6," Quick Start"),w.Tb(),w.Ub(7,"a",4),w.Pb(8,"i",5),w.Tb(),w.Tb(),w.Tb(),w.Ub(9,"div",6),w.Ub(10,"h3",7),w.Lc(11,"Quick Start"),w.Tb(),w.Ub(12,"div",8),w.Jc(13,Br,4,0,"div",9),w.Ub(14,"div",10),w.Ub(15,"div",11),w.Pb(16,"i",12),w.Ub(17,"h2"),w.Lc(18,"User profile"),w.Tb(),w.Ub(19,"span",13),w.Lc(20," You can change your display name here, so that the other users or System Root can recognize you. "),w.Tb(),w.Tb(),w.Tb(),w.Ub(21,"div",10),w.Ub(22,"div",11),w.Pb(23,"i",14),w.Ub(24,"h2"),w.Lc(25,"Create a Project"),w.Tb(),w.Jc(26,Vr,4,0,"b",15),w.Ub(27,"span",13),w.Lc(28," To create a project, You need to specify data processing or analysis packages for that project. Then, all defined tasks/workflows of those packages can be used in the project. The project can be modified after project creation. "),w.Tb(),w.Tb(),w.Tb(),w.Ub(29,"div",10),w.Ub(30,"div",11),w.Pb(31,"i",16),w.Ub(32,"h2"),w.Lc(33,"View Projects"),w.Tb(),w.Jc(34,Ar,4,0,"b",15),w.Ub(35,"span",13),w.Lc(36," View your own projects, other project that someone shared with you and public projects. "),w.Tb(),w.Tb(),w.Tb(),w.Ub(37,"div",10),w.Ub(38,"div",11),w.Pb(39,"i",17),w.Ub(40,"h2"),w.Lc(41,"Recent Activities"),w.Tb(),w.Jc(42,$r,4,0,"b",15),w.Ub(43,"span",13),w.Lc(44," All-related results of all projects are sorted by time and displayed here. The related results may be from your or shared projects. "),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Pb(45,"mat-divider"),w.Ub(46,"div",8),w.Ub(47,"div",18),w.Ub(48,"h2",19),w.Lc(49,"The following actions require you to select a project first."),w.Tb(),w.Jc(50,Hr,8,4,"span",20),w.Tb(),w.Ub(51,"div",10),w.Ub(52,"div",21),w.Pb(53,"i",22),w.Ub(54,"h2"),w.Lc(55,"Import Files"),w.Tb(),w.Ub(56,"span",13),w.Lc(57," Once you have selected a project and you do have privileges to import files to that project. This will be DISABLED if you haven't selected a project or you have NO privileges. "),w.Tb(),w.Tb(),w.Tb(),w.Ub(58,"div",10),w.Ub(59,"div",11),w.Pb(60,"i",23),w.Ub(61,"h2"),w.Lc(62,"Execute Tasks"),w.Tb(),w.Ub(63,"span",13),w.Lc(64," To perform defined tasks or workflows of packages in the selected project. The packages need to be chosen for the project. You need to select a project first to execute tasks. "),w.Tb(),w.Tb(),w.Tb(),w.Ub(65,"div",10),w.Ub(66,"div",11),w.Pb(67,"i",24),w.Ub(68,"h2"),w.Lc(69,"View DataFiles"),w.Tb(),w.Ub(70,"span",13),w.Lc(71," All imported files and result outputs in this project can be found here. "),w.Tb(),w.Tb(),w.Tb(),w.Ub(72,"div",10),w.Ub(73,"div",11),w.Pb(74,"i",25),w.Ub(75,"h2"),w.Lc(76,"View Results"),w.Tb(),w.Ub(77,"span",13),w.Lc(78," All results of executed tasks in this project can be found here. This platform records all provenence of every task run: the input arguments, execution time and the output files. "),w.Tb(),w.Tb(),w.Tb(),w.Ub(79,"div",10),w.Ub(80,"div",26),w.Pb(81,"i",27),w.Ub(82,"h2"),w.Lc(83,"Project Pages"),w.Tb(),w.Ub(84,"span",13),w.Ub(85,"p"),w.Ub(86,"b"),w.Lc(87,"Page"),w.Tb(),w.Lc(88," is the customized web interface whic is developed by package builder. The Project Page may provide documentations as well as guide users to upload files and execute tasks. You can change the packages of this project to view the corresponding Page. If the developers of the packages did not provide the customized Pages, you may see the warning of page not found."),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb()),2&e&&(w.Cb(2),w.nc("routerLink",w.qc(66,Xr)),w.Cb(3),w.nc("routerLink",w.qc(67,Zr)),w.Cb(2),w.nc("routerLink",w.qc(68,Zr)),w.Cb(6),w.nc("ngIf",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),w.Cb(2),w.nc("routerLink",w.qc(69,ei)),w.Cb(7),w.Fb("link",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2)("inactive",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2)("text-muted",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),w.nc("routerLink",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2?w.qc(70,Er):null),w.Cb(4),w.nc("ngIf",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),w.Cb(4),w.Fb("link",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2)("inactive",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2)("text-muted",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),w.nc("routerLink",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2?w.qc(71,zr):null),w.Cb(4),w.nc("ngIf",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),w.Cb(4),w.Fb("link",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2)("inactive",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2)("text-muted",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),w.nc("routerLink",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2?w.qc(72,ti):null),w.Cb(4),w.nc("ngIf",!t.currentUser||!t.currentUser.auths||t.currentUser.auths.bdp<2),w.Cb(8),w.nc("ngIf",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp>=2),w.Cb(2),w.Fb("link",t.currentProject&&t.currentProject.privilege.canAddFile)("inactive",!t.currentProject||!t.currentProject.privilege.canAddFile)("text-muted",!t.currentProject||!t.currentProject.privilege.canAddFile),w.nc("routerLink",t.currentProject&&t.currentProject.privilege.canAddFile?w.rc(73,ni,t.currentProject.id):null),w.Cb(7),w.Fb("link",t.currentProject&&t.currentProject.privilege.canRun)("inactive",!t.currentProject||!t.currentProject.privilege.canRun)("text-muted",!t.currentProject||!t.currentProject.privilege.canRun),w.nc("routerLink",t.currentProject&&t.currentProject.privilege.canRun?w.rc(75,ci,t.currentProject.id):null),w.Cb(7),w.Fb("link",t.currentProject&&t.currentProject.privilege.canRun)("inactive",!t.currentProject||!t.currentProject.privilege.canRun)("text-muted",!t.currentProject||!t.currentProject.privilege.canRun),w.nc("routerLink",t.currentProject&&t.currentProject.privilege.canRun?w.rc(77,ri,t.currentProject.id):null),w.Cb(7),w.Fb("link",t.currentProject&&t.currentProject.privilege.canRun)("inactive",!t.currentProject||!t.currentProject.privilege.canRun)("text-muted",!t.currentProject||!t.currentProject.privilege.canRun),w.nc("routerLink",t.currentProject&&t.currentProject.privilege.canRun?w.rc(79,ii,t.currentProject.id):null),w.Cb(7),w.Fb("link",t.currentProject&&t.currentProject.privilege.canRun)("inactive",!t.currentProject||!t.currentProject.privilege.canRun)("text-muted",!t.currentProject||!t.currentProject.privilege.canRun),w.nc("routerLink",t.currentProject&&t.currentProject.privilege.canRun?w.qc(81,ai):null)("queryParams",w.rc(82,si,t.currentProject?t.currentProject.id:null)))},directives:[U.f,c.n,U.d,m.a],styles:[".quick-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;align-content:flex-start;height:100%}.quick-card[_ngcontent-%COMP%]:hover{background-color:rgba(204,229,254,.8)}.inactive.quick-card[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,91.4%,.8)}.quick-card.inactive[_ngcontent-%COMP%]{opacity:.8}.desc[_ngcontent-%COMP%]{min-height:180px}"]}),Yr),data:{path:"quickstart"},canActivate:[Bc.a]}]),bi=[],li=n("BBfw"),ui=n("Bchi"),fi=n("LzwD"),di=((Gr=function e(){_classCallCheck(this,e)}).\u0275mod=w.Mb({type:Gr}),Gr.\u0275inj=w.Lb({factory:function(e){return new(e||Gr)},providers:[],imports:[[c.c,r.d,U.g,y.d,d.b]]}),Gr),gi=((Wr=function e(){_classCallCheck(this,e)}).\u0275mod=w.Mb({type:Wr}),Wr.\u0275inj=w.Lb({factory:function(e){return new(e||Wr)},providers:[],imports:[[c.c,r.d,P.f,d.b,a.c,p.b]]}),Wr),pi=n("GQzp"),hi=n("pkYj"),vi=((Qr=function e(){_classCallCheck(this,e)}).\u0275mod=w.Mb({type:Qr}),Qr.\u0275inj=w.Lb({factory:function(e){return new(e||Qr)},providers:[bi],imports:[[c.c,r.d,a.c,v.g,f.b,o.h,d.b,p.b,b.b,l.e,T.d,ui.a,C.a,h.a,g.b,fi.a,s.c,i.b,u.b,m.b,li.a,di,gi,k.c,pi.a,hi.a,oi]]}),Qr)}}]);