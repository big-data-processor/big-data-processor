(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"7Cdu":function(e,t,i){"use strict";i.d(t,"a",(function(){return qi}));var a=i("fXoL"),n=i("0IaG"),c=i("c3AT"),s=i("tyNb"),o=i("ofXK"),l=i("f0Cb"),r=i("kmnG"),b=i("qFsG"),f=i("3Pt+"),d=i("d3UM"),u=i("FKr1"),p=i("bSwM"),g=i("jaxi"),h=i("bTqV"),m=i("NFeN"),S=i("I7HA"),k=i("FtGj"),R=i("vSFt"),F=i("+0xr"),D=i("R0Ic");const w=[Object(D.n)("highlightRows",[Object(D.k)("active",Object(D.l)({"background-color":"yellow"})),Object(D.k)("inactive",Object(D.l)({"background-color":"transparent"})),Object(D.m)("active => inactive",[Object(D.e)("1s")]),Object(D.m)("void => inactive",[Object(D.l)({"background-color":"yellow"}),Object(D.e)("1s",Object(D.l)({"background-color":"transparent"}))])])];var x=i("zXF6"),v=i("2uAV"),C=i("iB1i"),A=i("j5Dc"),T=i("Xa2L");function I(e,t){1&e&&a.Nb(0,"th",29)}function y(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",34),a.ac("click",(function(){return a.zc(e),a.ec().$implicit.stop()})),a.Nb(1,"i",35),a.Rb()}}function H(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",36),a.ac("click",(function(){a.zc(e);const t=a.ec().index;return a.ec(2).removeQueueElement(t)})),a.Nb(1,"i",37),a.Rb()}}function P(e,t){if(1&e&&(a.Sb(0,"td",30),a.Sb(1,"div",31),a.Hc(2,y,2,0,"button",32),a.Hc(3,H,2,0,"button",33),a.Rb(),a.Rb()),2&e){const e=t.$implicit;a.Ab(2),a.lc("ngIf",e.uploading),a.Ab(1),a.lc("ngIf",!e.uploading)}}function N(e,t){1&e&&(a.Sb(0,"th",38),a.Jc(1,"Prefix"),a.Rb())}function J(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Sb(1,"mat-form-field",40),a.Sb(2,"input",41),a.ac("ngModelChange",(function(t){return a.zc(e),a.ec().$implicit.response.success[0].prefix=t})),a.Rb(),a.Rb(),a.Pb()}if(2&e){const e=a.ec().$implicit;a.Ab(2),a.lc("ngModel",e.response.success[0].prefix)}}function O(e,t){if(1&e&&(a.Sb(0,"td",30),a.Hc(1,J,3,1,"ng-container",39),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e.response&&!e.response.isError&&e.response.success&&3!==e.response.success[0].status)}}function M(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1,"DataFile name"),a.Rb())}function j(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Sb(1,"mat-form-field",40),a.Sb(2,"input",42),a.ac("ngModelChange",(function(t){return a.zc(e),a.ec().$implicit.response.success[0].name=t})),a.Rb(),a.Rb(),a.Pb()}if(2&e){const e=a.ec().$implicit;a.Ab(2),a.lc("ngModel",e.response.success[0].name)}}function z(e,t){if(1&e&&(a.Sb(0,"td",30),a.Hc(1,j,3,1,"ng-container",39),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e.response&&!e.response.isError&&e.response.success&&3!==e.response.success[0].status)}}function $(e,t){1&e&&(a.Sb(0,"th",38),a.Jc(1,"Suffix"),a.Rb())}function E(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Sb(1,"mat-form-field",40),a.Sb(2,"input",43),a.ac("ngModelChange",(function(t){return a.zc(e),a.ec().$implicit.response.success[0].suffix=t})),a.Rb(),a.Rb(),a.Pb()}if(2&e){const e=a.ec().$implicit;a.Ab(2),a.lc("ngModel",e.response.success[0].suffix)}}function L(e,t){if(1&e&&(a.Sb(0,"td",30),a.Hc(1,E,3,1,"ng-container",39),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e.response&&!e.response.isError&&e.response.success&&3!==e.response.success[0].status)}}function Q(e,t){1&e&&a.Nb(0,"th",29)}function _(e,t){1&e&&a.Nb(0,"td",44)}function U(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1,"Original filename"),a.Rb())}function K(e,t){if(1&e&&(a.Sb(0,"span",46),a.Jc(1),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.Kc(e)}}function V(e,t){if(1&e&&(a.Sb(0,"strong"),a.Jc(1,"*Required format: "),a.Hc(2,K,2,1,"span",45),a.Rb()),2&e){const e=a.ec(4);a.Ab(2),a.lc("ngForOf",e.uploaderOptions.allowedExtensions)}}function q(e,t){if(1&e&&(a.Sb(0,"p"),a.Hc(1,V,3,1,"strong",39),a.Rb()),2&e){const e=a.ec(3);a.Ab(1),a.lc("ngIf",e.uploaderOptions.allowedExtensions.length)}}function G(e,t){if(1&e&&(a.Sb(0,"td",30),a.Jc(1),a.Hc(2,q,2,1,"p",39),a.Rb()),2&e){const e=t.$implicit,i=a.ec(2);a.Ab(1),a.Lc(" ",null==e?null:e.originalName," "),a.Ab(1),a.lc("ngIf",i.uploaderOptions.allowedExtensions.indexOf("*")<0&&-1==i.uploaderOptions.allowedExtensions.indexOf(e.originalName.split(".").pop().toLowerCase()))}}function B(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1," Size "),a.Rb())}function X(e,t){if(1&e&&(a.Sb(0,"p"),a.Sb(1,"strong"),a.Jc(2),a.fc(3,"number"),a.Rb(),a.Rb()),2&e){const e=a.ec(3);a.Ab(2),a.Lc("*file size of less than ",a.hc(3,1,(null==e.uploaderOptions?null:e.uploaderOptions.allowedFileSize)/1024/1024,".2")," MB is required.")}}function Y(e,t){if(1&e&&(a.Sb(0,"td",30),a.Jc(1),a.fc(2,"number"),a.Hc(3,X,4,4,"p",39),a.Rb()),2&e){const e=t.$implicit,i=a.ec(2);a.Ab(1),a.Lc(" ",a.hc(2,2,(null==e?null:e.size)/1024/1024,".2")," MB "),a.Ab(2),a.lc("ngIf",e.size>i.uploaderOptions.allowedFileSize)}}function Z(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1," Progress "),a.Rb())}function W(e,t){if(1&e&&(a.Sb(0,"td",30),a.Sb(1,"div",31),a.Nb(2,"mat-progress-spinner",47),a.Rb(),a.Rb()),2&e){const e=t.$implicit;a.Ab(2),a.lc("diameter",30)("value",e.progress.percent)}}function ee(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1," Status "),a.Rb())}function te(e,t){1&e&&(a.Sb(0,"span",52),a.Nb(1,"i",53),a.Jc(2,"Aborted"),a.Rb())}function ie(e,t){1&e&&(a.Sb(0,"span",54),a.Nb(1,"i",55),a.Jc(2,"Uploading"),a.Rb())}function ae(e,t){1&e&&(a.Sb(0,"span",56),a.Nb(1,"i",57),a.Jc(2,"Success"),a.Rb())}function ne(e,t){1&e&&(a.Sb(0,"span",58),a.Nb(1,"i",53),a.Jc(2,"Error"),a.Rb())}function ce(e,t){if(1&e&&(a.Sb(0,"td",30),a.Hc(1,te,3,0,"span",48),a.Hc(2,ie,3,0,"span",49),a.Hc(3,ae,3,0,"span",50),a.Hc(4,ne,3,0,"span",51),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e.abort),a.Ab(1),a.lc("ngIf",e.uploading),a.Ab(1),a.lc("ngIf",e.done&&!e.error),a.Ab(1),a.lc("ngIf",e.error)}}function se(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1," Speed "),a.Rb())}function oe(e,t){if(1&e&&(a.Sb(0,"span"),a.Jc(1),a.Rb()),2&e){const e=a.ec().$implicit;a.Ab(1),a.Kc(e.progress.speedHumanized)}}function le(e,t){if(1&e&&(a.Sb(0,"span"),a.Jc(1),a.Rb()),2&e){const e=a.ec().$implicit;a.Ab(1),a.Lc("Average: ",e.speedAverageHumanized,"")}}function re(e,t){if(1&e&&(a.Sb(0,"td",30),a.Hc(1,oe,2,1,"span",39),a.Hc(2,le,2,1,"span",39),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e.uploading),a.Ab(1),a.lc("ngIf",e.done)}}function be(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1," Tags "),a.Rb())}function fe(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Sb(1,"bdp-tag-input",59),a.ac("tagChange",(function(t){a.zc(e);const i=a.ec().$implicit;return a.ec(2).onTagChanged(t,i.response.success[0])})),a.Rb(),a.Pb()}if(2&e){const e=a.ec().$implicit,t=a.ec(2);a.Ab(1),a.lc("packages",t.project.packages)("tasks",t.tasks)("tags",e.response.success[0].tags)("disabled",t.isDataFileUpdating[e.response.success[0].id])}}function de(e,t){if(1&e&&(a.Sb(0,"td",30),a.Hc(1,fe,2,4,"ng-container",39),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e.response&&!e.response.isError&&e.response.success&&3!==e.response.success[0].status)}}function ue(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1," Link "),a.Rb())}const pe=function(e){return["/dataFile",e,"info"]};function ge(e,t){if(1&e&&(a.Sb(0,"a",61),a.Nb(1,"span",62),a.Rb()),2&e){const e=a.ec().$implicit;a.lc("routerLink",a.pc(1,pe,e.response.success[0].id))}}function he(e,t){if(1&e&&(a.Sb(0,"td",30),a.Hc(1,ge,2,3,"a",60),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e.response&&!e.response.isError&&e.response.success&&3!==e.response.success[0].status)}}function me(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1," Controls "),a.Rb())}function Se(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",64),a.ac("click",(function(){a.zc(e);const t=a.ec().$implicit;return a.ec(2).onDeleteDataFile(t.response.success[0].id)})),a.Nb(1,"i",65),a.Rb()}}function ke(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",64),a.ac("click",(function(){a.zc(e);const t=a.ec().$implicit;return a.ec(2).onUpdateDataFile(t.response.success[0])})),a.Nb(1,"i",66),a.Rb()}}function Re(e,t){if(1&e&&(a.Sb(0,"td",30),a.Hc(1,Se,2,0,"button",63),a.Hc(2,ke,2,0,"button",63),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e.response&&!e.response.isError&&e.response.success&&3!==e.response.success[0].status),a.Ab(1),a.lc("ngIf",e.response&&!e.response.isError&&e.response.success&&3!==e.response.success[0].status)}}function Fe(e,t){1&e&&a.Nb(0,"tr",67)}function De(e,t){if(1&e){const e=a.Tb();a.Sb(0,"tr",68),a.ac("@highlightRows.done",(function(i){a.zc(e);const n=t.$implicit;return a.ec(2).resetState(i,n)})),a.Rb()}if(2&e){const e=t.$implicit,i=a.ec(2);a.lc("@highlightRows",e&&e.response&&e.response.success&&e.response.success[0]&&i.highlightController[e.response.success[0].id]?"active":"inactive")}}function we(e,t){if(1&e&&a.Nb(0,"tr",69),2&e){const e=t.$implicit,i=a.ec(2);a.lc("@highlightRows",e&&e.response&&e.response.success&&e.response.success[0]&&i.highlightController[e.response.success[0].id]?"active":"inactive")}}const xe=function(){return["deleteIcon","status","name","size","speed","link"]},ve=function(){return["progress","DataFilePrefix","DataFileName","DataFileSuffix","tags","controls"]};function Ce(e,t){if(1&e&&(a.Sb(0,"table",8),a.Qb(1,9),a.Hc(2,I,1,0,"th",10),a.Hc(3,P,4,2,"td",11),a.Pb(),a.Qb(4,12),a.Hc(5,N,2,0,"th",13),a.Hc(6,O,2,1,"td",11),a.Pb(),a.Qb(7,14),a.Hc(8,M,2,0,"th",10),a.Hc(9,z,2,1,"td",11),a.Pb(),a.Qb(10,15),a.Hc(11,$,2,0,"th",13),a.Hc(12,L,2,1,"td",11),a.Pb(),a.Qb(13,16),a.Hc(14,Q,1,0,"th",10),a.Hc(15,_,1,0,"td",17),a.Pb(),a.Qb(16,18),a.Hc(17,U,2,0,"th",10),a.Hc(18,G,3,2,"td",11),a.Pb(),a.Qb(19,19),a.Hc(20,B,2,0,"th",10),a.Hc(21,Y,4,5,"td",11),a.Pb(),a.Qb(22,20),a.Hc(23,Z,2,0,"th",10),a.Hc(24,W,3,2,"td",11),a.Pb(),a.Qb(25,21),a.Hc(26,ee,2,0,"th",10),a.Hc(27,ce,5,4,"td",11),a.Pb(),a.Qb(28,22),a.Hc(29,se,2,0,"th",10),a.Hc(30,re,3,2,"td",11),a.Pb(),a.Qb(31,23),a.Hc(32,be,2,0,"th",10),a.Hc(33,de,2,1,"td",11),a.Pb(),a.Qb(34,24),a.Hc(35,ue,2,0,"th",10),a.Hc(36,he,2,1,"td",11),a.Pb(),a.Qb(37,25),a.Hc(38,me,2,0,"th",10),a.Hc(39,Re,3,2,"td",11),a.Pb(),a.Hc(40,Fe,1,0,"tr",26),a.Hc(41,De,1,1,"tr",27),a.Hc(42,we,1,1,"tr",28),a.Rb()),2&e){const e=a.ec();a.lc("dataSource",e.uploader.queue),a.Ab(40),a.lc("matHeaderRowDef",a.oc(4,xe)),a.Ab(1),a.lc("matRowDefColumns",a.oc(5,xe)),a.Ab(1),a.lc("matRowDefColumns",a.oc(6,ve))}}const Ae=function(e){return{"nv-file-over":e}};let Te=(()=>{class e{constructor(e,t,i){this.uploader=e,this.projectService=t,this.infoService=i,this.navigateDataFile=new a.o,this.deleteDataFile=new a.o,this.updateDataFile=new a.o,this.separatorKeysCodes=[k.g,k.c],this.uploadEvents=new a.o,this.responses=[],this.files=[],this.hasBaseDropZoneOver=!1,this.filteredTags=[],this._subs=[],this.isDataFileUpdating={},this.highlightController={},this.uploaderOptions={url:"",withCredentials:!0,filterExtensions:!0,allowedExtensions:this.allowedExtensions||[],allowedFileSize:1073741824,autoUpload:!0,calculateSpeed:!0,previewUrl:!1,data:{folder:"",keepFileName:!1,tags:[],name:"",desc:"",prefix:"",suffix:""},maxUploads:2}}ngOnInit(){this.zone=new a.A({enableLongStackTrace:!0}),this.uploaderOptions={url:this.infoService.BASE_URL+"/project/api/"+this.project.id+"/upload",withCredentials:!0,filterExtensions:!(Array.isArray(this.allowedExtensions)&&this.allowedExtensions.indexOf("*")>=0),allowedExtensions:this.allowedExtensions||[],allowedFileSize:this.fileLimits||1073741824,autoUpload:!0,calculateSpeed:!0,previewUrl:!1,data:{folder:this.folder,keepFileName:this.keepFileName,tags:this.tags,name:this.name,desc:this.desc,prefix:this.prefix,suffix:this.suffix},maxUploads:3},this.total_progress=0,this._subs.push(this.infoService.incomingDataChange$.subscribe(e=>{if("update"===e.type&&"DataFile"===e.target){if(Array.isArray(this.uploader.queue)){const t=e.data;if(!t)return;for(let e=0;e<this.uploader.queue.length;e++){const i=this.uploader.queue[e];let a;if(i&&(i.response&&Array.isArray(i.response.success)&&(a=i.response.success[0]),a&&t.id===a.id)){a.prefix=t.prefix,a.name=t.name,a.suffix=t.suffix,a.desc=t.desc,a.tags=t.tags,this.highlightController[t.id]=!0;break}}}}else if("remove"===e.type&&"DataFile"===e.target&&Array.isArray(this.uploader.queue))for(let t=0;t<this.uploader.queue.length;t++){const i=this.uploader.queue[t];if(i.response&&i.response.success&&i.response.success[0]&&i.response.success[0].id===e.data.id){this.removeQueueElement(t);break}}}))}ngOnChanges(e){for(const t in e)if("folder"===t)this.folder=e[t].currentValue,this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:Object.assign({},this.uploaderOptions.data,{folder:this.folder})});else if("keepFileName"===t){const i=Object.assign({},this.uploaderOptions.data,{keepFileName:e[t].currentValue});this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:i})}else if("tags"===t)this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:Object.assign({},this.uploaderOptions.data,{tags:e[t].currentValue})});else if("name"===t){const i=Object.assign({},this.uploaderOptions.data,{name:e[t].currentValue});this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:i})}else"desc"===t?this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:Object.assign({},this.uploaderOptions.data,{desc:e[t].currentValue})}):"prefix"===t?this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:Object.assign({},this.uploaderOptions.data,{prefix:e[t].currentValue})}):"suffix"===t?this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:Object.assign({},this.uploaderOptions.data,{suffix:e[t].currentValue})}):"project"===t?(this.project=e[t].currentValue,this.uploaderOptions=Object.assign({},this.uploaderOptions,{url:this.infoService.BASE_URL+"/project/api/"+this.project.id+"/upload"})):"fileLimits"===t&&(this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:Object.assign({},this.uploaderOptions.data,{allowedFileSize:parseFloat(e[t].currentValue)})}));this.uploader.setOptions(this.uploaderOptions)}fileOverBase(e){-1!==(e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer).types.indexOf("Files")&&(this.hasBaseDropZoneOver=!0)}fileLeave(e){setTimeout(()=>this.hasBaseDropZoneOver=!1,0)}gotoDataFile(e){window&&window.open()}onDeleteDataFile(e){for(let t=0;t<this.uploader.queue.length;t++){const i=this.uploader.queue[t];if(i.response&&i.response.success&&i.response.success[0]&&i.response.success[0].id===e){this.removeQueueElement(t);break}}this.deleteDataFile.emit(e)}onUpdateDataFile(e){this.updateDataFile.emit(new R.a(e))}removeQueueElement(e){this.uploader.removeFileFromQueue(e),this.uploaderProgress.renderRows()}handleMultipleUpload(e){const t=this.responses.findIndex(t=>t.id===e.id);-1===t?this.responses.push(e):this.zone.run(()=>{this.responses[t]=e});const i=e.response;i&&i.isError&&e.setError(i.errors[0].details),this.uploaderProgress.renderRows()}cssItemRowColor(e){return{"text-danger":e.error,success:e.done,warning:e.uploading,danger:e.error,active:e.abort}}fileDropEvent(e){console.log(this.uploader.queue),setTimeout(()=>{this.hasBaseDropZoneOver=!1,this.uploaderProgress.renderRows()},0)}onTagChanged(e,t){t.tags=e}startUpload(){this.uploadEvents.emit("startUpload")}resetState(e,t){t&&t.response&&t.response.success&&t.response.success[0]&&delete this.highlightController[t.response.success[0].id]}ngOnDestroy(){this._subs.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(x.a),a.Mb(c.a),a.Mb(v.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["chi-file-uploader"]],viewQuery:function(e,t){var i;1&e&&a.Pc(F.n,!0),2&e&&a.vc(i=a.bc())&&(t.uploaderProgress=i.first)},inputs:{project:"project",allowedExtensions:"allowedExtensions",folder:"folder",keepFileName:"keepFileName",fileLimits:"fileLimits",tags:"tags",validTags:"validTags",name:"name",desc:"desc",tasks:"tasks",prefix:"prefix",suffix:"suffix"},outputs:{navigateDataFile:"navigateDataFile",deleteDataFile:"deleteDataFile",updateDataFile:"updateDataFile"},features:[a.yb],decls:14,vars:6,consts:[[1,"mt-3"],["chiFileDropper","","multiple","true",1,"my-drop-zone",3,"options","ngClass","dragover","dragleave","drop","onUpload"],[1,"text-center"],["aria-hidden","true",1,"fa","fa-5x","fa-upload"],["type","file","id","upload_file_selector","chiFileSelector","","multiple","",1,"hide-input",3,"options"],["for","upload_file_selector",1,"input-label"],[1,"box__dragndrop"],["mat-table","","style","width: 100%;","multiTemplateDataRows","",3,"dataSource",4,"ngIf"],["mat-table","","multiTemplateDataRows","",2,"width","100%",3,"dataSource"],["matColumnDef","deleteIcon"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","px-2",4,"matCellDef"],["matColumnDef","DataFilePrefix"],["mat-header-cell","","style","width: 80px;",4,"matHeaderCellDef"],["matColumnDef","DataFileName"],["matColumnDef","DataFileSuffix"],["matColumnDef","empty"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","size"],["matColumnDef","progress"],["matColumnDef","status"],["matColumnDef","speed"],["matColumnDef","tags"],["matColumnDef","link"],["matColumnDef","controls"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-row","","style","border-bottom: 1px solid black;",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"px-2"],[1,"d-flex","justify-content-center","align-items-center"],["mat-icon-button","","color","accent","mat-button","",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","mat-button","",3,"click"],[1,"fas","fa-ban","fa-fw","fa-lg"],["mat-icon-button","","color","primary",3,"click"],[1,"far","fa-times-circle","fa-fw","fa-lg","mr-2"],["mat-header-cell","",2,"width","80px"],[4,"ngIf"],[2,"width","100%"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix for the data file(s)",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix for the data file(s)",3,"ngModel","ngModelChange"],["mat-cell",""],["class","label label-primary",4,"ngFor","ngForOf"],[1,"label","label-primary"],[3,"diameter","value"],["class","text-muted",4,"ngIf"],["class","text-primary",4,"ngIf"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-muted"],["aria-hidden","true",1,"fas","fa-times","fa-fw","mr-2"],[1,"text-primary"],[1,"fas","fa-spin","fa-circle-notch","fa-fw","mr-2"],[1,"text-success"],["aria-hidden","true",1,"fas","fa-check","fa-fw","mr-2"],[1,"text-danger"],[3,"packages","tasks","tags","disabled","tagChange"],["target","_blank",3,"routerLink",4,"ngIf"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","fa-fw","fa-lg"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],["mat-icon-button","","type","button",3,"click"],[1,"far","fa-trash-alt","fa-fw","fa-lg"],[1,"fas","fa-save","fa-fw","fa-lg"],["mat-header-row",""],["mat-row",""],["mat-row","",2,"border-bottom","1px solid black"]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.Sb(1,"div",1),a.ac("dragover",(function(e){return t.fileOverBase(e)}))("dragleave",(function(e){return t.fileLeave(e)}))("drop",(function(e){return t.fileDropEvent(e)}))("onUpload",(function(e){return t.handleMultipleUpload(e)})),a.Sb(2,"div",2),a.Nb(3,"i",3),a.Nb(4,"br"),a.Nb(5,"input",4),a.Sb(6,"label",5),a.Sb(7,"strong"),a.Jc(8,"Choose a file"),a.Rb(),a.Sb(9,"span",6),a.Jc(10," or drag it here"),a.Rb(),a.Jc(11,". "),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Hc(12,Ce,43,7,"table",7),a.Nb(13,"br")),2&e&&(a.Ab(1),a.lc("options",t.uploaderOptions)("ngClass",a.pc(4,Ae,t.hasBaseDropZoneOver)),a.Ab(4),a.lc("options",t.uploaderOptions),a.Ab(7),a.lc("ngIf",t.uploader.queue.length>0))},directives:[C.a,o.l,A.a,o.n,F.n,F.c,F.i,F.b,F.k,F.m,F.h,F.a,h.b,r.b,b.a,f.b,f.e,f.i,f.l,o.m,T.a,S.a,s.f,F.j,F.l],pipes:[o.e],styles:[".my-drop-zone[_ngcontent-%COMP%]{font-size:1.25rem;background-color:#c8dadf;position:relative;padding:60px 20px;outline:2px dashed #92b0b3;outline-offset:-10px;transition:outline-offset .15s ease-in-out,background-color .15s linear}.nv-file-over[_ngcontent-%COMP%]{outline-offset:-20px;outline-color:#c8dadf;background-color:#fff}.hide-input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;z-index:-1;position:absolute}.input-label[_ngcontent-%COMP%]{max-width:80%;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden}.input-label[_ngcontent-%COMP%]:hover   strong[_ngcontent-%COMP%]{color:#39bfd3}@-webkit-keyframes md-spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}@keyframes md-spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}"],data:{animation:[w]}}),e})();var Ie=i("YiK1");function ye(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",6),a.ac("click",(function(){return a.zc(e),a.ec(2).linkAccount()})),a.Jc(1,"Link to your google accounts"),a.Rb()}}function He(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",7),a.ac("click",(function(){return a.zc(e),a.ec(2).linkAccount()})),a.Jc(1,"Switch account"),a.Rb()}}function Pe(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",8),a.ac("click",(function(){return a.zc(e),a.ec(2).showPicker()})),a.Jc(1,"Import from google drive"),a.Rb()}}function Ne(e,t){1&e&&a.Nb(0,"th",29)}function Je(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",30),a.Sb(1,"div",31),a.Sb(2,"button",32),a.ac("click",(function(){a.zc(e);const i=t.$implicit;return a.ec(3).removeFromList(i.id)})),a.Nb(3,"i",33),a.Rb(),a.Rb(),a.Rb()}}function Oe(e,t){1&e&&(a.Sb(0,"th",34),a.Jc(1,"Prefix"),a.Rb())}function Me(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-form-field",36),a.Sb(1,"input",37),a.ac("ngModelChange",(function(t){return a.zc(e),a.ec().$implicit.dataFile.prefix=t})),a.Rb(),a.Rb()}if(2&e){const e=a.ec().$implicit;a.Ab(1),a.lc("ngModel",e.dataFile.prefix)}}function je(e,t){if(1&e&&(a.Sb(0,"td",30),a.Hc(1,Me,2,1,"mat-form-field",35),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",null==e.dataFile?null:e.dataFile.id)}}function ze(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1,"DataFile name"),a.Rb())}function $e(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-form-field",36),a.Sb(1,"input",38),a.ac("ngModelChange",(function(t){return a.zc(e),a.ec().$implicit.dataFile.name=t})),a.Rb(),a.Rb()}if(2&e){const e=a.ec().$implicit;a.Ab(1),a.lc("ngModel",e.dataFile.name)}}function Ee(e,t){if(1&e&&(a.Sb(0,"td",30),a.Hc(1,$e,2,1,"mat-form-field",35),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e.dataFile)}}function Le(e,t){1&e&&(a.Sb(0,"th",34),a.Jc(1,"Suffix"),a.Rb())}function Qe(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-form-field",36),a.Sb(1,"input",39),a.ac("ngModelChange",(function(t){return a.zc(e),a.ec().$implicit.dataFile.suffix=t})),a.Rb(),a.Rb()}if(2&e){const e=a.ec().$implicit;a.Ab(1),a.lc("ngModel",e.dataFile.suffix)}}function _e(e,t){if(1&e&&(a.Sb(0,"td",30),a.Hc(1,Qe,2,1,"mat-form-field",35),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e.dataFile)}}function Ue(e,t){1&e&&(a.Sb(0,"th",34),a.Jc(1,"Mime Type"),a.Rb())}function Ke(e,t){if(1&e&&(a.Sb(0,"td",30),a.Sb(1,"span"),a.Jc(2),a.Rb(),a.Rb()),2&e){const e=t.$implicit;a.Ab(2),a.Kc(e.mimeType)}}function Ve(e,t){1&e&&a.Nb(0,"th",29)}function qe(e,t){if(1&e&&(a.Sb(0,"td",30),a.Nb(1,"img",40),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("src",e.iconUrl,a.Cc)}}function Ge(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1,"Original Filename"),a.Rb())}function Be(e,t){if(1&e&&(a.Sb(0,"td",30),a.Sb(1,"a",41),a.Jc(2),a.Rb(),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("href",e.embedUrl,a.Cc),a.Ab(1),a.Kc(e.name)}}function Xe(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1," Status "),a.Rb())}function Ye(e,t){1&e&&(a.Sb(0,"span",47),a.Nb(1,"i",48),a.Jc(2," Pending"),a.Rb())}function Ze(e,t){1&e&&(a.Sb(0,"span",49),a.Nb(1,"i",50),a.Jc(2," Processing"),a.Rb())}function We(e,t){1&e&&(a.Sb(0,"span",51),a.Nb(1,"i",52),a.Jc(2," Imported"),a.Rb())}function et(e,t){1&e&&(a.Sb(0,"span",53),a.Nb(1,"i",54),a.Jc(2," Error"),a.Rb())}function tt(e,t){1&e&&(a.Sb(0,"td",42),a.Hc(1,Ye,3,0,"span",43),a.Hc(2,Ze,3,0,"span",44),a.Hc(3,We,3,0,"span",45),a.Hc(4,et,3,0,"span",46),a.Rb()),2&e&&(a.lc("ngSwitch",t.$implicit.status),a.Ab(1),a.lc("ngSwitchCase","pending"),a.Ab(1),a.lc("ngSwitchCase","importing"),a.Ab(1),a.lc("ngSwitchCase","success"),a.Ab(1),a.lc("ngSwitchCase","error"))}function it(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1," Tags "),a.Rb())}function at(e,t){if(1&e){const e=a.Tb();a.Sb(0,"bdp-tag-input",56),a.ac("tagChange",(function(t){a.zc(e);const i=a.ec().$implicit;return a.ec(3).onTagChanged(t,i.dataFile)})),a.Rb()}if(2&e){const e=a.ec().$implicit,t=a.ec(3);a.lc("packages",t.project.packages)("tasks",t.tasks)("tags",e.dataFile.tags)}}function nt(e,t){if(1&e&&(a.Sb(0,"td",30),a.Hc(1,at,1,3,"bdp-tag-input",55),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e.dataFile)}}function ct(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1," Link "),a.Rb())}const st=function(e){return["/dataFile",e,"info"]};function ot(e,t){if(1&e&&(a.Sb(0,"a",58),a.Nb(1,"span",59),a.Rb()),2&e){const e=a.ec().$implicit;a.lc("routerLink",a.pc(1,st,e.dataFile.id))}}function lt(e,t){if(1&e&&(a.Sb(0,"td",30),a.Sb(1,"div",31),a.Hc(2,ot,2,3,"a",57),a.Rb(),a.Rb()),2&e){const e=t.$implicit;a.Ab(2),a.lc("ngIf",e.dataFile)}}function rt(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1," Controls "),a.Rb())}function bt(e,t){1&e&&(a.Sb(0,"span"),a.Jc(1,"Import"),a.Rb())}function ft(e,t){1&e&&(a.Sb(0,"span"),a.Jc(1,"Importing"),a.Rb())}function dt(e,t){1&e&&(a.Sb(0,"span"),a.Jc(1,"Imported"),a.Rb())}function ut(e,t){1&e&&(a.Sb(0,"span"),a.Jc(1,"Error"),a.Rb())}function pt(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",30),a.Sb(1,"button",60),a.ac("click",(function(){a.zc(e);const i=t.$implicit;return a.ec(3).importFile(i)})),a.Nb(2,"span",61),a.Hc(3,bt,2,0,"span",62),a.Hc(4,ft,2,0,"span",62),a.Hc(5,dt,2,0,"span",62),a.Hc(6,ut,2,0,"span",62),a.Rb(),a.Rb()}if(2&e){const e=t.$implicit;a.Ab(1),a.lc("disabled","pending"!==e.status),a.Ab(2),a.lc("ngIf","pending"==e.status),a.Ab(1),a.lc("ngIf","importing"==e.status),a.Ab(1),a.lc("ngIf","success"==e.status),a.Ab(1),a.lc("ngIf","error"==e.status)}}function gt(e,t){1&e&&(a.Sb(0,"th",29),a.Jc(1," Controls "),a.Rb())}function ht(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",63),a.ac("click",(function(){a.zc(e);const t=a.ec(2).$implicit;return a.ec(3).onUpdateDataFile(t.dataFile)})),a.Nb(1,"i",66),a.Rb()}}function mt(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Sb(1,"button",63),a.ac("click",(function(){a.zc(e);const t=a.ec().$implicit;return a.ec(3).onDeleteDataFile(t.dataFile.id,t.id)})),a.Nb(2,"i",64),a.Rb(),a.Hc(3,ht,2,0,"button",65),a.Pb()}if(2&e){const e=a.ec().$implicit;a.Ab(3),a.lc("ngIf",3!==e.status)}}function St(e,t){if(1&e&&(a.Sb(0,"td",30),a.Hc(1,mt,4,1,"ng-container",62),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e.dataFile&&"success"==e.status)}}function kt(e,t){1&e&&a.Nb(0,"tr",67)}function Rt(e,t){if(1&e){const e=a.Tb();a.Sb(0,"tr",68),a.ac("@highlightRows.done",(function(i){a.zc(e);const n=t.$implicit;return a.ec(3).resetState(i,n.dataFile)})),a.Rb()}if(2&e){const e=t.$implicit,i=a.ec(3);a.lc("@highlightRows",e&&e.dataFile&&i.highlightController[e.dataFile.id]?"active":"inactive")}}function Ft(e,t){if(1&e&&a.Nb(0,"tr",68),2&e){const e=t.$implicit,i=a.ec(3);a.lc("@highlightRows",e&&e.dataFile&&i.highlightController[e.dataFile.id]?"active":"inactive")}}const Dt=function(){return["deleteIcon","iconUrl","name","mimeType","status","importBtn"]},wt=function(){return["link","DataFilePrefix","DataFileName","DataFileSuffix","tags","controls"]};function xt(e,t){if(1&e&&(a.Sb(0,"div",9),a.Sb(1,"table",10),a.Qb(2,11),a.Hc(3,Ne,1,0,"th",12),a.Hc(4,Je,4,0,"td",13),a.Pb(),a.Qb(5,14),a.Hc(6,Oe,2,0,"th",15),a.Hc(7,je,2,1,"td",13),a.Pb(),a.Qb(8,16),a.Hc(9,ze,2,0,"th",12),a.Hc(10,Ee,2,1,"td",13),a.Pb(),a.Qb(11,17),a.Hc(12,Le,2,0,"th",15),a.Hc(13,_e,2,1,"td",13),a.Pb(),a.Qb(14,18),a.Hc(15,Ue,2,0,"th",15),a.Hc(16,Ke,3,1,"td",13),a.Pb(),a.Qb(17,19),a.Hc(18,Ve,1,0,"th",12),a.Hc(19,qe,2,1,"td",13),a.Pb(),a.Qb(20,20),a.Hc(21,Ge,2,0,"th",12),a.Hc(22,Be,3,2,"td",13),a.Pb(),a.Qb(23,21),a.Hc(24,Xe,2,0,"th",12),a.Hc(25,tt,5,5,"td",22),a.Pb(),a.Qb(26,23),a.Hc(27,it,2,0,"th",12),a.Hc(28,nt,2,1,"td",13),a.Pb(),a.Qb(29,24),a.Hc(30,ct,2,0,"th",12),a.Hc(31,lt,3,1,"td",13),a.Pb(),a.Qb(32,25),a.Hc(33,rt,2,0,"th",12),a.Hc(34,pt,7,5,"td",13),a.Pb(),a.Qb(35,26),a.Hc(36,gt,2,0,"th",12),a.Hc(37,St,2,1,"td",13),a.Pb(),a.Hc(38,kt,1,0,"tr",27),a.Hc(39,Rt,1,1,"tr",28),a.Hc(40,Ft,1,1,"tr",28),a.Rb(),a.Rb()),2&e){const e=a.ec(2);a.Ab(1),a.lc("dataSource",e._selectedDocs),a.Ab(37),a.lc("matHeaderRowDef",a.oc(4,Dt)),a.Ab(1),a.lc("matRowDefColumns",a.oc(5,Dt)),a.Ab(1),a.lc("matRowDefColumns",a.oc(6,wt))}}function vt(e,t){if(1&e&&(a.Sb(0,"div",1),a.Hc(1,ye,2,0,"button",2),a.Hc(2,He,2,0,"button",3),a.Hc(3,Pe,2,0,"button",4),a.Hc(4,xt,41,7,"div",5),a.Rb()),2&e){const e=a.ec();a.Ab(1),a.lc("ngIf",!e.oauthToken),a.Ab(1),a.lc("ngIf",e.authApiLoaded&&e.oauthToken),a.Ab(1),a.lc("ngIf",e.pickerApiLoaded&&e.oauthToken),a.Ab(1),a.lc("ngIf",e._selectedDocs.length>0)}}let Ct=(()=>{class e{constructor(e,t,i,n){this.projectService=e,this.router=t,this.systemService=i,this.infoService=n,this.navigateDataFile=new a.o,this.deleteDataFile=new a.o,this.updateDataFile=new a.o,this.pickerApiLoaded=!1,this.authApiLoaded=!1,this.oauthToken=void 0,this._gapi=gapi,this.clientId="",this.appId="",this.scope=["https://www.googleapis.com/auth/drive.readonly"],this._subs=[]}ngOnInit(){if(this.highlightController={},this.zone=new a.A({enableLongStackTrace:!0}),this.authToPicker={},this.authToAuthResult={},this._selectedDocs=this.projectService._googleDriveImportQueue,this._gapi.load("picker",{callback:()=>this.zone.run(()=>this.pickerApiLoaded=!0)}),this._gapi.load("auth",{callback:()=>this.zone.run(()=>this.authApiLoaded=!0)}),this.projectService.sysInfo.googleClientID){this.clientId=this.projectService.sysInfo.googleClientID;const e=this.clientId.split("-");this.appId=e[0]}else this._subs.push(this.systemService.sysInfo$.subscribe(e=>{e&&(this.clientId=e.googleClientID,this.appId=this.clientId.split("-")[0])}));this._subs.push(this.infoService.incomingDataChange$.subscribe(e=>{if("DataFile"===e.target)if("update"===e.type){const t=e.data;for(let e=0;e<this._selectedDocs.length;e++){const i=this._selectedDocs[e].dataFile;if(i&&t.id===i.id){i.prefix=t.prefix,i.name=t.name,i.suffix=t.suffix,i.desc=t.desc,i.tags=t.tags,this.highlightController[t.id]=!0;break}}}else if("remove"===e.type)for(let t=0;t<this._selectedDocs.length;t++)if(this._selectedDocs[t].dataFile&&this._selectedDocs[t].dataFile.id===e.data.id){this._selectedDocs.splice(t,1),this.selectedDocTable&&this.selectedDocTable.renderRows();break}}))}get selectedDocs(){return this._selectedDocs}linkAccount(){this._gapi.auth.authorize({client_id:this.clientId,scope:this.scope,immediate:!1,authuser:-1},e=>{this.zone.run(()=>this.oauthToken=e.access_token),this.authToAuthResult[this.oauthToken]=e,this.showPicker()})}showPicker(){this.authToPicker[this.oauthToken]?this.authToPicker[this.oauthToken].setVisible(!0):this.pickerApiLoaded&&this.oauthToken&&(this.authToPicker[this.oauthToken]=(new google.picker.PickerBuilder).addView(google.picker.ViewId.DOCUMENTS).addView(google.picker.ViewId.DOCS_IMAGES).addView(google.picker.ViewId.PRESENTATIONS).addView(google.picker.ViewId.SPREADSHEETS).setOAuthToken(this.oauthToken).setAppId(this.appId).setDeveloperKey(this.apiKey).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).setMaxItems(5).setCallback(e=>this.pickerCallback(e)).build(),this.authToPicker[this.oauthToken].setVisible(!0))}pickerCallback(e){if(Object.keys(this).length>0){let t=[];e[google.picker.Response.ACTION]===google.picker.Action.PICKED&&(t=e[google.picker.Response.DOCUMENTS],this.appendFiles(t,this.oauthToken))}}appendFiles(e,t){t&&(e.forEach(e=>{e.oauthToken=this.oauthToken,e.status="pending",e.dataFile=void 0}),this._selectedDocs.push.apply(this._selectedDocs,e),this.selectedDocTable&&this.selectedDocTable.renderRows())}removeFromList(e){for(let t=0;t<this._selectedDocs.length;t++)if(this._selectedDocs[t].id===e){this._selectedDocs.splice(t,1);break}this.selectedDocTable&&this.selectedDocTable.renderRows()}importFile(e){this.zone.run(()=>e.status="importing");const t=this.projectService.importData(e.id,e.name,this.desc||e.description,e.mimeType,e.oauthToken,this.project.id,this.prefix,this.suffix,this.name,this.tags||[],this.folder||"",!!this.keepFileName).subscribe(i=>{t.unsubscribe(),i.isError?e.status="error":(e.status="success",e.dataFile=i.success)})}gotoDataFile(e){this.router.navigate(["/dataFile",e,"info"])}resetState(e,t){t&&t.id&&this.highlightController[t.id]&&delete this.highlightController[t.id]}onDeleteDataFile(e,t){this.removeFromList(t),this.deleteDataFile.emit(e)}onUpdateDataFile(e){this.updateDataFile.emit(e)}onTagChanged(e,t){t.tags=e}ngOnDestroy(){this._subs.forEach(e=>e.unsubscribe());let e=Object.keys(this.authToPicker);for(let t=0;t<e.length;t++)this.authToPicker[e[t]].dispose(),delete this.authToPicker[e[t]];e=Object.keys(this.authToAuthResult);for(let t=0;t<e.length;t++)this.authToAuthResult[this.oauthToken]["g-oauth-window"].close();this.authToPicker=void 0,delete this._gapi}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(c.a),a.Mb(s.c),a.Mb(Ie.a),a.Mb(v.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["chi-google-picker"]],viewQuery:function(e,t){var i;1&e&&a.Pc(F.n,!0),2&e&&a.vc(i=a.bc())&&(t.selectedDocTable=i.first)},inputs:{project:"project",allowedExtensions:"allowedExtensions",tags:"tags",keepFileName:"keepFileName",folder:"folder",apiKey:"apiKey",name:"name",desc:"desc",prefix:"prefix",suffix:"suffix",tasks:"tasks"},outputs:{navigateDataFile:"navigateDataFile",deleteDataFile:"deleteDataFile",updateDataFile:"updateDataFile"},decls:1,vars:1,consts:[["class","container-fluid p-3",4,"ngIf"],[1,"container-fluid","p-3"],["mat-raised-button","","color","primary","class","mt-3",3,"click",4,"ngIf"],["class","mt-3","mat-button","",3,"click",4,"ngIf"],["class","mt-3","mat-button","","color","primary",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["mat-raised-button","","color","primary",1,"mt-3",3,"click"],["mat-button","",1,"mt-3",3,"click"],["mat-button","","color","primary",1,"mt-3",3,"click"],[1,"row"],["mat-table","","multiTemplateDataRows","",2,"width","100%",3,"dataSource"],["matColumnDef","deleteIcon"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","px-2",4,"matCellDef"],["matColumnDef","DataFilePrefix"],["mat-header-cell","","style","width: 80px;",4,"matHeaderCellDef"],["matColumnDef","DataFileName"],["matColumnDef","DataFileSuffix"],["matColumnDef","mimeType"],["matColumnDef","iconUrl"],["matColumnDef","name"],["matColumnDef","status"],["mat-cell","","class","px-2",3,"ngSwitch",4,"matCellDef"],["matColumnDef","tags"],["matColumnDef","link"],["matColumnDef","importBtn"],["matColumnDef","controls"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"px-2"],[1,"d-flex","justify-content-center","align-items-center"],["mat-icon-button","","color","accent",3,"click"],[1,"fas","fa-times","fa-fw","fa-lg"],["mat-header-cell","",2,"width","80px"],["style","width: 100%;",4,"ngIf"],[2,"width","100%"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix for the data file",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix for the data file",3,"ngModel","ngModelChange"],[3,"src"],["target","_blank",3,"href"],["mat-cell","",1,"px-2",3,"ngSwitch"],["class","text-info",4,"ngSwitchCase"],["class","text-warning",4,"ngSwitchCase"],["class","text-success",4,"ngSwitchCase"],["class","text-danger",4,"ngSwitchCase"],[1,"text-info"],[1,"fa","fa-hourglass-half"],[1,"text-warning"],[1,"fas","fa-circle-notch","fa-spin","fa-fw"],[1,"text-success"],[1,"fas","fa-check","fa-fw"],[1,"text-danger"],[1,"fas","fa-times","fa-fw"],[3,"packages","tasks","tags","tagChange",4,"ngIf"],[3,"packages","tasks","tags","tagChange"],["mat-icon-button","","target","_blank",3,"routerLink",4,"ngIf"],["mat-icon-button","","target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","fa-fw","fa-lg"],["mat-raised-button","",3,"disabled","click"],[1,"fas","fa-cloud-upload-alt","fa-fw","fa-lg","mr-4"],[4,"ngIf"],["mat-icon-button","","type","button",3,"click"],[1,"far","fa-trash-alt","fa-fw","fa-lg"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],[1,"fas","fa-save","fa-fw","fa-lg"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&a.Hc(0,vt,5,4,"div",0),2&e&&a.lc("ngIf",t.clientId)},directives:[o.n,h.b,F.n,F.c,F.i,F.b,F.k,F.m,F.h,F.a,r.b,b.a,f.b,f.e,f.i,f.l,o.p,o.q,S.a,h.a,s.f,F.j,F.l],encapsulation:2,data:{animation:[w]}}),e})();function At(e,t){1&e&&a.Nb(0,"th",23)}function Tt(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",24),a.Sb(1,"div",25),a.Sb(2,"button",26),a.ac("click",(function(){a.zc(e);const i=t.$implicit;return a.ec(2).removeFromList(i.dataFile.id)})),a.Nb(3,"i",27),a.Rb(),a.Rb(),a.Rb()}}function It(e,t){1&e&&(a.Sb(0,"th",28),a.Jc(1,"Prefix"),a.Rb())}function yt(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",24),a.Sb(1,"mat-form-field",1),a.Sb(2,"input",29),a.ac("ngModelChange",(function(i){return a.zc(e),t.$implicit.dataFile.prefix=i})),a.Rb(),a.Rb(),a.Rb()}if(2&e){const e=t.$implicit;a.Ab(2),a.lc("ngModel",e.dataFile.prefix)}}function Ht(e,t){1&e&&(a.Sb(0,"th",23),a.Jc(1,"DataFile name"),a.Rb())}function Pt(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",24),a.Sb(1,"mat-form-field",1),a.Sb(2,"input",30),a.ac("ngModelChange",(function(i){return a.zc(e),t.$implicit.dataFile.name=i})),a.Rb(),a.Rb(),a.Rb()}if(2&e){const e=t.$implicit;a.Ab(2),a.lc("ngModel",e.dataFile.name)}}function Nt(e,t){1&e&&(a.Sb(0,"th",28),a.Jc(1,"Suffix"),a.Rb())}function Jt(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",24),a.Sb(1,"mat-form-field",1),a.Sb(2,"input",31),a.ac("ngModelChange",(function(i){return a.zc(e),t.$implicit.dataFile.suffix=i})),a.Rb(),a.Rb(),a.Rb()}if(2&e){const e=t.$implicit;a.Ab(2),a.lc("ngModel",e.dataFile.suffix)}}function Ot(e,t){1&e&&(a.Sb(0,"th",23),a.Jc(1," Status "),a.Rb())}function Mt(e,t){1&e&&(a.Sb(0,"span"),a.Nb(1,"span",33),a.Jc(2,"Importing"),a.Rb())}function jt(e,t){1&e&&(a.Sb(0,"span"),a.Sb(1,"span",34),a.Jc(2,"Success"),a.Rb(),a.Rb())}function zt(e,t){1&e&&(a.Sb(0,"span"),a.Sb(1,"span",35),a.Jc(2,"Deleting"),a.Rb(),a.Rb())}function $t(e,t){1&e&&(a.Sb(0,"span"),a.Sb(1,"span",36),a.Jc(2,"Error"),a.Rb(),a.Rb())}function Et(e,t){if(1&e&&(a.Sb(0,"td",24),a.Hc(1,Mt,3,0,"span",32),a.Hc(2,jt,3,0,"span",32),a.Hc(3,zt,3,0,"span",32),a.Hc(4,$t,3,0,"span",32),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",0===e.dataFile.status),a.Ab(1),a.lc("ngIf",1===e.dataFile.status),a.Ab(1),a.lc("ngIf",3===e.dataFile.status),a.Ab(1),a.lc("ngIf",4===e.dataFile.status)}}function Lt(e,t){1&e&&(a.Sb(0,"th",23),a.Jc(1," Tags "),a.Rb())}function Qt(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",24),a.Sb(1,"bdp-tag-input",37),a.ac("tagChange",(function(i){a.zc(e);const n=t.$implicit;return a.ec(2).onTagChanged(i,n.dataFile)})),a.Rb(),a.Rb()}if(2&e){const e=t.$implicit,i=a.ec(2);a.Ab(1),a.lc("packages",i.project.packages)("tasks",i.tasks)("tags",e.dataFile.tags)}}function _t(e,t){1&e&&(a.Sb(0,"th",23),a.Jc(1,"Original Path"),a.Rb())}function Ut(e,t){if(1&e&&(a.Sb(0,"td",24),a.Sb(1,"span"),a.Jc(2),a.Rb(),a.Rb()),2&e){const e=t.$implicit;a.Ab(2),a.Kc(e.originalPath)}}function Kt(e,t){1&e&&(a.Sb(0,"th",23),a.Jc(1," Link "),a.Rb())}function Vt(e,t){1&e&&a.Nb(0,"td",24)}function qt(e,t){1&e&&(a.Sb(0,"th",23),a.Jc(1," Controls "),a.Rb())}const Gt=function(e){return["/dataFile",e,"info"]};function Bt(e,t){if(1&e&&(a.Sb(0,"a",42),a.Nb(1,"i",43),a.Rb()),2&e){const e=a.ec().$implicit;a.lc("routerLink",a.pc(1,Gt,e.dataFile.id))}}function Xt(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",39),a.ac("click",(function(){a.zc(e);const t=a.ec().$implicit;return a.ec(2).onUpdateDataFile(t.dataFile)})),a.Nb(1,"i",44),a.Rb()}}function Yt(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",24),a.Hc(1,Bt,2,3,"a",38),a.Sb(2,"button",39),a.ac("click",(function(){a.zc(e);const i=t.$implicit;return a.ec(2).onDeleteDataFile(i.dataFile.id)})),a.Nb(3,"i",40),a.Rb(),a.Hc(4,Xt,2,0,"button",41),a.Rb()}if(2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e),a.Ab(3),a.lc("ngIf",3!==e.status)}}function Zt(e,t){1&e&&a.Nb(0,"tr",45)}function Wt(e,t){if(1&e){const e=a.Tb();a.Sb(0,"tr",46),a.ac("@highlightRows.done",(function(i){a.zc(e);const n=t.$implicit;return a.ec(2).resetState(i,n.dataFile)})),a.Rb()}if(2&e){const e=t.$implicit,i=a.ec(2);a.lc("@highlightRows",e&&e.dataFile&&i.highlightController[e.dataFile.id]?"active":"inactive")}}const ei=function(){return["deleteIcon","DataFilePrefix","DataFileName","DataFileSuffix","OriginalPath","tags","controls"]};function ti(e,t){if(1&e&&(a.Sb(0,"table",8),a.Qb(1,9),a.Hc(2,At,1,0,"th",10),a.Hc(3,Tt,4,0,"td",11),a.Pb(),a.Qb(4,12),a.Hc(5,It,2,0,"th",13),a.Hc(6,yt,3,1,"td",11),a.Pb(),a.Qb(7,14),a.Hc(8,Ht,2,0,"th",10),a.Hc(9,Pt,3,1,"td",11),a.Pb(),a.Qb(10,15),a.Hc(11,Nt,2,0,"th",13),a.Hc(12,Jt,3,1,"td",11),a.Pb(),a.Qb(13,16),a.Hc(14,Ot,2,0,"th",10),a.Hc(15,Et,5,4,"td",11),a.Pb(),a.Qb(16,17),a.Hc(17,Lt,2,0,"th",10),a.Hc(18,Qt,2,3,"td",11),a.Pb(),a.Qb(19,18),a.Hc(20,_t,2,0,"th",10),a.Hc(21,Ut,3,1,"td",11),a.Pb(),a.Qb(22,19),a.Hc(23,Kt,2,0,"th",10),a.Hc(24,Vt,1,0,"td",11),a.Pb(),a.Qb(25,20),a.Hc(26,qt,2,0,"th",10),a.Hc(27,Yt,5,2,"td",11),a.Pb(),a.Hc(28,Zt,1,0,"tr",21),a.Hc(29,Wt,1,1,"tr",22),a.Rb()),2&e){const e=a.ec();a.lc("dataSource",e.importedRecords),a.Ab(28),a.lc("matHeaderRowDef",a.oc(3,ei)),a.Ab(1),a.lc("matRowDefColumns",a.oc(4,ei))}}let ii=(()=>{class e{constructor(e,t,i){this.infoService=e,this.projectService=t,this.router=i,this.navigateDataFile=new a.o,this.deleteDataFile=new a.o,this.updateDataFile=new a.o,this._subs=[]}ngOnInit(){this.highlightController={},this.directLink=!1,this.importedRecords=[],this.newPath="",this._subs.push(this.infoService.incomingDataChange$.subscribe(e=>{if("update"===e.type&&"DataFile"===e.target){const t=e.data;for(let e=0;e<this.importedRecords.length;e++){const i=this.importedRecords[e].dataFile;if(i&&t.id===i.id){i.prefix=t.prefix,i.name=t.name,i.suffix=t.suffix,i.desc=t.desc,i.tags=t.tags,this.highlightController[t.id]||(this.highlightController[t.id]=!0);break}}}else"remove"===e.type&&"DataFile"===e.target&&this.removeFromList(e.data.id)}))}importFromFolder(){if(this.newPath){const e=this.newPath;this.newPath="";const t=this.projectService.importFromPath(e,this.project.id,this.directLink,this.name,this.desc,this.prefix,this.suffix,this.tags,this.folder||"",this.keepFileName).subscribe(i=>{t.unsubscribe(),i.success&&(this.importedRecords.push({originalPath:e,dataFile:i.success}),this.importedTable&&this.importedTable.renderRows())})}}removeFromList(e){for(let t=0;t<this.importedRecords.length;t++)if(this.importedRecords[t].dataFile&&this.importedRecords[t].dataFile.id&&this.importedRecords[t].dataFile.id===e){this.importedRecords.splice(t,1);break}this.importedTable&&this.importedTable.renderRows()}resetState(e,t){t&&t.id&&this.highlightController[t.id]&&delete this.highlightController[t.id]}onTagChanged(e,t){t.tags=e}onUpdateDataFile(e){this.updateDataFile.emit(e)}onDeleteDataFile(e){this.removeFromList(e),this.deleteDataFile.emit(e)}ngOnDestroy(){this._subs.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(v.a),a.Mb(c.a),a.Mb(s.c))},e.\u0275cmp=a.Gb({type:e,selectors:[["chi-path-importer"]],viewQuery:function(e,t){var i;1&e&&a.Pc(F.n,!0),2&e&&a.vc(i=a.bc())&&(t.importedTable=i.first)},inputs:{project:"project",allowedExtensions:"allowedExtensions",folder:"folder",keepFileName:"keepFileName",tags:"tags",name:"name",desc:"desc",prefix:"prefix",suffix:"suffix",tasks:"tasks"},outputs:{navigateDataFile:"navigateDataFile",deleteDataFile:"deleteDataFile",updateDataFile:"updateDataFile"},decls:14,vars:4,consts:[[1,"mt-3"],[2,"width","100%"],["matInput","","type","text","placeholder","The path on the server to import",3,"ngModel","ngModelChange"],["align","end"],[3,"ngModel","ngModelChange"],[1,"text-muted"],["mat-raised-button","","color","primary",1,"my-5",3,"disabled","click"],["mat-table","","style","width: 100%;","multiTemplateDataRows","",3,"dataSource",4,"ngIf"],["mat-table","","multiTemplateDataRows","",2,"width","100%",3,"dataSource"],["matColumnDef","deleteIcon"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","px-2",4,"matCellDef"],["matColumnDef","DataFilePrefix"],["mat-header-cell","","style","width: 80px;",4,"matHeaderCellDef"],["matColumnDef","DataFileName"],["matColumnDef","DataFileSuffix"],["matColumnDef","status"],["matColumnDef","tags"],["matColumnDef","OriginalPath"],["matColumnDef","link"],["matColumnDef","controls"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"px-2"],[1,"d-flex","justify-content-center","align-items-center"],["mat-icon-button","","color","accent",3,"click"],[1,"fas","fa-times"],["mat-header-cell","",2,"width","80px"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix for the data file",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix for the data file",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"fas","fa-spin","fa-circle-notch","fa-fw"],["aria-hidden","true",1,"fas","fa-check","text-success"],["aria-hidden","true",1,"far","fa-trash-alt","text-success"],["aria-hidden","true",1,"fas","fa-times","text-danger"],[3,"packages","tasks","tags","tagChange"],["mat-icon-button","","target","_blank",3,"routerLink",4,"ngIf"],["mat-icon-button","","type","button",3,"click"],[1,"far","fa-trash-alt","fa-fw","fa-lg"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],["mat-icon-button","","target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","fa-fw","fa-lg"],[1,"fas","fa-save","fa-fw","fa-lg"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(a.Sb(0,"h4",0),a.Jc(1,"Importing from the server path"),a.Rb(),a.Sb(2,"mat-form-field",1),a.Sb(3,"input",2),a.ac("ngModelChange",(function(e){return t.newPath=e})),a.Rb(),a.Sb(4,"mat-hint",3),a.Jc(5,"Please specify the folder path that already on the server."),a.Rb(),a.Rb(),a.Sb(6,"mat-checkbox",4),a.ac("ngModelChange",(function(e){return t.directLink=e})),a.Jc(7," Creating soft links directly\n"),a.Rb(),a.Sb(8,"div"),a.Sb(9,"small",5),a.Jc(10,"*Creating soft links directly is fast but you may encounter `file not found` errors in some situations."),a.Rb(),a.Rb(),a.Sb(11,"button",6),a.ac("click",(function(){return t.importFromFolder()})),a.Jc(12,"Import"),a.Rb(),a.Hc(13,ti,30,5,"table",7)),2&e&&(a.Ab(3),a.lc("ngModel",t.newPath),a.Ab(3),a.lc("ngModel",t.directLink),a.Ab(5),a.lc("disabled",!t.newPath),a.Ab(2),a.lc("ngIf",t.importedRecords.length>0))},directives:[r.b,b.a,f.b,f.i,f.l,r.e,p.a,h.b,o.n,F.n,F.c,F.i,F.b,F.k,F.m,F.h,F.a,f.e,S.a,h.a,s.f,F.j,F.l],encapsulation:2,data:{animation:[w]}}),e})();function ai(e,t){1&e&&a.Nb(0,"th",18)}function ni(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",19),a.Sb(1,"div",20),a.Sb(2,"button",21),a.ac("click",(function(){a.zc(e);const i=t.index;return a.ec(2).removeRecords(i)})),a.Nb(3,"i",22),a.Rb(),a.Rb(),a.Rb()}}function ci(e,t){1&e&&(a.Sb(0,"th",23),a.Jc(1,"Prefix"),a.Rb())}function si(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",19),a.Sb(1,"mat-form-field",24),a.Sb(2,"input",25),a.ac("ngModelChange",(function(i){return a.zc(e),t.$implicit.prefix=i})),a.Rb(),a.Rb(),a.Rb()}if(2&e){const e=t.$implicit;a.Ab(2),a.lc("ngModel",e.prefix)}}function oi(e,t){1&e&&(a.Sb(0,"th",18),a.Jc(1,"DataFile name"),a.Rb())}function li(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",19),a.Sb(1,"mat-form-field",24),a.Sb(2,"input",26),a.ac("ngModelChange",(function(i){return a.zc(e),t.$implicit.name=i})),a.Rb(),a.Rb(),a.Rb()}if(2&e){const e=t.$implicit;a.Ab(2),a.lc("ngModel",e.name)}}function ri(e,t){1&e&&(a.Sb(0,"th",23),a.Jc(1,"Suffix"),a.Rb())}function bi(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",19),a.Sb(1,"mat-form-field",24),a.Sb(2,"input",27),a.ac("ngModelChange",(function(i){return a.zc(e),t.$implicit.suffix=i})),a.Rb(),a.Rb(),a.Rb()}if(2&e){const e=t.$implicit;a.Ab(2),a.lc("ngModel",e.suffix)}}function fi(e,t){1&e&&(a.Sb(0,"th",18),a.Jc(1," Status "),a.Rb())}function di(e,t){1&e&&(a.Sb(0,"span"),a.Sb(1,"span",29),a.Jc(2,"Aborted"),a.Rb(),a.Rb())}function ui(e,t){1&e&&(a.Sb(0,"span"),a.Nb(1,"span",30),a.Jc(2,"Uploading"),a.Rb())}function pi(e,t){1&e&&(a.Sb(0,"span"),a.Sb(1,"span",31),a.Jc(2,"Success"),a.Rb(),a.Rb())}function gi(e,t){1&e&&(a.Sb(0,"span"),a.Sb(1,"span",32),a.Jc(2,"Error"),a.Rb(),a.Rb())}function hi(e,t){if(1&e&&(a.Sb(0,"td",19),a.Hc(1,di,3,0,"span",28),a.Hc(2,ui,3,0,"span",28),a.Hc(3,pi,3,0,"span",28),a.Hc(4,gi,3,0,"span",28),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e.abort),a.Ab(1),a.lc("ngIf",e.uploading),a.Ab(1),a.lc("ngIf",e.done&&!e.error),a.Ab(1),a.lc("ngIf",e.error)}}function mi(e,t){1&e&&(a.Sb(0,"th",18),a.Jc(1," Tags "),a.Rb())}function Si(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",19),a.Sb(1,"bdp-tag-input",33),a.ac("tagChange",(function(i){a.zc(e);const n=t.$implicit;return a.ec(2).onTagChanged(i,n)})),a.Rb(),a.Rb()}if(2&e){const e=t.$implicit,i=a.ec(2);a.Ab(1),a.lc("packages",i.project.packages)("tasks",i.tasks)("tags",e.tags)}}function ki(e,t){1&e&&(a.Sb(0,"th",18),a.Jc(1," Link "),a.Rb())}const Ri=function(e){return["/dataFile",e,"info"]};function Fi(e,t){if(1&e&&(a.Sb(0,"a",35),a.Nb(1,"span",36),a.Rb()),2&e){const e=a.ec().$implicit;a.lc("routerLink",a.pc(1,Ri,e.id))}}function Di(e,t){if(1&e&&(a.Sb(0,"td",19),a.Hc(1,Fi,2,3,"a",34),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e)}}function wi(e,t){1&e&&(a.Sb(0,"th",18),a.Jc(1," Controls "),a.Rb())}function xi(e,t){if(1&e&&(a.Sb(0,"a",35),a.Nb(1,"span",36),a.Rb()),2&e){const e=a.ec().$implicit;a.lc("routerLink",a.pc(1,Ri,e.id))}}function vi(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",40),a.ac("click",(function(){a.zc(e);const t=a.ec().$implicit;return a.ec(2).onUpdateDataFile(t)})),a.Nb(1,"i",41),a.Rb()}if(2&e){const e=a.ec().$implicit,t=a.ec(2);a.lc("disabled",t.updatingIndicator[e.id])}}function Ci(e,t){if(1&e){const e=a.Tb();a.Sb(0,"td",19),a.Hc(1,xi,2,3,"a",34),a.Sb(2,"button",37),a.ac("click",(function(){a.zc(e);const i=t.$implicit;return a.ec(2).onDeleteDataFile(i.id)})),a.Nb(3,"i",38),a.Rb(),a.Hc(4,vi,2,1,"button",39),a.Rb()}if(2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf",e),a.Ab(3),a.lc("ngIf",3!==e.status)}}function Ai(e,t){1&e&&a.Nb(0,"tr",42)}function Ti(e,t){if(1&e){const e=a.Tb();a.Sb(0,"tr",43),a.ac("@highlightRows.done",(function(i){a.zc(e);const n=t.$implicit;return a.ec(2).resetState(i,n)})),a.Rb()}if(2&e){const e=t.$implicit,i=a.ec(2);a.lc("@highlightRows",e&&i.highlightController[e.id]?"active":"inactive")}}const Ii=function(){return["deleteIcon","DataFilePrefix","DataFileName","DataFileSuffix","tags","controls"]};function yi(e,t){if(1&e&&(a.Sb(0,"table",4),a.Qb(1,5),a.Hc(2,ai,1,0,"th",6),a.Hc(3,ni,4,0,"td",7),a.Pb(),a.Qb(4,8),a.Hc(5,ci,2,0,"th",9),a.Hc(6,si,3,1,"td",7),a.Pb(),a.Qb(7,10),a.Hc(8,oi,2,0,"th",6),a.Hc(9,li,3,1,"td",7),a.Pb(),a.Qb(10,11),a.Hc(11,ri,2,0,"th",9),a.Hc(12,bi,3,1,"td",7),a.Pb(),a.Qb(13,12),a.Hc(14,fi,2,0,"th",6),a.Hc(15,hi,5,4,"td",7),a.Pb(),a.Qb(16,13),a.Hc(17,mi,2,0,"th",6),a.Hc(18,Si,2,3,"td",7),a.Pb(),a.Qb(19,14),a.Hc(20,ki,2,0,"th",6),a.Hc(21,Di,2,1,"td",7),a.Pb(),a.Qb(22,15),a.Hc(23,wi,2,0,"th",6),a.Hc(24,Ci,5,2,"td",7),a.Pb(),a.Hc(25,Ai,1,0,"tr",16),a.Hc(26,Ti,1,1,"tr",17),a.Rb()),2&e){const e=a.ec();a.lc("dataSource",e.addedFolders),a.Ab(25),a.lc("matHeaderRowDef",a.oc(3,Ii)),a.Ab(1),a.lc("matRowDefColumns",a.oc(4,Ii))}}let Hi=(()=>{class e{constructor(e,t){this.projectService=e,this.infoService=t,this.navigateDataFile=new a.o,this.deleteDataFile=new a.o,this.updateDataFile=new a.o,this._subs=[]}ngOnInit(){this.highlightController={},this.updatingIndicator={},this.addedFolders=[],this._subs.push(this.infoService.incomingDataChange$.subscribe(e=>{if("update"===e.type&&"DataFile"===e.target){const t=e.data;for(let e=0;e<this.addedFolders.length;e++){const i=this.addedFolders[e];if(i&&t.id===i.id){i.prefix=t.prefix,i.name=t.name,i.suffix=t.suffix,i.desc=t.desc,i.tags=t.tags,this.highlightController[t.id]=!0;break}}}else if("remove"===e.type&&"DataFile"===e.target)for(let t=0;t<this.addedFolders.length;t++){const i=this.addedFolders[t];if(i&&i.id===e.data.id){this.removeRecords(t);break}}}))}createFolder(){this.projectService.createFolder(this.project.id,this.name,this.desc,this.prefix,this.suffix,this.tags,this.folder,this.keepFileName).subscribe(e=>{e.isError||(this.addedFolders.push(e.success),this.addedFolderTable&&this.addedFolderTable.renderRows())})}removeRecords(e){this.addedFolders.splice(e,1),this.addedFolderTable.renderRows()}resetState(e,t){t.id&&(delete this.highlightController[t.id],setTimeout(()=>{delete this.updatingIndicator[t.id]},1e3))}onTagChanged(e,t){t.tags=e}onUpdateDataFile(e){this.updatingIndicator[e.id]=!0,this.updateDataFile.emit(e)}onDeleteDataFile(e){for(let t=0;t<this.addedFolders.length;t++)if(this.addedFolders[t].id===e){this.addedFolders.splice(t,1);break}this.addedFolderTable.renderRows(),this.deleteDataFile.emit(e)}ngOnDestroy(){this._subs.map(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(c.a),a.Mb(v.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["chi-add-folder"]],viewQuery:function(e,t){var i;1&e&&a.Pc(F.n,!0),2&e&&a.vc(i=a.bc())&&(t.addedFolderTable=i.first)},inputs:{project:"project",allowedExtensions:"allowedExtensions",folder:"folder",keepFileName:"keepFileName",tags:"tags",name:"name",desc:"desc",prefix:"prefix",suffix:"suffix",tasks:"tasks"},outputs:{navigateDataFile:"navigateDataFile",deleteDataFile:"deleteDataFile",updateDataFile:"updateDataFile"},decls:5,vars:1,consts:[[1,"p-3"],["mat-raised-button","","color","primary",1,"mt-3",3,"click"],[1,"fas","fa-folder-plus","mr-3","fa-fw","fa-lg"],["mat-table","","style","width: 100%;","multiTemplateDataRows","",3,"dataSource",4,"ngIf"],["mat-table","","multiTemplateDataRows","",2,"width","100%",3,"dataSource"],["matColumnDef","deleteIcon"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","px-2",4,"matCellDef"],["matColumnDef","DataFilePrefix"],["mat-header-cell","","style","width: 80px;",4,"matHeaderCellDef"],["matColumnDef","DataFileName"],["matColumnDef","DataFileSuffix"],["matColumnDef","status"],["matColumnDef","tags"],["matColumnDef","link"],["matColumnDef","controls"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"px-2"],[1,"d-flex","justify-content-center","align-items-center"],["mat-icon-button","","color","accent",3,"click"],[1,"fas","fa-times","fa-fw","fa-lg"],["mat-header-cell","",2,"width","80px"],[2,"width","100%"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix for the data file",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix for the data file",3,"ngModel","ngModelChange"],[4,"ngIf"],["aria-hidden","true",1,"fas","fa-times","fa-fw","text-muted"],[1,"fas","fa-spin","fa-circle-o-notch","fa-fw"],["aria-hidden","true",1,"fas","fa-check","fa-fw","text-success"],["aria-hidden","true",1,"fas","fa-times","fa-fw","text-danger"],[3,"packages","tasks","tags","tagChange"],["mat-icon-button","","target","_blank",3,"routerLink",4,"ngIf"],["mat-icon-button","","target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","fa-fw","fa-lg"],["mat-icon-button","","type","button",3,"click"],[1,"far","fa-trash-alt","fa-fw","fa-lg"],["mat-icon-button","","type","button",3,"disabled","click",4,"ngIf"],["mat-icon-button","","type","button",3,"disabled","click"],[1,"fas","fa-save","fa-fw","fa-lg"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.Sb(1,"button",1),a.ac("click",(function(){return t.createFolder()})),a.Nb(2,"span",2),a.Jc(3,"Add an empty folder "),a.Rb(),a.Hc(4,yi,27,5,"table",3),a.Rb()),2&e&&(a.Ab(4),a.lc("ngIf",t.addedFolders.length>0))},directives:[h.b,o.n,F.n,F.c,F.i,F.b,F.k,F.m,F.h,F.a,r.b,b.a,f.b,f.e,f.i,f.l,S.a,h.a,s.f,F.j,F.l],encapsulation:2,data:{animation:[w]}}),e})();function Pi(e,t){if(1&e&&(a.Sb(0,"div",34),a.Nb(1,"h1",35),a.Sb(2,"button",36),a.Sb(3,"mat-icon"),a.Jc(4,"close"),a.Rb(),a.Rb(),a.Rb()),2&e){const e=a.ec(2);a.Ab(1),a.lc("innerHTML",e.title,a.Ac)}}function Ni(e,t){if(1&e){const e=a.Tb();a.Sb(0,"div",5),a.Sb(1,"bdp-tag-input",37),a.ac("tagChange",(function(t){return a.zc(e),a.ec(2).onTagChanged(t)})),a.Rb(),a.Rb()}if(2&e){const e=a.ec(2);a.Ab(1),a.lc("packages",e.project.packages)("tasks",e.tasks)("tags",e.tags)}}function Ji(e,t){if(1&e&&(a.Sb(0,"mat-option",24),a.Sb(1,"u",4),a.Jc(2),a.Rb(),a.Jc(3),a.Sb(4,"u",4),a.Jc(5),a.Rb(),a.Rb()),2&e){const e=t.$implicit;a.lc("value",e.id),a.Ab(2),a.Kc(e.prefix),a.Ab(1),a.Kc(e.name),a.Ab(2),a.Kc(e.suffix)}}function Oi(e,t){1&e&&(a.Qb(0),a.Sb(1,"span",38),a.Jc(2,"All extensions"),a.Rb(),a.Pb())}function Mi(e,t){if(1&e&&(a.Sb(0,"span",40),a.Jc(1),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.Kc(e)}}function ji(e,t){if(1&e&&a.Hc(0,Mi,2,1,"span",39),2&e){const e=a.ec(2);a.lc("ngForOf",e.allowedFormats)}}function zi(e,t){1&e&&(a.Sb(0,"div",41),a.Sb(1,"div",42),a.Sb(2,"span",43),a.Jc(3,"No valid extensions!"),a.Nb(4,"br"),a.Jc(5,"You might want to check if you have specify packages for this project."),a.Rb(),a.Rb(),a.Rb())}function $i(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Sb(1,"chi-file-uploader",44),a.ac("updateDataFile",(function(t){return a.zc(e),a.ec(2).onUpdateDataFile(t)}))("navigateDataFile",(function(t){return a.zc(e),a.ec(2).onNavigateDataFile(t)}))("deleteDataFile",(function(t){return a.zc(e),a.ec(2).onDeleteDataFile(t)})),a.Rb(),a.Pb()}if(2&e){const e=a.ec(2);a.Ab(1),a.lc("project",e.project)("allowedExtensions",e.allowedFormats)("fileLimits",e.sysConfig.fileLimits)("tasks",e.tasks)("tags",e.tags)("folder",e.parentDataFileID)("keepFileName",e.keepFileName)("name",e.name)("desc",e.desc)("prefix",e.prefix)("suffix",e.suffix)}}function Ei(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Sb(1,"chi-google-picker",45),a.ac("updateDataFile",(function(t){return a.zc(e),a.ec(2).onUpdateDataFile(t)}))("navigateDataFile",(function(t){return a.zc(e),a.ec(2).onNavigateDataFile(t)}))("deleteDataFile",(function(t){return a.zc(e),a.ec(2).onDeleteDataFile(t)})),a.Rb(),a.Pb()}if(2&e){const e=a.ec(2);a.Ab(1),a.lc("project",e.project)("allowedExtensions",e.allowedFormats)("apiKey",e.sysConfig.googlePickerAPIKey)("tasks",e.tasks)("tags",e.tags)("folder",e.parentDataFileID)("keepFileName",e.keepFileName)("name",e.name)("desc",e.desc)("prefix",e.prefix)("suffix",e.suffix)}}function Li(e,t){if(1&e){const e=a.Tb();a.Sb(0,"chi-path-importer",47),a.ac("updateDataFile",(function(t){return a.zc(e),a.ec(3).onUpdateDataFile(t)}))("navigateDataFile",(function(t){return a.zc(e),a.ec(3).onNavigateDataFile(t)}))("deleteDataFile",(function(t){return a.zc(e),a.ec(3).onDeleteDataFile(t)})),a.Rb()}if(2&e){const e=a.ec(3);a.lc("project",e.project)("allowedExtensions",e.allowedFormats)("tasks",e.tasks)("tags",e.tags)("folder",e.parentDataFileID)("keepFileName",e.keepFileName)("name",e.name)("desc",e.desc)("prefix",e.prefix)("suffix",e.suffix)}}function Qi(e,t){if(1&e&&(a.Qb(0),a.Hc(1,Li,1,10,"chi-path-importer",46),a.Pb()),2&e){const e=a.ec(2);a.Ab(1),a.lc("ngIf",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp&&e.currentUser.auths.bdp>=3)}}function _i(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Sb(1,"chi-add-folder",47),a.ac("updateDataFile",(function(t){return a.zc(e),a.ec(2).onUpdateDataFile(t)}))("navigateDataFile",(function(t){return a.zc(e),a.ec(2).onNavigateDataFile(t)}))("deleteDataFile",(function(t){return a.zc(e),a.ec(2).onDeleteDataFile(t)})),a.Rb(),a.Pb()}if(2&e){const e=a.ec(2);a.Ab(1),a.lc("project",e.project)("allowedExtensions",e.allowedFormats)("tasks",e.tasks)("tags",e.tags)("folder",e.parentDataFileID)("keepFileName",e.keepFileName)("name",e.name)("desc",e.desc)("prefix",e.prefix)("suffix",e.suffix)}}function Ui(e,t){1&e&&(a.Sb(0,"div",41),a.Sb(1,"span",43),a.Jc(2,"No valid extensions!"),a.Nb(3,"br"),a.Jc(4,"You might want to check if you have specify packages for this project."),a.Rb(),a.Rb())}function Ki(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Hc(1,Pi,5,1,"div",1),a.Sb(2,"div",2),a.Sb(3,"div",3),a.Sb(4,"strong"),a.Jc(5,"1. Specify file information (optional)"),a.Rb(),a.Nb(6,"br"),a.Sb(7,"small",4),a.Jc(8,"*You may specify the basic information latter."),a.Rb(),a.Nb(9,"br"),a.Sb(10,"small",4),a.Jc(11,"*All files will be uploaded with the information"),a.Rb(),a.Rb(),a.Sb(12,"div",5),a.Sb(13,"mat-form-field",6),a.Sb(14,"input",7),a.ac("ngModelChange",(function(t){return a.zc(e),a.ec().prefix=t})),a.Rb(),a.Sb(15,"span",8),a.Jc(16,"Prefix: "),a.Rb(),a.Rb(),a.Sb(17,"mat-form-field",6),a.Sb(18,"input",9),a.ac("ngModelChange",(function(t){return a.zc(e),a.ec().suffix=t})),a.Rb(),a.Sb(19,"span",8),a.Jc(20,"Suffix: "),a.Rb(),a.Rb(),a.Sb(21,"mat-form-field",10),a.Sb(22,"input",11),a.ac("ngModelChange",(function(t){return a.zc(e),a.ec().name=t})),a.Rb(),a.Sb(23,"b",12),a.Jc(24,"Name: "),a.Rb(),a.Sb(25,"span",13),a.Nb(26,"u",14),a.Rb(),a.Sb(27,"span",15),a.Nb(28,"u",14),a.Rb(),a.Sb(29,"mat-hint",16),a.Jc(30,"Leave it blank if using the original file name(s)."),a.Rb(),a.Sb(31,"mat-hint",17),a.Jc(32,"Max 80 characters"),a.Rb(),a.Rb(),a.Sb(33,"mat-form-field",10),a.Sb(34,"textarea",18),a.ac("ngModelChange",(function(t){return a.zc(e),a.ec().desc=t})),a.Jc(35),a.Rb(),a.Sb(36,"mat-hint",16),a.Jc(37,"You may specify the description latter."),a.Rb(),a.Sb(38,"mat-hint",17),a.Jc(39,"Max 300 characters"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(40,"div",2),a.Sb(41,"div",3),a.Sb(42,"strong"),a.Jc(43,"2. Define tags for your files (optional)"),a.Rb(),a.Nb(44,"br"),a.Sb(45,"small",4),a.Jc(46,"*You may also specify tags for your files."),a.Rb(),a.Rb(),a.Hc(47,Ni,2,3,"div",19),a.Rb(),a.Sb(48,"div",2),a.Sb(49,"div",3),a.Sb(50,"strong"),a.Jc(51,"3. Set a folder to upload (optional)"),a.Rb(),a.Nb(52,"br"),a.Sb(53,"small",4),a.Jc(54,"*Only needed when your expect your files in a folder."),a.Rb(),a.Rb(),a.Sb(55,"div",5),a.Sb(56,"mat-form-field",10),a.Sb(57,"mat-select",20),a.ac("ngModelChange",(function(t){return a.zc(e),a.ec().parentDataFileID=t})),a.Sb(58,"mat-option"),a.Jc(59,"--- No folder ---"),a.Rb(),a.Hc(60,Ji,6,4,"mat-option",21),a.Rb(),a.Rb(),a.Sb(61,"mat-checkbox",22),a.ac("ngModelChange",(function(t){return a.zc(e),a.ec().keepFileName=t})),a.Jc(62,"Keep the underlying filename in the folder"),a.Rb(),a.Nb(63,"br"),a.Sb(64,"small",4),a.Jc(65,"*Note: The uploading will fail if the filename already exists in the folder"),a.Rb(),a.Rb(),a.Rb(),a.Sb(66,"div",2),a.Sb(67,"div",3),a.Sb(68,"strong"),a.Jc(69,"4. Specify the file source"),a.Rb(),a.Rb(),a.Sb(70,"div",5),a.Sb(71,"mat-button-toggle-group",23),a.ac("ngModelChange",(function(t){return a.zc(e),a.ec().onImportTypeChanged(t)})),a.Sb(72,"mat-button-toggle",24),a.Nb(73,"i",25),a.Jc(74," Your Computer "),a.Rb(),a.Sb(75,"mat-button-toggle",24),a.Nb(76,"i",26),a.Jc(77," Add a folder "),a.Rb(),a.Sb(78,"mat-button-toggle",24),a.Nb(79,"i",27),a.Jc(80," Google Drive "),a.Rb(),a.Sb(81,"mat-button-toggle",24),a.Nb(82,"i",28),a.Jc(83," Server Path "),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(84,"div",2),a.Sb(85,"div",3),a.Sb(86,"strong"),a.Jc(87,"5. Upload and set files"),a.Rb(),a.Nb(88,"br"),a.Rb(),a.Sb(89,"div",5),a.Jc(90," The Valid file extensions: "),a.Hc(91,Oi,3,0,"ng-container",29),a.Hc(92,ji,1,1,"ng-template",null,30,a.Ic),a.Rb(),a.Hc(94,zi,6,0,"div",31),a.Sb(95,"div",32),a.Hc(96,$i,2,11,"ng-container",33),a.Hc(97,Ei,2,11,"ng-container",33),a.Hc(98,Qi,2,1,"ng-container",33),a.Hc(99,_i,2,10,"ng-container",33),a.Rb(),a.Hc(100,Ui,5,0,"div",31),a.Rb(),a.Pb()}if(2&e){const e=a.wc(93),t=a.ec();a.Ab(1),a.lc("ngIf",t.dialogRef),a.Ab(13),a.lc("ngModel",t.prefix),a.Ab(4),a.lc("ngModel",t.suffix),a.Ab(4),a.lc("ngModel",t.name),a.Ab(4),a.lc("innerHTML",t.prefix,a.Ac),a.Ab(2),a.lc("innerHTML",t.suffix,a.Ac),a.Ab(6),a.lc("ngModel",t.desc),a.Ab(1),a.Kc(t.desc),a.Ab(12),a.lc("ngIf",t.project&&t.project.packages.length>0),a.Ab(10),a.lc("ngModel",t.parentDataFileID),a.Ab(3),a.lc("ngForOf",t.folders),a.Ab(1),a.lc("ngModel",t.keepFileName)("disabled",!t.parentDataFileID),a.Ab(10),a.lc("ngModel",t.importType),a.Ab(1),a.lc("value","local"),a.Ab(3),a.lc("value","folder"),a.Ab(3),a.lc("value","google"),a.Ab(3),a.lc("value","server"),a.Ab(10),a.lc("ngIf",t.allowedFormats.indexOf("*")>=0)("ngIfElse",e),a.Ab(3),a.lc("ngIf",0==t.allowedFormats.length),a.Ab(1),a.lc("ngSwitch",t.importType),a.Ab(1),a.lc("ngSwitchCase","local"),a.Ab(1),a.lc("ngSwitchCase","google"),a.Ab(1),a.lc("ngSwitchCase","server"),a.Ab(1),a.lc("ngSwitchCase","folder"),a.Ab(1),a.lc("ngIf",0==t.allowedFormats.length)}}function Vi(e,t){1&e&&(a.Sb(0,"mat-dialog-actions"),a.Sb(1,"button",48),a.Sb(2,"mat-icon"),a.Jc(3,"close"),a.Rb(),a.Jc(4," Close"),a.Rb(),a.Rb())}let qi=(()=>{class e{constructor(e,t,i,n){this.projectService=e,this.router=t,this.dialogRef=i,this.data=n,this.importTypeChanged=new a.o,this.keepFileName=!0,this.tags=[],n?(this.project=n.project,this.allowedFormats=n.allowedFormats.indexOf("*")>=0?["*"]:n.allowedFormats,this.sysConfig=n.sysConfig,this.importType=n.importType||"local",this.tasks=n.tasks,this.parentDataFileID=n.parentDataFileID||"",this.currentUser=n.currentUser,this.name=n.name||"",this.desc=n.desc||"",this.prefix=n.prefix||"",this.suffix=n.suffix||"",this.title=n.title||"Import data files "+(n.project&&n.project.name?`to the project: ${n.project.name}.`:""),this.tags=Array.isArray(n.tags)?n.tags:[]):(this.allowedFormats=[],this.tasks=[],this.prefix="",this.suffix="",this.desc="",this.name="",this.parentDataFileID="",this.importType="local",this.tags=[],this.title="")}get folders(){return this.project&&this.project.dataFiles?this.project.dataFiles.filter(e=>"Folder"===e.format):[]}onImportTypeChanged(e){this.importType=e,this.importTypeChanged.emit(e)}onTagChanged(e){console.log(e),this.tags=e}onUpdateDataFile(e){const t=this.projectService.updateDataFileInfo(e).subscribe(()=>t.unsubscribe())}onDeleteDataFile(e){const t=this.projectService.deleteDataFileById(e).subscribe(()=>t.unsubscribe())}onNavigateDataFile(e){this.dialogRef&&this.dialogRef.close(),this.router.navigate(["/dataFile",e,"info"])}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(c.a),a.Mb(s.c),a.Mb(n.g,8),a.Mb(n.a,8))},e.\u0275cmp=a.Gb({type:e,selectors:[["bdp-file-importer"]],inputs:{allowedFormats:"allowedFormats",project:"project",sysConfig:"sysConfig",importType:"importType",tasks:"tasks",currentUser:"currentUser",name:"name",desc:"desc",prefix:"prefix",suffix:"suffix",keepFileName:"keepFileName",title:"title",tags:"tags",parentDataFileID:"parentDataFileID"},outputs:{importTypeChanged:"importTypeChanged"},decls:3,vars:2,consts:[[4,"ngIf"],["class","d-flex flex-row justify-content-between",4,"ngIf"],[1,"row","my-5"],[1,"col-lg-2","col-xl-3"],[1,"text-muted"],[1,"col-lg-10","col-xl-9"],[2,"width","50%"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix for the data file(s)",3,"ngModel","ngModelChange"],["matPrefix","",1,"mr-2"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix for the data file(s)",3,"ngModel","ngModelChange"],[2,"width","100%"],["matInput","","type","text","maxlength","80","size","80","placeholder","The name for the data file(s)",3,"ngModel","ngModelChange"],["matPrefix","",1,"mr-2","text-primary"],["matPrefix",""],[1,"text-muted",2,"white-space","pre",3,"innerHTML"],["matSuffix",""],["align","start"],["align","end"],["matInput","","placeholder","The description for the data file(s). (max length: 300 characters)","maxlength","300","rows","4",3,"ngModel","ngModelChange"],["class","col-lg-10 col-xl-9",4,"ngIf"],["placeholder","select a folder to import",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","disabled","ngModelChange"],["name","fileSource","aria-label","File Source",1,"ml-3",3,"ngModel","ngModelChange"],[3,"value"],[1,"far","fa-hdd","fa-fw","mr-2"],[1,"fas","fa-folder-plus","fa-fw","mr-2"],[1,"fab","fa-google-drive","fa-fw","mr-2"],[1,"fas","fa-server","fa-fw","mr-2"],[4,"ngIf","ngIfElse"],["extBlock",""],["class","col-12",4,"ngIf"],[1,"col-12",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"d-flex","flex-row","justify-content-between"],["mat-dialog-title","",2,"font-weight","800",3,"innerHTML"],["mat-icon-button","","mat-dialog-close",""],[3,"packages","tasks","tags","tagChange"],[1,"badge","badge-success","mx-1"],["class","badge badge-primary mx-1",4,"ngFor","ngForOf"],[1,"badge","badge-primary","mx-1"],[1,"col-12"],[1,"ml-3"],[1,"text-danger"],[3,"project","allowedExtensions","fileLimits","tasks","tags","folder","keepFileName","name","desc","prefix","suffix","updateDataFile","navigateDataFile","deleteDataFile"],[3,"project","allowedExtensions","apiKey","tasks","tags","folder","keepFileName","name","desc","prefix","suffix","updateDataFile","navigateDataFile","deleteDataFile"],[3,"project","allowedExtensions","tasks","tags","folder","keepFileName","name","desc","prefix","suffix","updateDataFile","navigateDataFile","deleteDataFile",4,"ngIf"],[3,"project","allowedExtensions","tasks","tags","folder","keepFileName","name","desc","prefix","suffix","updateDataFile","navigateDataFile","deleteDataFile"],["mat-stroked-button","","mat-dialog-close",""]],template:function(e,t){1&e&&(a.Hc(0,Ki,101,27,"ng-container",0),a.Nb(1,"mat-divider"),a.Hc(2,Vi,5,0,"mat-dialog-actions",0)),2&e&&(a.lc("ngIf",t.project&&t.currentUser),a.Ab(2),a.lc("ngIf",t.dialogRef))},directives:[o.n,l.a,r.b,b.a,f.b,f.e,f.i,f.l,r.f,r.g,r.e,d.a,u.k,o.m,p.a,g.b,g.a,o.p,o.q,n.h,h.b,n.d,m.a,S.a,Te,Ct,ii,Hi,n.c],encapsulation:2}),e})()},I7HA:function(e,t,i){"use strict";i.d(t,"a",(function(){return U}));var a=i("fXoL"),n=i("+mqT"),c=i("FtGj"),s=i("0IaG"),o=i("ofXK"),l=i("f0Cb"),r=i("kmnG"),b=i("d3UM"),f=i("3Pt+"),d=i("bTqV"),u=i("A5z7"),p=i("NFeN"),g=i("FKr1");function h(e,t){1&e&&(a.Sb(0,"mat-icon",27),a.Jc(1,"cancel"),a.Rb())}function m(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-chip",25),a.ac("removed",(function(){a.zc(e);const i=t.$implicit;return a.ec(2).toggleTag(i)})),a.Jc(1),a.Hc(2,h,2,0,"mat-icon",26),a.Rb()}if(2&e){const e=t.$implicit,i=a.ec(2);a.lc("removable",!0)("selectable",!1),a.Ab(1),a.Lc(" ",e," "),a.Ab(1),a.lc("ngIf",i.tags.indexOf(e)>=0&&"Folder"!==e)}}function S(e,t){if(1&e&&(a.Sb(0,"div",21),a.Sb(1,"h3"),a.Jc(2,"Current selected tags: "),a.Rb(),a.Sb(3,"mat-chip-list",22,23),a.Hc(5,m,3,4,"mat-chip",24),a.Rb(),a.Rb()),2&e){const e=a.ec();a.Ab(3),a.lc("selectable",!1),a.Ab(2),a.lc("ngForOf",e.tags)}}function k(e,t){if(1&e&&(a.Sb(0,"mat-option",28),a.Sb(1,"b"),a.Jc(2),a.Rb(),a.Rb()),2&e){const e=t.$implicit;a.lc("value",e),a.Ab(2),a.Kc(null==e?null:e.name)}}function R(e,t){if(1&e&&(a.Sb(0,"div"),a.Jc(1," Package name: "),a.Sb(2,"b"),a.Jc(3),a.Rb(),a.Nb(4,"br"),a.Jc(5," Package description: "),a.Nb(6,"div",29),a.Rb()),2&e){const e=a.ec();a.Ab(3),a.Kc(e.selectedPackage.name),a.Ab(3),a.lc("innerHTML",e.selectedPackage.desc,a.Ac)}}function F(e,t){1&e&&a.Nb(0,"i",37)}function D(e,t){1&e&&a.Nb(0,"i",38)}function w(e,t){1&e&&a.Nb(0,"i",39)}function x(e,t){1&e&&a.Nb(0,"i",40)}function v(e,t){if(1&e&&(a.Sb(0,"mat-option",31),a.Hc(1,F,1,0,"i",32),a.Hc(2,D,1,0,"i",33),a.Hc(3,w,1,0,"i",34),a.Hc(4,x,1,0,"i",35),a.Sb(5,"b",36),a.Jc(6),a.Rb(),a.Rb()),2&e){const e=t.$implicit;a.lc("value",e),a.Ab(1),a.lc("ngIf","workflow"==e.type),a.Ab(1),a.lc("ngIf","standard"==e.type),a.Ab(1),a.lc("ngIf","child"==e.type),a.Ab(1),a.lc("ngIf","system"==e.type),a.Ab(2),a.Kc(null==e?null:e.name)}}function C(e,t){if(1&e&&(a.Qb(0),a.Hc(1,v,7,6,"mat-option",30),a.Pb()),2&e){const e=a.ec();a.Ab(1),a.lc("ngForOf",e.taskPkgDict[e.selectedPackage.id])}}function A(e,t){if(1&e&&(a.Sb(0,"div"),a.Jc(1," Task name: "),a.Sb(2,"b"),a.Jc(3),a.Rb(),a.Nb(4,"br"),a.Jc(5," Task description: "),a.Nb(6,"div",29),a.Nb(7,"br"),a.Rb()),2&e){const e=a.ec();a.Ab(3),a.Kc(e.selectedTask.name),a.Ab(3),a.lc("innerHTML",e.selectedTask.desc,a.Ac)}}function T(e,t){if(1&e&&(a.Sb(0,"mat-option",42),a.Nb(1,"i",43),a.Sb(2,"b"),a.Jc(3),a.Rb(),a.Rb()),2&e){const e=a.ec().$implicit,t=a.ec();a.Gc("background-color","outFile"===e.type?"#28a745":"#047AFB"),a.lc("value",e),a.Ab(1),a.lc("ngClass",t.cssArgTypeToIcon(e)),a.Ab(2),a.Kc(e.name+" "+("inFile"===e.type?"(input)":"(output)"))}}function I(e,t){if(1&e&&(a.Qb(0),a.Hc(1,T,4,5,"mat-option",41),a.Pb()),2&e){const e=t.$implicit;a.Ab(1),a.lc("ngIf","inFile"===e.type||"outFile"===e.type)}}function y(e,t){if(1&e&&(a.Sb(0,"div"),a.Jc(1," Argument name: "),a.Sb(2,"b"),a.Jc(3),a.Rb(),a.Nb(4,"br"),a.Jc(5," Argument description: "),a.Nb(6,"div",29),a.Nb(7,"br"),a.Rb()),2&e){a.ec();const e=a.wc(27);a.Ab(3),a.Kc(null==e||null==e.selected?null:e.selected.value.name),a.Ab(3),a.lc("innerHTML",null==e||null==e.selected?null:e.selected.value.desc,a.Ac)}}function H(e,t){1&e&&(a.Sb(0,"mat-icon",27),a.Jc(1,"add_circle"),a.Rb())}function P(e,t){1&e&&(a.Sb(0,"mat-icon",27),a.Nb(1,"i",46),a.Rb())}function N(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Sb(1,"mat-chip",45),a.ac("removed",(function(){a.zc(e);const i=t.$implicit;return a.ec(2).toggleTag(i)})),a.Jc(2),a.Hc(3,H,2,0,"mat-icon",26),a.Hc(4,P,2,0,"mat-icon",26),a.Rb(),a.Pb()}if(2&e){const e=t.$implicit,i=a.ec(2);a.Ab(1),a.lc("selectable",!1),a.Ab(1),a.Lc(" ",e," "),a.Ab(1),a.lc("ngIf",i.tags.indexOf(e)<0&&"Folder"!==e),a.Ab(1),a.lc("ngIf",i.tags.indexOf(e)>=0&&"Folder"!==e)}}function J(e,t){if(1&e&&(a.Sb(0,"div",44),a.Sb(1,"h2"),a.Jc(2,"Suggested tags:"),a.Rb(),a.Sb(3,"mat-chip-list"),a.Hc(4,N,5,4,"ng-container",15),a.Rb(),a.Rb()),2&e){a.ec();const e=a.wc(27);a.Ab(4),a.lc("ngForOf",null==e||null==e.selected?null:e.selected.value.tags)}}function O(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",47),a.ac("click",(function(){a.zc(e);const t=a.ec(),i=a.wc(27);return t.addAllTags(null==i||null==i.selected?null:i.selected.value.tags)})),a.Jc(1," Add all suggested tags "),a.Rb()}}function M(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",48),a.ac("click",(function(){a.zc(e);const t=a.ec(),i=a.wc(27);return t.removeAllTags(null==i||null==i.selected?null:i.selected.value.tags)})),a.Jc(1," Remove all suggested tags "),a.Rb()}}let j=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.tagToggleEvent=new a.o,t?(this.packages=t.packages||[],this.taskPkgDict=t.taskPkgDict||{},this.tags=t.tags||[]):(this.packages=[],this.taskPkgDict={},this.tags=[])}ngOnInit(){this.packages[0]&&(this.selectedPackage=this.packages[0],this.selectedTask=Array.isArray(this.taskPkgDict[this.selectedPackage.id])?this.taskPkgDict[this.selectedPackage.id][0]:void 0)}onPackageSelctChange(e){this.selectedPackage=e,setTimeout(()=>this.selectedTask=Array.isArray(this.taskPkgDict[e.id])?this.taskPkgDict[e.id][0]:void 0)}toggleTag(e){"Folder"!==e&&this.tagToggleEvent.emit(e)}addAllTags(e){e.filter(e=>this.tags.indexOf(e)<0).forEach(e=>this.toggleTag(e))}removeAllTags(e){e.filter(e=>this.tags.indexOf(e)>=0).forEach(e=>this.toggleTag(e))}cssArgTypeToIcon(e){if(e&&e.type)return{"fa-file-import":"inFile"===e.type,"fa-file-export":"outFile"===e.type}}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(s.g),a.Mb(s.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["bdp-tag-helper-dialog"]],inputs:{packages:"packages",taskPkgDict:"taskPkgDict",tags:"tags"},outputs:{tagToggleEvent:"tagToggleEvent"},decls:37,vars:12,consts:[["mat-dialog-title",""],[1,"container-fluid"],[1,"row"],["class","col-12",4,"ngIf"],[1,"my-2"],[1,"row","mt-3"],[1,"col-lg-4"],[2,"width","100%"],["placeholder","Please select the package",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Please select the desired task",3,"ngModel","ngModelChange"],["taskSelect",""],["placeholder","Please select the input"],["inputFileSelect",""],[4,"ngFor","ngForOf"],["class","col-12 my-3","style","border-left: 1px solid black",4,"ngIf"],["mat-dialog-actions","",1,"my-3"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"col-12"],[3,"selectable"],["tagList",""],[3,"removable","selectable","removed",4,"ngFor","ngForOf"],[3,"removable","selectable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],[3,"innerHTML"],["class","text-black","style","background-color: #ffc107",3,"value",4,"ngFor","ngForOf"],[1,"text-black",2,"background-color","#ffc107",3,"value"],["class","fas fa-cogs fa-fw mr-1",4,"ngIf"],["class","fas fa-cog fa-fw mr-1",4,"ngIf"],["class","fas fa-puzzle-piece fa-fw mr-1",4,"ngIf"],["class","fas fa-server fa-fw mr-1",4,"ngIf"],[1,"ml-3"],[1,"fas","fa-cogs","fa-fw","mr-1"],[1,"fas","fa-cog","fa-fw","mr-1"],[1,"fas","fa-puzzle-piece","fa-fw","mr-1"],[1,"fas","fa-server","fa-fw","mr-1"],["class","text-white",3,"value","background-color",4,"ngIf"],[1,"text-white",3,"value"],[1,"fas",3,"ngClass"],[1,"col-12","my-3",2,"border-left","1px solid black"],[3,"selectable","removed"],[1,"far","fa-check-circle","fa-fw","text-success"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,t){if(1&e&&(a.Sb(0,"h1",0),a.Jc(1,"DataFile Tag helper"),a.Rb(),a.Sb(2,"div",1),a.Sb(3,"div",2),a.Hc(4,S,6,2,"div",3),a.Rb(),a.Nb(5,"mat-divider",4),a.Sb(6,"div",5),a.Sb(7,"div",6),a.Sb(8,"h3"),a.Jc(9,"1. Whcih package do you plan to use for this file?"),a.Rb(),a.Sb(10,"mat-form-field",7),a.Sb(11,"mat-select",8),a.ac("ngModelChange",(function(e){return t.onPackageSelctChange(e)})),a.Hc(12,k,3,2,"mat-option",9),a.Rb(),a.Rb(),a.Hc(13,R,7,2,"div",10),a.Rb(),a.Sb(14,"div",6),a.Sb(15,"h3"),a.Jc(16,"2. Which task do you like to execute for this file?"),a.Rb(),a.Sb(17,"mat-form-field",7),a.Sb(18,"mat-select",11,12),a.ac("ngModelChange",(function(e){return t.selectedTask=e})),a.Hc(20,C,2,1,"ng-container",10),a.Rb(),a.Rb(),a.Hc(21,A,8,2,"div",10),a.Rb(),a.Sb(22,"div",6),a.Sb(23,"h3"),a.Jc(24,"3. Which input would this file be used as?"),a.Rb(),a.Sb(25,"mat-form-field",7),a.Sb(26,"mat-select",13,14),a.Hc(28,I,2,1,"ng-container",15),a.Rb(),a.Rb(),a.Hc(29,y,8,2,"div",10),a.Rb(),a.Hc(30,J,5,1,"div",16),a.Rb(),a.Nb(31,"mat-divider"),a.Sb(32,"div",17),a.Sb(33,"button",18),a.Jc(34,"Close"),a.Rb(),a.Hc(35,O,2,0,"button",19),a.Hc(36,M,2,0,"button",20),a.Rb(),a.Rb()),2&e){const e=a.wc(19),i=a.wc(27);a.Ab(4),a.lc("ngIf",t.tags.length>0),a.Ab(7),a.lc("ngModel",t.selectedPackage),a.Ab(1),a.lc("ngForOf",t.packages),a.Ab(1),a.lc("ngIf",t.selectedPackage),a.Ab(5),a.lc("ngModel",t.selectedTask),a.Ab(2),a.lc("ngIf",t.selectedPackage),a.Ab(1),a.lc("ngIf",t.selectedTask),a.Ab(7),a.lc("ngForOf",null==e||null==e.selected?null:e.selected.value.arguments),a.Ab(1),a.lc("ngIf",null==i||null==i.selected?null:i.selected.value),a.Ab(1),a.lc("ngIf",null==i||null==i.selected?null:i.selected.value),a.Ab(5),a.lc("ngIf",null==i||null==i.selected?null:i.selected.value.tags),a.Ab(1),a.lc("ngIf",null==i||null==i.selected?null:i.selected.value.tags)}},directives:[s.h,o.n,l.a,r.b,b.a,f.i,f.l,o.m,s.c,d.b,s.d,u.c,u.a,p.a,u.d,g.k,o.l],encapsulation:2}),e})();var z=i("/1cH");function $(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-icon",13),a.ac("click",(function(){a.zc(e);const t=a.ec().$implicit;return a.ec().removeFromTags(t)})),a.Jc(1,"cancel"),a.Rb()}}function E(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-chip",11),a.ac("click",(function(i){a.zc(e);const n=t.$implicit;return a.ec().onTagClick(i,n)})),a.Jc(1),a.Hc(2,$,2,0,"mat-icon",12),a.Rb()}if(2&e){const e=t.$implicit,i=a.ec();a.lc("color",i.highlightTags.indexOf(e)>=0?"primary":"default")("removable",!0)("selected",!0),a.Ab(1),a.Lc(" ",e," "),a.Ab(1),a.lc("ngIf",!i.disabled&&"Folder"!==e)}}function L(e,t){1&e&&(a.Sb(0,"mat-hint",14),a.Jc(1,"Valid characters: a-z, dash (-), and underline (_)."),a.Rb())}function Q(e,t){if(1&e&&(a.Sb(0,"mat-option",15),a.Jc(1),a.Rb()),2&e){const e=t.$implicit;a.lc("value",e),a.Ab(1),a.Lc(" ",e," ")}}function _(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",16),a.ac("click",(function(){return a.zc(e),a.ec().openTagHelperDialog()})),a.Sb(1,"mat-icon"),a.Nb(2,"i",17),a.Rb(),a.Rb()}}let U=(()=>{class e{constructor(e){this.dialogRef=e,this.tagChange=new a.o,this.tagClicked=new a.o,this.separatorKeysCodes=[c.g,c.c],this.highlightTags=[],this.filteredTags=[],this.tags=[],this.tasks=[],this.taskPkgDict={},this.validTags=[]}ngOnInit(){}ngOnChanges(e){for(const t in e)"packages"===t?this.packages=e[t].currentValue:"tasks"===t?(this.tasks=e[t].currentValue,this.updatePkgTaskDict()):"tags"===t?Array.isArray(e[t].currentValue)&&(this.tags=[],e[t].currentValue.forEach(e=>this.addTag(e,!0))):"disabled"===t&&(this.disabled=e[t].currentValue)}updatePkgTaskDict(){if(this.taskPkgDict={},Array.isArray(this.tasks)){for(let e=0;e<this.tasks.length;e++){const t=this.tasks[e],i=t.package?t.package:null;i&&(Array.isArray(this.taskPkgDict[i])||(this.taskPkgDict[i]=[]),this.taskPkgDict[i].push(t))}Object.keys(this.taskPkgDict).forEach(e=>this.taskPkgDict[e]=Object(n.a)(this.taskPkgDict[e],[e=>e.name],["asc"])),this.validTags=this.getValidTags(this.tasks)}}getValidTags(e){const t={};return e.forEach(e=>[...new Set([].concat.apply([],e.arguments.filter(e=>"inFile"===e.type||"outFile"===e.type).map(e=>e.tags)))].forEach(e=>t[e.toString()]=1)),Object(n.a)(Object.keys(t),"asc")}onTagInputChange(e,t){let i=t.value;i=i.replace(/[^a-z0-9\-]/g,""),this.filteredTags=this.validTags.filter(e=>e.indexOf(i)>=0&&this.tags.indexOf(e)<0&&"Folder"!==e),t.value=i}addTag(e,t){if("Folder"!==e){if(""===(e=(e=e.toLowerCase().replace(/[^a-z0-9\.\-\_]/g,"")).trim()))return;for(let t=0;t<this.tags.length;t++)if(e===this.tags[t])return}this.tags.push(e),this.tags=this.tags.slice(),t||this.tagChange.emit(this.tags)}addToTags(e){const t=e.input;this.addTag(e.value),t&&setTimeout(()=>t.value="")}onTagSelect(e,t){this.removeFromTags(t.value,!0),t.value="",this.addTag(e.option.value)}removeFromTags(e,t){for(let i=0;i<this.tags.length;i++)if(e===this.tags[i]){this.tags.splice(i,1);break}this.tags=this.tags.slice(),t||(console.log(this.tags),this.tagChange.emit(this.tags))}onTagClick(e,t){e.stopPropagation(),this.tagClicked.emit(t)}openTagHelperDialog(){const e=this.dialogRef.open(j,{width:"90vw",height:"90vh",data:{packages:this.packages,taskPkgDict:this.taskPkgDict,tags:this.tags}});e.componentInstance.tagToggleEvent.subscribe(t=>{if("Folder"===t)return;const i=this.tags.indexOf(t);i>=0?this.tags.splice(i,1):this.tags.push(t),e.componentInstance.tags=this.tags,this.tagChange.emit(this.tags)}),e.afterClosed().subscribe(()=>{})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(s.b))},e.\u0275cmp=a.Gb({type:e,selectors:[["bdp-tag-input"]],inputs:{packages:"packages",tasks:"tasks",tags:"tags",disabled:"disabled",highlightTags:"highlightTags"},outputs:{tagChange:"tagChange",tagClicked:"tagClicked"},features:[a.yb],decls:11,vars:11,consts:[[2,"width","100%"],[3,"selectable"],["tagList",""],[3,"color","removable","selected","click",4,"ngFor","ngForOf"],["matInput","",2,"width","100%",3,"placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matAutocomplete","disabled","matChipInputTokenEnd","keyup"],["tagInput",""],["align","end",4,"ngIf"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matPrefix","","class","mr-3",3,"click",4,"ngIf"],[3,"color","removable","selected","click"],["matChipRemove","",3,"click",4,"ngIf"],["matChipRemove","",3,"click"],["align","end"],[3,"value"],["mat-icon-button","","matPrefix","",1,"mr-3",3,"click"],[1,"fas","fa-search-plus","fa-fw","fa-lg"]],template:function(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-form-field",0),a.Sb(1,"mat-chip-list",1,2),a.Hc(3,E,3,5,"mat-chip",3),a.Sb(4,"input",4,5),a.ac("matChipInputTokenEnd",(function(e){return t.addToTags(e)}))("keyup",(function(i){a.zc(e);const n=a.wc(5);return t.onTagInputChange(i,n)})),a.Rb(),a.Rb(),a.Hc(6,L,2,0,"mat-hint",6),a.Sb(7,"mat-autocomplete",7,8),a.ac("optionSelected",(function(i){a.zc(e);const n=a.wc(5);return t.onTagSelect(i,n)})),a.Hc(9,Q,2,2,"mat-option",9),a.Rb(),a.Hc(10,_,3,0,"button",10),a.Rb()}if(2&e){const e=a.wc(2),i=a.wc(8);a.Ab(1),a.lc("selectable",!0),a.Ab(2),a.lc("ngForOf",t.tags),a.Ab(1),a.lc("placeholder",t.disabled?"":"Add new tags here...")("matChipInputFor",e)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",!1)("matAutocomplete",i)("disabled",t.disabled),a.Ab(2),a.lc("ngIf",!t.disabled),a.Ab(3),a.lc("ngForOf",t.filteredTags),a.Ab(1),a.lc("ngIf",!t.disabled)}},directives:[r.b,u.c,o.m,u.b,z.c,o.n,z.a,u.a,p.a,u.d,r.e,g.k,d.b,r.f],encapsulation:2}),e})()},nNey:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var a=i("tyNb"),n=i("ofXK"),c=i("3Pt+"),s=i("bTqV"),o=i("Wp6s"),l=i("A5z7"),r=i("fXoL");let b=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[n.c,c.d,a.g,s.c,o.h,l.e]]}),e})()},pkYj:function(e,t,i){"use strict";i.d(t,"a",(function(){return x}));var a=i("ofXK"),n=i("3Pt+"),c=i("bTqV"),s=i("qFsG"),o=i("bSwM"),l=i("+0xr"),r=i("A5z7"),b=i("NFeN"),f=i("/1cH"),d=i("kmnG"),u=i("Xa2L"),p=i("4wla"),g=i("tyNb"),h=i("wkOn"),m=i("fXoL");let S=(()=>{class e{}return e.\u0275mod=m.Kb({type:e}),e.\u0275inj=m.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[a.c,n.d,s.b,c.c,o.b,l.o,r.e,b.b,f.b,d.d,u.b,h.a,g.g,p.a]]}),e})();var k=i("wZkO"),R=i("0IaG"),F=i("d3UM"),D=i("jaxi"),w=i("f0Cb");let x=(()=>{class e{}return e.\u0275mod=m.Kb({type:e}),e.\u0275inj=m.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[a.c,n.d,k.g,R.f,F.b,b.b,s.b,d.d,D.c,c.c,o.b,w.b,S,h.a]]}),e})()},wkOn:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var a=i("ofXK"),n=i("3Pt+"),c=i("7EHt"),s=i("kmnG"),o=i("d3UM"),l=i("A5z7"),r=i("NFeN"),b=i("0IaG"),f=i("bTqV"),d=i("f0Cb"),u=i("/1cH"),p=i("fXoL");let g=(()=>{class e{}return e.\u0275mod=p.Kb({type:e}),e.\u0275inj=p.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[a.c,n.d,c.b,s.d,o.b,l.e,r.b,u.b,b.f,f.c,d.b]]}),e})()}}]);