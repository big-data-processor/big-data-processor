(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"7Cdu":function(t,e,i){"use strict";i.d(e,"a",(function(){return Ki}));var n=i("fXoL"),a=i("0IaG"),c=i("c3AT"),s=i("tyNb"),o=i("ofXK"),l=i("f0Cb"),r=i("kmnG"),b=i("qFsG"),d=i("3Pt+"),f=i("d3UM"),u=i("FKr1"),g=i("bSwM"),p=i("jaxi"),h=i("bTqV"),m=i("NFeN"),T=i("I7HA"),C=i("FtGj"),k=i("vSFt"),F=i("+0xr"),U=i("R0Ic");const D=[Object(U.n)("highlightRows",[Object(U.k)("active",Object(U.l)({"background-color":"yellow"})),Object(U.k)("inactive",Object(U.l)({"background-color":"transparent"})),Object(U.m)("active => inactive",[Object(U.e)("1s")]),Object(U.m)("void => inactive",[Object(U.l)({"background-color":"yellow"}),Object(U.e)("1s",Object(U.l)({"background-color":"transparent"}))])])];var x=i("zXF6"),w=i("2uAV"),v=i("iB1i"),I=i("j5Dc"),y=i("Xa2L");function L(t,e){1&t&&n.Pb(0,"th",29)}function J(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",34),n.cc("click",(function(){return n.Bc(t),n.gc().$implicit.stop()})),n.Pb(1,"i",35),n.Tb()}}function P(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",36),n.cc("click",(function(){n.Bc(t);const e=n.gc().index;return n.gc(2).removeQueueElement(e)})),n.Pb(1,"i",37),n.Tb()}}function S(t,e){if(1&t&&(n.Ub(0,"td",30),n.Ub(1,"div",31),n.Jc(2,J,2,0,"button",32),n.Jc(3,P,2,0,"button",33),n.Tb(),n.Tb()),2&t){const t=e.$implicit;n.Cb(2),n.nc("ngIf",t.uploading),n.Cb(1),n.nc("ngIf",!t.uploading)}}function O(t,e){1&t&&(n.Ub(0,"th",38),n.Lc(1,"Prefix"),n.Tb())}function R(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Ub(1,"mat-form-field",40),n.Ub(2,"input",41),n.cc("ngModelChange",(function(e){return n.Bc(t),n.gc().$implicit.response.success[0].prefix=e})),n.Tb(),n.Tb(),n.Rb()}if(2&t){const t=n.gc().$implicit;n.Cb(2),n.nc("ngModel",t.response.success[0].prefix)}}function M(t,e){if(1&t&&(n.Ub(0,"td",30),n.Jc(1,R,3,1,"ng-container",39),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t.response&&!t.response.isError&&t.response.success&&3!==t.response.success[0].status)}}function j(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1,"DataFile name"),n.Tb())}function $(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Ub(1,"mat-form-field",40),n.Ub(2,"input",42),n.cc("ngModelChange",(function(e){return n.Bc(t),n.gc().$implicit.response.success[0].name=e})),n.Tb(),n.Tb(),n.Rb()}if(2&t){const t=n.gc().$implicit;n.Cb(2),n.nc("ngModel",t.response.success[0].name)}}function B(t,e){if(1&t&&(n.Ub(0,"td",30),n.Jc(1,$,3,1,"ng-container",39),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t.response&&!t.response.isError&&t.response.success&&3!==t.response.success[0].status)}}function E(t,e){1&t&&(n.Ub(0,"th",38),n.Lc(1,"Suffix"),n.Tb())}function V(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Ub(1,"mat-form-field",40),n.Ub(2,"input",43),n.cc("ngModelChange",(function(e){return n.Bc(t),n.gc().$implicit.response.success[0].suffix=e})),n.Tb(),n.Tb(),n.Rb()}if(2&t){const t=n.gc().$implicit;n.Cb(2),n.nc("ngModel",t.response.success[0].suffix)}}function A(t,e){if(1&t&&(n.Ub(0,"td",30),n.Jc(1,V,3,1,"ng-container",39),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t.response&&!t.response.isError&&t.response.success&&3!==t.response.success[0].status)}}function N(t,e){1&t&&n.Pb(0,"th",29)}function _(t,e){1&t&&n.Pb(0,"td",44)}function z(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1,"Original filename"),n.Tb())}function H(t,e){if(1&t&&(n.Ub(0,"span",46),n.Lc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Mc(t)}}function q(t,e){if(1&t&&(n.Ub(0,"strong"),n.Lc(1,"*Required format: "),n.Jc(2,H,2,1,"span",45),n.Tb()),2&t){const t=n.gc(4);n.Cb(2),n.nc("ngForOf",t.uploaderOptions.allowedExtensions)}}function K(t,e){if(1&t&&(n.Ub(0,"p"),n.Jc(1,q,3,1,"strong",39),n.Tb()),2&t){const t=n.gc(3);n.Cb(1),n.nc("ngIf",t.uploaderOptions.allowedExtensions.length)}}function G(t,e){if(1&t&&(n.Ub(0,"td",30),n.Lc(1),n.Jc(2,K,2,1,"p",39),n.Tb()),2&t){const t=e.$implicit,i=n.gc(2);n.Cb(1),n.Nc(" ",null==t?null:t.originalName," "),n.Cb(1),n.nc("ngIf",i.uploaderOptions.allowedExtensions.indexOf("*")<0&&-1==i.uploaderOptions.allowedExtensions.indexOf(t.originalName.split(".").pop().toLowerCase()))}}function X(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1," Size "),n.Tb())}function Q(t,e){if(1&t&&(n.Ub(0,"p"),n.Ub(1,"strong"),n.Lc(2),n.hc(3,"number"),n.Tb(),n.Tb()),2&t){const t=n.gc(3);n.Cb(2),n.Nc("*file size of less than ",n.jc(3,1,(null==t.uploaderOptions?null:t.uploaderOptions.allowedFileSize)/1024/1024,".2")," MB is required.")}}function Y(t,e){if(1&t&&(n.Ub(0,"td",30),n.Lc(1),n.hc(2,"number"),n.Jc(3,Q,4,4,"p",39),n.Tb()),2&t){const t=e.$implicit,i=n.gc(2);n.Cb(1),n.Nc(" ",n.jc(2,2,(null==t?null:t.size)/1024/1024,".2")," MB "),n.Cb(2),n.nc("ngIf",t.size>i.uploaderOptions.allowedFileSize)}}function Z(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1," Progress "),n.Tb())}function W(t,e){if(1&t&&(n.Ub(0,"td",30),n.Ub(1,"div",31),n.Pb(2,"mat-progress-spinner",47),n.Tb(),n.Tb()),2&t){const t=e.$implicit;n.Cb(2),n.nc("diameter",30)("value",t.progress.percent)}}function tt(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1," Status "),n.Tb())}function et(t,e){1&t&&(n.Ub(0,"span",52),n.Pb(1,"i",53),n.Lc(2,"Aborted"),n.Tb())}function it(t,e){1&t&&(n.Ub(0,"span",54),n.Pb(1,"i",55),n.Lc(2,"Uploading"),n.Tb())}function nt(t,e){1&t&&(n.Ub(0,"span",56),n.Pb(1,"i",57),n.Lc(2,"Success"),n.Tb())}function at(t,e){1&t&&(n.Ub(0,"span",58),n.Pb(1,"i",53),n.Lc(2,"Error"),n.Tb())}function ct(t,e){if(1&t&&(n.Ub(0,"td",30),n.Jc(1,et,3,0,"span",48),n.Jc(2,it,3,0,"span",49),n.Jc(3,nt,3,0,"span",50),n.Jc(4,at,3,0,"span",51),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t.abort),n.Cb(1),n.nc("ngIf",t.uploading),n.Cb(1),n.nc("ngIf",t.done&&!t.error),n.Cb(1),n.nc("ngIf",t.error)}}function st(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1," Speed "),n.Tb())}function ot(t,e){if(1&t&&(n.Ub(0,"span"),n.Lc(1),n.Tb()),2&t){const t=n.gc().$implicit;n.Cb(1),n.Mc(t.progress.speedHumanized)}}function lt(t,e){if(1&t&&(n.Ub(0,"span"),n.Lc(1),n.Tb()),2&t){const t=n.gc().$implicit;n.Cb(1),n.Nc("Average: ",t.speedAverageHumanized,"")}}function rt(t,e){if(1&t&&(n.Ub(0,"td",30),n.Jc(1,ot,2,1,"span",39),n.Jc(2,lt,2,1,"span",39),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t.uploading),n.Cb(1),n.nc("ngIf",t.done)}}function bt(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1," Tags "),n.Tb())}function dt(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Ub(1,"bdp-tag-input",59),n.cc("tagChange",(function(e){n.Bc(t);const i=n.gc().$implicit;return n.gc(2).onTagChanged(e,i.response.success[0])})),n.Tb(),n.Rb()}if(2&t){const t=n.gc().$implicit,e=n.gc(2);n.Cb(1),n.nc("packages",e.project.packages)("tasks",e.tasks)("tags",t.response.success[0].tags)("disabled",e.isDataFileUpdating[t.response.success[0].id])}}function ft(t,e){if(1&t&&(n.Ub(0,"td",30),n.Jc(1,dt,2,4,"ng-container",39),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t.response&&!t.response.isError&&t.response.success&&3!==t.response.success[0].status)}}function ut(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1," Link "),n.Tb())}const gt=function(t){return["/dataFile",t,"info"]};function pt(t,e){if(1&t&&(n.Ub(0,"a",61),n.Pb(1,"span",62),n.Tb()),2&t){const t=n.gc().$implicit;n.nc("routerLink",n.rc(1,gt,t.response.success[0].id))}}function ht(t,e){if(1&t&&(n.Ub(0,"td",30),n.Jc(1,pt,2,3,"a",60),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t.response&&!t.response.isError&&t.response.success&&3!==t.response.success[0].status)}}function mt(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1," Controls "),n.Tb())}function Tt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",64),n.cc("click",(function(){n.Bc(t);const e=n.gc().$implicit;return n.gc(2).onDeleteDataFile(e.response.success[0].id)})),n.Pb(1,"i",65),n.Tb()}}function Ct(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",64),n.cc("click",(function(){n.Bc(t);const e=n.gc().$implicit;return n.gc(2).onUpdateDataFile(e.response.success[0])})),n.Pb(1,"i",66),n.Tb()}}function kt(t,e){if(1&t&&(n.Ub(0,"td",30),n.Jc(1,Tt,2,0,"button",63),n.Jc(2,Ct,2,0,"button",63),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t.response&&!t.response.isError&&t.response.success&&3!==t.response.success[0].status),n.Cb(1),n.nc("ngIf",t.response&&!t.response.isError&&t.response.success&&3!==t.response.success[0].status)}}function Ft(t,e){1&t&&n.Pb(0,"tr",67)}function Ut(t,e){if(1&t){const t=n.Vb();n.Ub(0,"tr",68),n.cc("@highlightRows.done",(function(i){n.Bc(t);const a=e.$implicit;return n.gc(2).resetState(i,a)})),n.Tb()}if(2&t){const t=e.$implicit,i=n.gc(2);n.nc("@highlightRows",t&&t.response&&t.response.success&&t.response.success[0]&&i.highlightController[t.response.success[0].id]?"active":"inactive")}}function Dt(t,e){if(1&t&&n.Pb(0,"tr",69),2&t){const t=e.$implicit,i=n.gc(2);n.nc("@highlightRows",t&&t.response&&t.response.success&&t.response.success[0]&&i.highlightController[t.response.success[0].id]?"active":"inactive")}}const xt=function(){return["deleteIcon","status","name","size","speed","link"]},wt=function(){return["progress","DataFilePrefix","DataFileName","DataFileSuffix","tags","controls"]};function vt(t,e){if(1&t&&(n.Ub(0,"table",8),n.Sb(1,9),n.Jc(2,L,1,0,"th",10),n.Jc(3,S,4,2,"td",11),n.Rb(),n.Sb(4,12),n.Jc(5,O,2,0,"th",13),n.Jc(6,M,2,1,"td",11),n.Rb(),n.Sb(7,14),n.Jc(8,j,2,0,"th",10),n.Jc(9,B,2,1,"td",11),n.Rb(),n.Sb(10,15),n.Jc(11,E,2,0,"th",13),n.Jc(12,A,2,1,"td",11),n.Rb(),n.Sb(13,16),n.Jc(14,N,1,0,"th",10),n.Jc(15,_,1,0,"td",17),n.Rb(),n.Sb(16,18),n.Jc(17,z,2,0,"th",10),n.Jc(18,G,3,2,"td",11),n.Rb(),n.Sb(19,19),n.Jc(20,X,2,0,"th",10),n.Jc(21,Y,4,5,"td",11),n.Rb(),n.Sb(22,20),n.Jc(23,Z,2,0,"th",10),n.Jc(24,W,3,2,"td",11),n.Rb(),n.Sb(25,21),n.Jc(26,tt,2,0,"th",10),n.Jc(27,ct,5,4,"td",11),n.Rb(),n.Sb(28,22),n.Jc(29,st,2,0,"th",10),n.Jc(30,rt,3,2,"td",11),n.Rb(),n.Sb(31,23),n.Jc(32,bt,2,0,"th",10),n.Jc(33,ft,2,1,"td",11),n.Rb(),n.Sb(34,24),n.Jc(35,ut,2,0,"th",10),n.Jc(36,ht,2,1,"td",11),n.Rb(),n.Sb(37,25),n.Jc(38,mt,2,0,"th",10),n.Jc(39,kt,3,2,"td",11),n.Rb(),n.Jc(40,Ft,1,0,"tr",26),n.Jc(41,Ut,1,1,"tr",27),n.Jc(42,Dt,1,1,"tr",28),n.Tb()),2&t){const t=n.gc();n.nc("dataSource",t.uploader.queue),n.Cb(40),n.nc("matHeaderRowDef",n.qc(4,xt)),n.Cb(1),n.nc("matRowDefColumns",n.qc(5,xt)),n.Cb(1),n.nc("matRowDefColumns",n.qc(6,wt))}}const It=function(t){return{"nv-file-over":t}};let yt=(()=>{class t{constructor(t,e,i){this.uploader=t,this.projectService=e,this.infoService=i,this.navigateDataFile=new n.o,this.deleteDataFile=new n.o,this.updateDataFile=new n.o,this.separatorKeysCodes=[C.g,C.c],this.uploadEvents=new n.o,this.hasBaseDropZoneOver=!1,this.isDataFileUpdating={},this.highlightController={},this.uploaderOptions={url:"",withCredentials:!0,filterExtensions:!0,allowedExtensions:this.allowedExtensions||[],allowedFileSize:1073741824,autoUpload:!0,calculateSpeed:!0,previewUrl:!1,data:{folder:"",keepFileName:!1,tags:[],name:"",desc:"",prefix:"",suffix:""},maxUploads:2}}ngOnInit(){this._subs=[],this.filteredTags=[],this.zone=new n.A({enableLongStackTrace:!0}),this.uploaderOptions={url:this.infoService.BASE_URL+"/project/api/"+this.project.id+"/upload",withCredentials:!0,filterExtensions:!(Array.isArray(this.allowedExtensions)&&this.allowedExtensions.indexOf("*")>=0),allowedExtensions:this.allowedExtensions||[],allowedFileSize:this.fileLimits||1073741824,autoUpload:!0,calculateSpeed:!0,previewUrl:!1,data:{folder:this.folder,keepFileName:this.keepFileName,tags:this.tags,name:this.name,desc:this.desc,prefix:this.prefix,suffix:this.suffix},maxUploads:3},this.total_progress=0,this.responses=[],this.files=[],this._subs.push(this.infoService.incomingDataChange$.subscribe(t=>{if("update"===t.type&&"DataFile"===t.target){if(Array.isArray(this.uploader.queue)){const e=t.data;if(!e)return;for(let t=0;t<this.uploader.queue.length;t++){const i=this.uploader.queue[t];let n;if(i&&(i.response&&Array.isArray(i.response.success)&&(n=i.response.success[0]),n&&e.id===n.id)){n.prefix=e.prefix,n.name=e.name,n.suffix=e.suffix,n.desc=e.desc,n.tags=e.tags,this.highlightController[e.id]=!0;break}}}}else if("remove"===t.type&&"DataFile"===t.target&&Array.isArray(this.uploader.queue))for(let e=0;e<this.uploader.queue.length;e++){const i=this.uploader.queue[e];if(i.response&&i.response.success&&i.response.success[0]&&i.response.success[0].id===t.data.id){this.removeQueueElement(e);break}}}))}ngOnChanges(t){for(const e in t)if("folder"===e)this.folder=t[e].currentValue,this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:Object.assign({},this.uploaderOptions.data,{folder:this.folder})});else if("keepFileName"===e){const i=Object.assign({},this.uploaderOptions.data,{keepFileName:t[e].currentValue});this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:i})}else if("tags"===e)this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:Object.assign({},this.uploaderOptions.data,{tags:t[e].currentValue})});else if("name"===e){const i=Object.assign({},this.uploaderOptions.data,{name:t[e].currentValue});this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:i})}else"desc"===e?this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:Object.assign({},this.uploaderOptions.data,{desc:t[e].currentValue})}):"prefix"===e?this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:Object.assign({},this.uploaderOptions.data,{prefix:t[e].currentValue})}):"suffix"===e?this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:Object.assign({},this.uploaderOptions.data,{suffix:t[e].currentValue})}):"project"===e?(this.project=t[e].currentValue,this.uploaderOptions=Object.assign({},this.uploaderOptions,{url:this.infoService.BASE_URL+"/project/api/"+this.project.id+"/upload"})):"fileLimits"===e&&(this.uploaderOptions=Object.assign({},this.uploaderOptions,{data:Object.assign({},this.uploaderOptions.data,{allowedFileSize:parseFloat(t[e].currentValue)})}));this.uploader.setOptions(this.uploaderOptions)}fileOverBase(t){-1!==(t.dataTransfer?t.dataTransfer:t.originalEvent.dataTransfer).types.indexOf("Files")&&(this.hasBaseDropZoneOver=!0)}fileLeave(t){setTimeout(()=>this.hasBaseDropZoneOver=!1,0)}gotoDataFile(t){window&&window.open()}onDeleteDataFile(t){for(let e=0;e<this.uploader.queue.length;e++){const i=this.uploader.queue[e];if(i.response&&i.response.success&&i.response.success[0]&&i.response.success[0].id===t){this.removeQueueElement(e);break}}this.deleteDataFile.emit(t)}onUpdateDataFile(t){this.updateDataFile.emit(new k.a(t))}removeQueueElement(t){this.uploader.removeFileFromQueue(t),this.uploaderProgress.renderRows()}handleMultipleUpload(t){const e=this.responses.findIndex(e=>e.id===t.id);-1===e?this.responses.push(t):this.zone.run(()=>{this.responses[e]=t});const i=t.response;i&&i.isError&&t.setError(i.errors[0].details),this.uploaderProgress.renderRows()}cssItemRowColor(t){return{"text-danger":t.error,success:t.done,warning:t.uploading,danger:t.error,active:t.abort}}fileDropEvent(t){console.log(this.uploader.queue),setTimeout(()=>{this.hasBaseDropZoneOver=!1,this.uploaderProgress.renderRows()},0)}onTagChanged(t,e){e.tags=t}startUpload(){this.uploadEvents.emit("startUpload")}resetState(t,e){e&&e.response&&e.response.success&&e.response.success[0]&&delete this.highlightController[e.response.success[0].id]}ngOnDestroy(){for(let t=0;t<this._subs.length;t++)this._subs[t].unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(x.a),n.Ob(c.a),n.Ob(w.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["chi-file-uploader"]],viewQuery:function(t,e){var i;1&t&&n.Rc(F.n,!0),2&t&&n.xc(i=n.dc())&&(e.uploaderProgress=i.first)},inputs:{project:"project",allowedExtensions:"allowedExtensions",folder:"folder",keepFileName:"keepFileName",fileLimits:"fileLimits",tags:"tags",validTags:"validTags",name:"name",desc:"desc",tasks:"tasks",prefix:"prefix",suffix:"suffix"},outputs:{navigateDataFile:"navigateDataFile",deleteDataFile:"deleteDataFile",updateDataFile:"updateDataFile"},features:[n.Ab],decls:14,vars:6,consts:[[1,"mt-3"],["chiFileDropper","","multiple","true",1,"my-drop-zone",3,"options","ngClass","dragover","dragleave","drop","onUpload"],[1,"text-center"],["aria-hidden","true",1,"fa","fa-5x","fa-upload"],["type","file","id","upload_file_selector","chiFileSelector","","multiple","",1,"hide-input",3,"options"],["for","upload_file_selector",1,"input-label"],[1,"box__dragndrop"],["mat-table","","style","width: 100%;","multiTemplateDataRows","",3,"dataSource",4,"ngIf"],["mat-table","","multiTemplateDataRows","",2,"width","100%",3,"dataSource"],["matColumnDef","deleteIcon"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","px-2",4,"matCellDef"],["matColumnDef","DataFilePrefix"],["mat-header-cell","","style","width: 80px;",4,"matHeaderCellDef"],["matColumnDef","DataFileName"],["matColumnDef","DataFileSuffix"],["matColumnDef","empty"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","size"],["matColumnDef","progress"],["matColumnDef","status"],["matColumnDef","speed"],["matColumnDef","tags"],["matColumnDef","link"],["matColumnDef","controls"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-row","","style","border-bottom: 1px solid black;",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"px-2"],[1,"d-flex","justify-content-center","align-items-center"],["mat-icon-button","","color","accent","mat-button","",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","mat-button","",3,"click"],[1,"fas","fa-ban","fa-fw","fa-lg"],["mat-icon-button","","color","primary",3,"click"],[1,"far","fa-times-circle","fa-fw","fa-lg","mr-2"],["mat-header-cell","",2,"width","80px"],[4,"ngIf"],[2,"width","100%"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix for the data file(s)",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix for the data file(s)",3,"ngModel","ngModelChange"],["mat-cell",""],["class","label label-primary",4,"ngFor","ngForOf"],[1,"label","label-primary"],[3,"diameter","value"],["class","text-muted",4,"ngIf"],["class","text-primary",4,"ngIf"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-muted"],["aria-hidden","true",1,"fas","fa-times","fa-fw","mr-2"],[1,"text-primary"],[1,"fas","fa-spin","fa-circle-notch","fa-fw","mr-2"],[1,"text-success"],["aria-hidden","true",1,"fas","fa-check","fa-fw","mr-2"],[1,"text-danger"],[3,"packages","tasks","tags","disabled","tagChange"],["target","_blank",3,"routerLink",4,"ngIf"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","fa-fw","fa-lg"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],["mat-icon-button","","type","button",3,"click"],[1,"far","fa-trash-alt","fa-fw","fa-lg"],[1,"fas","fa-save","fa-fw","fa-lg"],["mat-header-row",""],["mat-row",""],["mat-row","",2,"border-bottom","1px solid black"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.cc("dragover",(function(t){return e.fileOverBase(t)}))("dragleave",(function(t){return e.fileLeave(t)}))("drop",(function(t){return e.fileDropEvent(t)}))("onUpload",(function(t){return e.handleMultipleUpload(t)})),n.Ub(2,"div",2),n.Pb(3,"i",3),n.Pb(4,"br"),n.Pb(5,"input",4),n.Ub(6,"label",5),n.Ub(7,"strong"),n.Lc(8,"Choose a file"),n.Tb(),n.Ub(9,"span",6),n.Lc(10," or drag it here"),n.Tb(),n.Lc(11,". "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Jc(12,vt,43,7,"table",7),n.Pb(13,"br")),2&t&&(n.Cb(1),n.nc("options",e.uploaderOptions)("ngClass",n.rc(4,It,e.hasBaseDropZoneOver)),n.Cb(4),n.nc("options",e.uploaderOptions),n.Cb(7),n.nc("ngIf",e.uploader.queue.length>0))},directives:[v.a,o.l,I.a,o.n,F.n,F.c,F.i,F.b,F.k,F.m,F.h,F.a,h.b,r.b,b.a,d.b,d.e,d.i,d.l,o.m,y.a,T.a,s.f,F.j,F.l],pipes:[o.e],styles:[".my-drop-zone[_ngcontent-%COMP%]{font-size:1.25rem;background-color:#c8dadf;position:relative;padding:60px 20px;outline:2px dashed #92b0b3;outline-offset:-10px;transition:outline-offset .15s ease-in-out,background-color .15s linear}.nv-file-over[_ngcontent-%COMP%]{outline-offset:-20px;outline-color:#c8dadf;background-color:#fff}.hide-input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;z-index:-1;position:absolute}.input-label[_ngcontent-%COMP%]{max-width:80%;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden}.input-label[_ngcontent-%COMP%]:hover   strong[_ngcontent-%COMP%]{color:#39bfd3}@-webkit-keyframes md-spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}@keyframes md-spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}"],data:{animation:[D]}}),t})();var Lt=i("YiK1");function Jt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",6),n.cc("click",(function(){return n.Bc(t),n.gc(2).linkAccount()})),n.Lc(1,"Link to your google accounts"),n.Tb()}}function Pt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",7),n.cc("click",(function(){return n.Bc(t),n.gc(2).linkAccount()})),n.Lc(1,"Switch account"),n.Tb()}}function St(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",8),n.cc("click",(function(){return n.Bc(t),n.gc(2).showPicker()})),n.Lc(1,"Import from google drive"),n.Tb()}}function Ot(t,e){1&t&&n.Pb(0,"th",29)}function Rt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",30),n.Ub(1,"div",31),n.Ub(2,"button",32),n.cc("click",(function(){n.Bc(t);const i=e.$implicit;return n.gc(3).removeFromList(i.id)})),n.Pb(3,"i",33),n.Tb(),n.Tb(),n.Tb()}}function Mt(t,e){1&t&&(n.Ub(0,"th",34),n.Lc(1,"Prefix"),n.Tb())}function jt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",36),n.Ub(1,"input",37),n.cc("ngModelChange",(function(e){return n.Bc(t),n.gc().$implicit.dataFile.prefix=e})),n.Tb(),n.Tb()}if(2&t){const t=n.gc().$implicit;n.Cb(1),n.nc("ngModel",t.dataFile.prefix)}}function $t(t,e){if(1&t&&(n.Ub(0,"td",30),n.Jc(1,jt,2,1,"mat-form-field",35),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",null==t.dataFile?null:t.dataFile.id)}}function Bt(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1,"DataFile name"),n.Tb())}function Et(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",36),n.Ub(1,"input",38),n.cc("ngModelChange",(function(e){return n.Bc(t),n.gc().$implicit.dataFile.name=e})),n.Tb(),n.Tb()}if(2&t){const t=n.gc().$implicit;n.Cb(1),n.nc("ngModel",t.dataFile.name)}}function Vt(t,e){if(1&t&&(n.Ub(0,"td",30),n.Jc(1,Et,2,1,"mat-form-field",35),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t.dataFile)}}function At(t,e){1&t&&(n.Ub(0,"th",34),n.Lc(1,"Suffix"),n.Tb())}function Nt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",36),n.Ub(1,"input",39),n.cc("ngModelChange",(function(e){return n.Bc(t),n.gc().$implicit.dataFile.suffix=e})),n.Tb(),n.Tb()}if(2&t){const t=n.gc().$implicit;n.Cb(1),n.nc("ngModel",t.dataFile.suffix)}}function _t(t,e){if(1&t&&(n.Ub(0,"td",30),n.Jc(1,Nt,2,1,"mat-form-field",35),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t.dataFile)}}function zt(t,e){1&t&&(n.Ub(0,"th",34),n.Lc(1,"Mime Type"),n.Tb())}function Ht(t,e){if(1&t&&(n.Ub(0,"td",30),n.Ub(1,"span"),n.Lc(2),n.Tb(),n.Tb()),2&t){const t=e.$implicit;n.Cb(2),n.Mc(t.mimeType)}}function qt(t,e){1&t&&n.Pb(0,"th",29)}function Kt(t,e){if(1&t&&(n.Ub(0,"td",30),n.Pb(1,"img",40),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("src",t.iconUrl,n.Ec)}}function Gt(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1,"Original Filename"),n.Tb())}function Xt(t,e){if(1&t&&(n.Ub(0,"td",30),n.Ub(1,"a",41),n.Lc(2),n.Tb(),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("href",t.embedUrl,n.Ec),n.Cb(1),n.Mc(t.name)}}function Qt(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1," Status "),n.Tb())}function Yt(t,e){1&t&&(n.Ub(0,"span",47),n.Pb(1,"i",48),n.Lc(2," Pending"),n.Tb())}function Zt(t,e){1&t&&(n.Ub(0,"span",49),n.Pb(1,"i",50),n.Lc(2," Processing"),n.Tb())}function Wt(t,e){1&t&&(n.Ub(0,"span",51),n.Pb(1,"i",52),n.Lc(2," Imported"),n.Tb())}function te(t,e){1&t&&(n.Ub(0,"span",53),n.Pb(1,"i",54),n.Lc(2," Error"),n.Tb())}function ee(t,e){1&t&&(n.Ub(0,"td",42),n.Jc(1,Yt,3,0,"span",43),n.Jc(2,Zt,3,0,"span",44),n.Jc(3,Wt,3,0,"span",45),n.Jc(4,te,3,0,"span",46),n.Tb()),2&t&&(n.nc("ngSwitch",e.$implicit.status),n.Cb(1),n.nc("ngSwitchCase","pending"),n.Cb(1),n.nc("ngSwitchCase","importing"),n.Cb(1),n.nc("ngSwitchCase","success"),n.Cb(1),n.nc("ngSwitchCase","error"))}function ie(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1," Tags "),n.Tb())}function ne(t,e){if(1&t){const t=n.Vb();n.Ub(0,"bdp-tag-input",56),n.cc("tagChange",(function(e){n.Bc(t);const i=n.gc().$implicit;return n.gc(3).onTagChanged(e,i.dataFile)})),n.Tb()}if(2&t){const t=n.gc().$implicit,e=n.gc(3);n.nc("packages",e.project.packages)("tasks",e.tasks)("tags",t.dataFile.tags)}}function ae(t,e){if(1&t&&(n.Ub(0,"td",30),n.Jc(1,ne,1,3,"bdp-tag-input",55),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t.dataFile)}}function ce(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1," Link "),n.Tb())}const se=function(t){return["/dataFile",t,"info"]};function oe(t,e){if(1&t&&(n.Ub(0,"a",58),n.Pb(1,"span",59),n.Tb()),2&t){const t=n.gc().$implicit;n.nc("routerLink",n.rc(1,se,t.dataFile.id))}}function le(t,e){if(1&t&&(n.Ub(0,"td",30),n.Ub(1,"div",31),n.Jc(2,oe,2,3,"a",57),n.Tb(),n.Tb()),2&t){const t=e.$implicit;n.Cb(2),n.nc("ngIf",t.dataFile)}}function re(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1," Controls "),n.Tb())}function be(t,e){1&t&&(n.Ub(0,"span"),n.Lc(1,"Import"),n.Tb())}function de(t,e){1&t&&(n.Ub(0,"span"),n.Lc(1,"Importing"),n.Tb())}function fe(t,e){1&t&&(n.Ub(0,"span"),n.Lc(1,"Imported"),n.Tb())}function ue(t,e){1&t&&(n.Ub(0,"span"),n.Lc(1,"Error"),n.Tb())}function ge(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",30),n.Ub(1,"button",60),n.cc("click",(function(){n.Bc(t);const i=e.$implicit;return n.gc(3).importFile(i)})),n.Pb(2,"span",61),n.Jc(3,be,2,0,"span",62),n.Jc(4,de,2,0,"span",62),n.Jc(5,fe,2,0,"span",62),n.Jc(6,ue,2,0,"span",62),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit;n.Cb(1),n.nc("disabled","pending"!==t.status),n.Cb(2),n.nc("ngIf","pending"==t.status),n.Cb(1),n.nc("ngIf","importing"==t.status),n.Cb(1),n.nc("ngIf","success"==t.status),n.Cb(1),n.nc("ngIf","error"==t.status)}}function pe(t,e){1&t&&(n.Ub(0,"th",29),n.Lc(1," Controls "),n.Tb())}function he(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",63),n.cc("click",(function(){n.Bc(t);const e=n.gc(2).$implicit;return n.gc(3).onUpdateDataFile(e.dataFile)})),n.Pb(1,"i",66),n.Tb()}}function me(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Ub(1,"button",63),n.cc("click",(function(){n.Bc(t);const e=n.gc().$implicit;return n.gc(3).onDeleteDataFile(e.dataFile.id,e.id)})),n.Pb(2,"i",64),n.Tb(),n.Jc(3,he,2,0,"button",65),n.Rb()}if(2&t){const t=n.gc().$implicit;n.Cb(3),n.nc("ngIf",3!==t.status)}}function Te(t,e){if(1&t&&(n.Ub(0,"td",30),n.Jc(1,me,4,1,"ng-container",62),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t.dataFile&&"success"==t.status)}}function Ce(t,e){1&t&&n.Pb(0,"tr",67)}function ke(t,e){if(1&t){const t=n.Vb();n.Ub(0,"tr",68),n.cc("@highlightRows.done",(function(i){n.Bc(t);const a=e.$implicit;return n.gc(3).resetState(i,a.dataFile)})),n.Tb()}if(2&t){const t=e.$implicit,i=n.gc(3);n.nc("@highlightRows",t&&t.dataFile&&i.highlightController[t.dataFile.id]?"active":"inactive")}}function Fe(t,e){if(1&t&&n.Pb(0,"tr",68),2&t){const t=e.$implicit,i=n.gc(3);n.nc("@highlightRows",t&&t.dataFile&&i.highlightController[t.dataFile.id]?"active":"inactive")}}const Ue=function(){return["deleteIcon","iconUrl","name","mimeType","status","importBtn"]},De=function(){return["link","DataFilePrefix","DataFileName","DataFileSuffix","tags","controls"]};function xe(t,e){if(1&t&&(n.Ub(0,"div",9),n.Ub(1,"table",10),n.Sb(2,11),n.Jc(3,Ot,1,0,"th",12),n.Jc(4,Rt,4,0,"td",13),n.Rb(),n.Sb(5,14),n.Jc(6,Mt,2,0,"th",15),n.Jc(7,$t,2,1,"td",13),n.Rb(),n.Sb(8,16),n.Jc(9,Bt,2,0,"th",12),n.Jc(10,Vt,2,1,"td",13),n.Rb(),n.Sb(11,17),n.Jc(12,At,2,0,"th",15),n.Jc(13,_t,2,1,"td",13),n.Rb(),n.Sb(14,18),n.Jc(15,zt,2,0,"th",15),n.Jc(16,Ht,3,1,"td",13),n.Rb(),n.Sb(17,19),n.Jc(18,qt,1,0,"th",12),n.Jc(19,Kt,2,1,"td",13),n.Rb(),n.Sb(20,20),n.Jc(21,Gt,2,0,"th",12),n.Jc(22,Xt,3,2,"td",13),n.Rb(),n.Sb(23,21),n.Jc(24,Qt,2,0,"th",12),n.Jc(25,ee,5,5,"td",22),n.Rb(),n.Sb(26,23),n.Jc(27,ie,2,0,"th",12),n.Jc(28,ae,2,1,"td",13),n.Rb(),n.Sb(29,24),n.Jc(30,ce,2,0,"th",12),n.Jc(31,le,3,1,"td",13),n.Rb(),n.Sb(32,25),n.Jc(33,re,2,0,"th",12),n.Jc(34,ge,7,5,"td",13),n.Rb(),n.Sb(35,26),n.Jc(36,pe,2,0,"th",12),n.Jc(37,Te,2,1,"td",13),n.Rb(),n.Jc(38,Ce,1,0,"tr",27),n.Jc(39,ke,1,1,"tr",28),n.Jc(40,Fe,1,1,"tr",28),n.Tb(),n.Tb()),2&t){const t=n.gc(2);n.Cb(1),n.nc("dataSource",t._selectedDocs),n.Cb(37),n.nc("matHeaderRowDef",n.qc(4,Ue)),n.Cb(1),n.nc("matRowDefColumns",n.qc(5,Ue)),n.Cb(1),n.nc("matRowDefColumns",n.qc(6,De))}}function we(t,e){if(1&t&&(n.Ub(0,"div",1),n.Jc(1,Jt,2,0,"button",2),n.Jc(2,Pt,2,0,"button",3),n.Jc(3,St,2,0,"button",4),n.Jc(4,xe,41,7,"div",5),n.Tb()),2&t){const t=n.gc();n.Cb(1),n.nc("ngIf",!t.oauthToken),n.Cb(1),n.nc("ngIf",t.authApiLoaded&&t.oauthToken),n.Cb(1),n.nc("ngIf",t.pickerApiLoaded&&t.oauthToken),n.Cb(1),n.nc("ngIf",t._selectedDocs.length>0)}}let ve=(()=>{class t{constructor(t,e,i,a){this.projectService=t,this.router=e,this.systemService=i,this.infoService=a,this.navigateDataFile=new n.o,this.deleteDataFile=new n.o,this.updateDataFile=new n.o,this.pickerApiLoaded=!1,this.authApiLoaded=!1,this.oauthToken=void 0,this._gapi=gapi,this.clientId="",this.appId="",this.scope=["https://www.googleapis.com/auth/drive.readonly"]}ngOnInit(){if(this._subs=[],this.highlightController={},this.zone=new n.A({enableLongStackTrace:!0}),this.authToPicker={},this.authToAuthResult={},this._selectedDocs=this.projectService._googleDriveImportQueue,this._gapi.load("picker",{callback:()=>this.zone.run(()=>this.pickerApiLoaded=!0)}),this._gapi.load("auth",{callback:()=>this.zone.run(()=>this.authApiLoaded=!0)}),this.projectService.sysInfo.googleClientID){this.clientId=this.projectService.sysInfo.googleClientID;const t=this.clientId.split("-");this.appId=t[0]}else this._subs.push(this.systemService.sysInfo$.subscribe(t=>{t&&(this.clientId=t.googleClientID,this.appId=this.clientId.split("-")[0])}));this._subs.push(this.infoService.incomingDataChange$.subscribe(t=>{if("DataFile"===t.target)if("update"===t.type){const e=t.data;for(let t=0;t<this._selectedDocs.length;t++){const i=this._selectedDocs[t].dataFile;if(i&&e.id===i.id){i.prefix=e.prefix,i.name=e.name,i.suffix=e.suffix,i.desc=e.desc,i.tags=e.tags,this.highlightController[e.id]=!0;break}}}else if("remove"===t.type)for(let e=0;e<this._selectedDocs.length;e++)if(this._selectedDocs[e].dataFile&&this._selectedDocs[e].dataFile.id===t.data.id){this._selectedDocs.splice(e,1),this.selectedDocTable&&this.selectedDocTable.renderRows();break}}))}get selectedDocs(){return this._selectedDocs}linkAccount(){this._gapi.auth.authorize({client_id:this.clientId,scope:this.scope,immediate:!1,authuser:-1},t=>{this.zone.run(()=>this.oauthToken=t.access_token),this.authToAuthResult[this.oauthToken]=t,this.showPicker()})}showPicker(){this.authToPicker[this.oauthToken]?this.authToPicker[this.oauthToken].setVisible(!0):this.pickerApiLoaded&&this.oauthToken&&(this.authToPicker[this.oauthToken]=(new google.picker.PickerBuilder).addView(google.picker.ViewId.DOCUMENTS).addView(google.picker.ViewId.DOCS_IMAGES).addView(google.picker.ViewId.PRESENTATIONS).addView(google.picker.ViewId.SPREADSHEETS).setOAuthToken(this.oauthToken).setAppId(this.appId).setDeveloperKey(this.apiKey).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).setMaxItems(5).setCallback(t=>this.pickerCallback(t)).build(),this.authToPicker[this.oauthToken].setVisible(!0))}pickerCallback(t){if(Object.keys(this).length>0){let e=[];t[google.picker.Response.ACTION]===google.picker.Action.PICKED&&(e=t[google.picker.Response.DOCUMENTS],this.appendFiles(e,this.oauthToken))}}appendFiles(t,e){e&&(t.forEach(t=>{t.oauthToken=this.oauthToken,t.status="pending",t.dataFile=void 0}),this._selectedDocs.push.apply(this._selectedDocs,t),this.selectedDocTable&&this.selectedDocTable.renderRows())}removeFromList(t){for(let e=0;e<this._selectedDocs.length;e++)if(this._selectedDocs[e].id===t){this._selectedDocs.splice(e,1);break}this.selectedDocTable&&this.selectedDocTable.renderRows()}importFile(t){this.zone.run(()=>t.status="importing");const e=this.projectService.importData(t.id,t.name,this.desc||t.description,t.mimeType,t.oauthToken,this.project.id,this.prefix,this.suffix,this.name,this.tags||[],this.folder||"",!!this.keepFileName).subscribe(i=>{e.unsubscribe(),i.isError?t.status="error":(t.status="success",t.dataFile=i.success)})}gotoDataFile(t){this.router.navigate(["/dataFile",t,"info"])}resetState(t,e){e&&e.id&&this.highlightController[e.id]&&delete this.highlightController[e.id]}onDeleteDataFile(t,e){this.removeFromList(e),this.deleteDataFile.emit(t)}onUpdateDataFile(t){this.updateDataFile.emit(t)}onTagChanged(t,e){e.tags=t}ngOnDestroy(){let t=Object.keys(this.authToPicker);for(let e=0;e<t.length;e++)this.authToPicker[t[e]].dispose(),delete this.authToPicker[t[e]];t=Object.keys(this.authToAuthResult);for(let e=0;e<t.length;e++)this.authToAuthResult[this.oauthToken]["g-oauth-window"].close();this.authToPicker=void 0,delete this._gapi;for(let e=0;e<this._subs.length;e++)this._subs[e].unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(c.a),n.Ob(s.c),n.Ob(Lt.a),n.Ob(w.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["chi-google-picker"]],viewQuery:function(t,e){var i;1&t&&n.Rc(F.n,!0),2&t&&n.xc(i=n.dc())&&(e.selectedDocTable=i.first)},inputs:{project:"project",allowedExtensions:"allowedExtensions",tags:"tags",keepFileName:"keepFileName",folder:"folder",apiKey:"apiKey",name:"name",desc:"desc",prefix:"prefix",suffix:"suffix",tasks:"tasks"},outputs:{navigateDataFile:"navigateDataFile",deleteDataFile:"deleteDataFile",updateDataFile:"updateDataFile"},decls:1,vars:1,consts:[["class","container-fluid p-3",4,"ngIf"],[1,"container-fluid","p-3"],["mat-raised-button","","color","primary","class","mt-3",3,"click",4,"ngIf"],["class","mt-3","mat-button","",3,"click",4,"ngIf"],["class","mt-3","mat-button","","color","primary",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["mat-raised-button","","color","primary",1,"mt-3",3,"click"],["mat-button","",1,"mt-3",3,"click"],["mat-button","","color","primary",1,"mt-3",3,"click"],[1,"row"],["mat-table","","multiTemplateDataRows","",2,"width","100%",3,"dataSource"],["matColumnDef","deleteIcon"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","px-2",4,"matCellDef"],["matColumnDef","DataFilePrefix"],["mat-header-cell","","style","width: 80px;",4,"matHeaderCellDef"],["matColumnDef","DataFileName"],["matColumnDef","DataFileSuffix"],["matColumnDef","mimeType"],["matColumnDef","iconUrl"],["matColumnDef","name"],["matColumnDef","status"],["mat-cell","","class","px-2",3,"ngSwitch",4,"matCellDef"],["matColumnDef","tags"],["matColumnDef","link"],["matColumnDef","importBtn"],["matColumnDef","controls"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"px-2"],[1,"d-flex","justify-content-center","align-items-center"],["mat-icon-button","","color","accent",3,"click"],[1,"fas","fa-times","fa-fw","fa-lg"],["mat-header-cell","",2,"width","80px"],["style","width: 100%;",4,"ngIf"],[2,"width","100%"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix for the data file",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix for the data file",3,"ngModel","ngModelChange"],[3,"src"],["target","_blank",3,"href"],["mat-cell","",1,"px-2",3,"ngSwitch"],["class","text-info",4,"ngSwitchCase"],["class","text-warning",4,"ngSwitchCase"],["class","text-success",4,"ngSwitchCase"],["class","text-danger",4,"ngSwitchCase"],[1,"text-info"],[1,"fa","fa-hourglass-half"],[1,"text-warning"],[1,"fas","fa-circle-notch","fa-spin","fa-fw"],[1,"text-success"],[1,"fas","fa-check","fa-fw"],[1,"text-danger"],[1,"fas","fa-times","fa-fw"],[3,"packages","tasks","tags","tagChange",4,"ngIf"],[3,"packages","tasks","tags","tagChange"],["mat-icon-button","","target","_blank",3,"routerLink",4,"ngIf"],["mat-icon-button","","target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","fa-fw","fa-lg"],["mat-raised-button","",3,"disabled","click"],[1,"fas","fa-cloud-upload-alt","fa-fw","fa-lg","mr-4"],[4,"ngIf"],["mat-icon-button","","type","button",3,"click"],[1,"far","fa-trash-alt","fa-fw","fa-lg"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],[1,"fas","fa-save","fa-fw","fa-lg"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&n.Jc(0,we,5,4,"div",0),2&t&&n.nc("ngIf",e.clientId)},directives:[o.n,h.b,F.n,F.c,F.i,F.b,F.k,F.m,F.h,F.a,r.b,b.a,d.b,d.e,d.i,d.l,o.p,o.q,T.a,h.a,s.f,F.j,F.l],encapsulation:2,data:{animation:[D]}}),t})();function Ie(t,e){1&t&&n.Pb(0,"th",23)}function ye(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",24),n.Ub(1,"div",25),n.Ub(2,"button",26),n.cc("click",(function(){n.Bc(t);const i=e.$implicit;return n.gc(2).removeFromList(i.dataFile.id)})),n.Pb(3,"i",27),n.Tb(),n.Tb(),n.Tb()}}function Le(t,e){1&t&&(n.Ub(0,"th",28),n.Lc(1,"Prefix"),n.Tb())}function Je(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",24),n.Ub(1,"mat-form-field",1),n.Ub(2,"input",29),n.cc("ngModelChange",(function(i){return n.Bc(t),e.$implicit.dataFile.prefix=i})),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit;n.Cb(2),n.nc("ngModel",t.dataFile.prefix)}}function Pe(t,e){1&t&&(n.Ub(0,"th",23),n.Lc(1,"DataFile name"),n.Tb())}function Se(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",24),n.Ub(1,"mat-form-field",1),n.Ub(2,"input",30),n.cc("ngModelChange",(function(i){return n.Bc(t),e.$implicit.dataFile.name=i})),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit;n.Cb(2),n.nc("ngModel",t.dataFile.name)}}function Oe(t,e){1&t&&(n.Ub(0,"th",28),n.Lc(1,"Suffix"),n.Tb())}function Re(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",24),n.Ub(1,"mat-form-field",1),n.Ub(2,"input",31),n.cc("ngModelChange",(function(i){return n.Bc(t),e.$implicit.dataFile.suffix=i})),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit;n.Cb(2),n.nc("ngModel",t.dataFile.suffix)}}function Me(t,e){1&t&&(n.Ub(0,"th",23),n.Lc(1," Status "),n.Tb())}function je(t,e){1&t&&(n.Ub(0,"span"),n.Pb(1,"span",33),n.Lc(2,"Importing"),n.Tb())}function $e(t,e){1&t&&(n.Ub(0,"span"),n.Ub(1,"span",34),n.Lc(2,"Success"),n.Tb(),n.Tb())}function Be(t,e){1&t&&(n.Ub(0,"span"),n.Ub(1,"span",35),n.Lc(2,"Deleting"),n.Tb(),n.Tb())}function Ee(t,e){1&t&&(n.Ub(0,"span"),n.Ub(1,"span",36),n.Lc(2,"Error"),n.Tb(),n.Tb())}function Ve(t,e){if(1&t&&(n.Ub(0,"td",24),n.Jc(1,je,3,0,"span",32),n.Jc(2,$e,3,0,"span",32),n.Jc(3,Be,3,0,"span",32),n.Jc(4,Ee,3,0,"span",32),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",0===t.dataFile.status),n.Cb(1),n.nc("ngIf",1===t.dataFile.status),n.Cb(1),n.nc("ngIf",3===t.dataFile.status),n.Cb(1),n.nc("ngIf",4===t.dataFile.status)}}function Ae(t,e){1&t&&(n.Ub(0,"th",23),n.Lc(1," Tags "),n.Tb())}function Ne(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",24),n.Ub(1,"bdp-tag-input",37),n.cc("tagChange",(function(i){n.Bc(t);const a=e.$implicit;return n.gc(2).onTagChanged(i,a.dataFile)})),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit,i=n.gc(2);n.Cb(1),n.nc("packages",i.project.packages)("tasks",i.tasks)("tags",t.dataFile.tags)}}function _e(t,e){1&t&&(n.Ub(0,"th",23),n.Lc(1,"Original Path"),n.Tb())}function ze(t,e){if(1&t&&(n.Ub(0,"td",24),n.Ub(1,"span"),n.Lc(2),n.Tb(),n.Tb()),2&t){const t=e.$implicit;n.Cb(2),n.Mc(t.originalPath)}}function He(t,e){1&t&&(n.Ub(0,"th",23),n.Lc(1," Link "),n.Tb())}function qe(t,e){1&t&&n.Pb(0,"td",24)}function Ke(t,e){1&t&&(n.Ub(0,"th",23),n.Lc(1," Controls "),n.Tb())}const Ge=function(t){return["/dataFile",t,"info"]};function Xe(t,e){if(1&t&&(n.Ub(0,"a",42),n.Pb(1,"i",43),n.Tb()),2&t){const t=n.gc().$implicit;n.nc("routerLink",n.rc(1,Ge,t.dataFile.id))}}function Qe(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",39),n.cc("click",(function(){n.Bc(t);const e=n.gc().$implicit;return n.gc(2).onUpdateDataFile(e.dataFile)})),n.Pb(1,"i",44),n.Tb()}}function Ye(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",24),n.Jc(1,Xe,2,3,"a",38),n.Ub(2,"button",39),n.cc("click",(function(){n.Bc(t);const i=e.$implicit;return n.gc(2).onDeleteDataFile(i.dataFile.id)})),n.Pb(3,"i",40),n.Tb(),n.Jc(4,Qe,2,0,"button",41),n.Tb()}if(2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t),n.Cb(3),n.nc("ngIf",3!==t.status)}}function Ze(t,e){1&t&&n.Pb(0,"tr",45)}function We(t,e){if(1&t){const t=n.Vb();n.Ub(0,"tr",46),n.cc("@highlightRows.done",(function(i){n.Bc(t);const a=e.$implicit;return n.gc(2).resetState(i,a.dataFile)})),n.Tb()}if(2&t){const t=e.$implicit,i=n.gc(2);n.nc("@highlightRows",t&&t.dataFile&&i.highlightController[t.dataFile.id]?"active":"inactive")}}const ti=function(){return["deleteIcon","DataFilePrefix","DataFileName","DataFileSuffix","OriginalPath","tags","controls"]};function ei(t,e){if(1&t&&(n.Ub(0,"table",8),n.Sb(1,9),n.Jc(2,Ie,1,0,"th",10),n.Jc(3,ye,4,0,"td",11),n.Rb(),n.Sb(4,12),n.Jc(5,Le,2,0,"th",13),n.Jc(6,Je,3,1,"td",11),n.Rb(),n.Sb(7,14),n.Jc(8,Pe,2,0,"th",10),n.Jc(9,Se,3,1,"td",11),n.Rb(),n.Sb(10,15),n.Jc(11,Oe,2,0,"th",13),n.Jc(12,Re,3,1,"td",11),n.Rb(),n.Sb(13,16),n.Jc(14,Me,2,0,"th",10),n.Jc(15,Ve,5,4,"td",11),n.Rb(),n.Sb(16,17),n.Jc(17,Ae,2,0,"th",10),n.Jc(18,Ne,2,3,"td",11),n.Rb(),n.Sb(19,18),n.Jc(20,_e,2,0,"th",10),n.Jc(21,ze,3,1,"td",11),n.Rb(),n.Sb(22,19),n.Jc(23,He,2,0,"th",10),n.Jc(24,qe,1,0,"td",11),n.Rb(),n.Sb(25,20),n.Jc(26,Ke,2,0,"th",10),n.Jc(27,Ye,5,2,"td",11),n.Rb(),n.Jc(28,Ze,1,0,"tr",21),n.Jc(29,We,1,1,"tr",22),n.Tb()),2&t){const t=n.gc();n.nc("dataSource",t.importedRecords),n.Cb(28),n.nc("matHeaderRowDef",n.qc(3,ti)),n.Cb(1),n.nc("matRowDefColumns",n.qc(4,ti))}}let ii=(()=>{class t{constructor(t,e,i){this.infoService=t,this.projectService=e,this.router=i,this.navigateDataFile=new n.o,this.deleteDataFile=new n.o,this.updateDataFile=new n.o}ngOnInit(){this.highlightController={},this.directLink=!1,this._subs=[],this.importedRecords=[],this.newPath="",this._subs.push(this.infoService.incomingDataChange$.subscribe(t=>{if("update"===t.type&&"DataFile"===t.target){const e=t.data;for(let t=0;t<this.importedRecords.length;t++){const i=this.importedRecords[t].dataFile;if(i&&e.id===i.id){i.prefix=e.prefix,i.name=e.name,i.suffix=e.suffix,i.desc=e.desc,i.tags=e.tags,this.highlightController[e.id]||(this.highlightController[e.id]=!0);break}}}else"remove"===t.type&&"DataFile"===t.target&&this.removeFromList(t.data.id)}))}importFromFolder(){if(this.newPath){const t=this.newPath;this.newPath="";const e=this.projectService.importFromPath(t,this.project.id,this.directLink,this.name,this.desc,this.prefix,this.suffix,this.tags,this.folder||"",this.keepFileName).subscribe(i=>{e.unsubscribe(),i.success&&(this.importedRecords.push({originalPath:t,dataFile:i.success}),this.importedTable&&this.importedTable.renderRows())})}}removeFromList(t){for(let e=0;e<this.importedRecords.length;e++)if(this.importedRecords[e].dataFile&&this.importedRecords[e].dataFile.id&&this.importedRecords[e].dataFile.id===t){this.importedRecords.splice(e,1);break}this.importedTable&&this.importedTable.renderRows()}resetState(t,e){e&&e.id&&this.highlightController[e.id]&&delete this.highlightController[e.id]}onTagChanged(t,e){e.tags=t}onUpdateDataFile(t){this.updateDataFile.emit(t)}onDeleteDataFile(t){this.removeFromList(t),this.deleteDataFile.emit(t)}ngOnDestroy(){for(let t=0;t<this._subs.length;t++)this._subs[t].unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(w.a),n.Ob(c.a),n.Ob(s.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["chi-path-importer"]],viewQuery:function(t,e){var i;1&t&&n.Rc(F.n,!0),2&t&&n.xc(i=n.dc())&&(e.importedTable=i.first)},inputs:{project:"project",allowedExtensions:"allowedExtensions",folder:"folder",keepFileName:"keepFileName",tags:"tags",name:"name",desc:"desc",prefix:"prefix",suffix:"suffix",tasks:"tasks"},outputs:{navigateDataFile:"navigateDataFile",deleteDataFile:"deleteDataFile",updateDataFile:"updateDataFile"},decls:14,vars:4,consts:[[1,"mt-3"],[2,"width","100%"],["matInput","","type","text","placeholder","The path on the server to import",3,"ngModel","ngModelChange"],["align","end"],[3,"ngModel","ngModelChange"],[1,"text-muted"],["mat-raised-button","","color","primary",1,"my-5",3,"disabled","click"],["mat-table","","style","width: 100%;","multiTemplateDataRows","",3,"dataSource",4,"ngIf"],["mat-table","","multiTemplateDataRows","",2,"width","100%",3,"dataSource"],["matColumnDef","deleteIcon"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","px-2",4,"matCellDef"],["matColumnDef","DataFilePrefix"],["mat-header-cell","","style","width: 80px;",4,"matHeaderCellDef"],["matColumnDef","DataFileName"],["matColumnDef","DataFileSuffix"],["matColumnDef","status"],["matColumnDef","tags"],["matColumnDef","OriginalPath"],["matColumnDef","link"],["matColumnDef","controls"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"px-2"],[1,"d-flex","justify-content-center","align-items-center"],["mat-icon-button","","color","accent",3,"click"],[1,"fas","fa-times"],["mat-header-cell","",2,"width","80px"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix for the data file",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix for the data file",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"fas","fa-spin","fa-circle-notch","fa-fw"],["aria-hidden","true",1,"fas","fa-check","text-success"],["aria-hidden","true",1,"far","fa-trash-alt","text-success"],["aria-hidden","true",1,"fas","fa-times","text-danger"],[3,"packages","tasks","tags","tagChange"],["mat-icon-button","","target","_blank",3,"routerLink",4,"ngIf"],["mat-icon-button","","type","button",3,"click"],[1,"far","fa-trash-alt","fa-fw","fa-lg"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],["mat-icon-button","","target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","fa-fw","fa-lg"],[1,"fas","fa-save","fa-fw","fa-lg"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"h4",0),n.Lc(1,"Importing from the server path"),n.Tb(),n.Ub(2,"mat-form-field",1),n.Ub(3,"input",2),n.cc("ngModelChange",(function(t){return e.newPath=t})),n.Tb(),n.Ub(4,"mat-hint",3),n.Lc(5,"Please specify the folder path that already on the server."),n.Tb(),n.Tb(),n.Ub(6,"mat-checkbox",4),n.cc("ngModelChange",(function(t){return e.directLink=t})),n.Lc(7," Creating soft links directly\n"),n.Tb(),n.Ub(8,"div"),n.Ub(9,"small",5),n.Lc(10,"*Creating soft links directly is fast but you may encounter `file not found` errors in some situations."),n.Tb(),n.Tb(),n.Ub(11,"button",6),n.cc("click",(function(){return e.importFromFolder()})),n.Lc(12,"Import"),n.Tb(),n.Jc(13,ei,30,5,"table",7)),2&t&&(n.Cb(3),n.nc("ngModel",e.newPath),n.Cb(3),n.nc("ngModel",e.directLink),n.Cb(5),n.nc("disabled",!e.newPath),n.Cb(2),n.nc("ngIf",e.importedRecords.length>0))},directives:[r.b,b.a,d.b,d.i,d.l,r.e,g.a,h.b,o.n,F.n,F.c,F.i,F.b,F.k,F.m,F.h,F.a,d.e,T.a,h.a,s.f,F.j,F.l],encapsulation:2,data:{animation:[D]}}),t})();function ni(t,e){1&t&&n.Pb(0,"th",18)}function ai(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",19),n.Ub(1,"div",20),n.Ub(2,"button",21),n.cc("click",(function(){n.Bc(t);const i=e.index;return n.gc(2).removeRecords(i)})),n.Pb(3,"i",22),n.Tb(),n.Tb(),n.Tb()}}function ci(t,e){1&t&&(n.Ub(0,"th",23),n.Lc(1,"Prefix"),n.Tb())}function si(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",19),n.Ub(1,"mat-form-field",24),n.Ub(2,"input",25),n.cc("ngModelChange",(function(i){return n.Bc(t),e.$implicit.prefix=i})),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit;n.Cb(2),n.nc("ngModel",t.prefix)}}function oi(t,e){1&t&&(n.Ub(0,"th",18),n.Lc(1,"DataFile name"),n.Tb())}function li(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",19),n.Ub(1,"mat-form-field",24),n.Ub(2,"input",26),n.cc("ngModelChange",(function(i){return n.Bc(t),e.$implicit.name=i})),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit;n.Cb(2),n.nc("ngModel",t.name)}}function ri(t,e){1&t&&(n.Ub(0,"th",23),n.Lc(1,"Suffix"),n.Tb())}function bi(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",19),n.Ub(1,"mat-form-field",24),n.Ub(2,"input",27),n.cc("ngModelChange",(function(i){return n.Bc(t),e.$implicit.suffix=i})),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit;n.Cb(2),n.nc("ngModel",t.suffix)}}function di(t,e){1&t&&(n.Ub(0,"th",18),n.Lc(1," Status "),n.Tb())}function fi(t,e){1&t&&(n.Ub(0,"span"),n.Ub(1,"span",29),n.Lc(2,"Aborted"),n.Tb(),n.Tb())}function ui(t,e){1&t&&(n.Ub(0,"span"),n.Pb(1,"span",30),n.Lc(2,"Uploading"),n.Tb())}function gi(t,e){1&t&&(n.Ub(0,"span"),n.Ub(1,"span",31),n.Lc(2,"Success"),n.Tb(),n.Tb())}function pi(t,e){1&t&&(n.Ub(0,"span"),n.Ub(1,"span",32),n.Lc(2,"Error"),n.Tb(),n.Tb())}function hi(t,e){if(1&t&&(n.Ub(0,"td",19),n.Jc(1,fi,3,0,"span",28),n.Jc(2,ui,3,0,"span",28),n.Jc(3,gi,3,0,"span",28),n.Jc(4,pi,3,0,"span",28),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t.abort),n.Cb(1),n.nc("ngIf",t.uploading),n.Cb(1),n.nc("ngIf",t.done&&!t.error),n.Cb(1),n.nc("ngIf",t.error)}}function mi(t,e){1&t&&(n.Ub(0,"th",18),n.Lc(1," Tags "),n.Tb())}function Ti(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",19),n.Ub(1,"bdp-tag-input",33),n.cc("tagChange",(function(i){n.Bc(t);const a=e.$implicit;return n.gc(2).onTagChanged(i,a)})),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit,i=n.gc(2);n.Cb(1),n.nc("packages",i.project.packages)("tasks",i.tasks)("tags",t.tags)}}function Ci(t,e){1&t&&(n.Ub(0,"th",18),n.Lc(1," Link "),n.Tb())}const ki=function(t){return["/dataFile",t,"info"]};function Fi(t,e){if(1&t&&(n.Ub(0,"a",35),n.Pb(1,"span",36),n.Tb()),2&t){const t=n.gc().$implicit;n.nc("routerLink",n.rc(1,ki,t.id))}}function Ui(t,e){if(1&t&&(n.Ub(0,"td",19),n.Jc(1,Fi,2,3,"a",34),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t)}}function Di(t,e){1&t&&(n.Ub(0,"th",18),n.Lc(1," Controls "),n.Tb())}function xi(t,e){if(1&t&&(n.Ub(0,"a",35),n.Pb(1,"span",36),n.Tb()),2&t){const t=n.gc().$implicit;n.nc("routerLink",n.rc(1,ki,t.id))}}function wi(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",40),n.cc("click",(function(){n.Bc(t);const e=n.gc().$implicit;return n.gc(2).onUpdateDataFile(e)})),n.Pb(1,"i",41),n.Tb()}if(2&t){const t=n.gc().$implicit,e=n.gc(2);n.nc("disabled",e.updatingIndicator[t.id])}}function vi(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",19),n.Jc(1,xi,2,3,"a",34),n.Ub(2,"button",37),n.cc("click",(function(){n.Bc(t);const i=e.$implicit;return n.gc(2).onDeleteDataFile(i.id)})),n.Pb(3,"i",38),n.Tb(),n.Jc(4,wi,2,1,"button",39),n.Tb()}if(2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf",t),n.Cb(3),n.nc("ngIf",3!==t.status)}}function Ii(t,e){1&t&&n.Pb(0,"tr",42)}function yi(t,e){if(1&t){const t=n.Vb();n.Ub(0,"tr",43),n.cc("@highlightRows.done",(function(i){n.Bc(t);const a=e.$implicit;return n.gc(2).resetState(i,a)})),n.Tb()}if(2&t){const t=e.$implicit,i=n.gc(2);n.nc("@highlightRows",t&&i.highlightController[t.id]?"active":"inactive")}}const Li=function(){return["deleteIcon","DataFilePrefix","DataFileName","DataFileSuffix","tags","controls"]};function Ji(t,e){if(1&t&&(n.Ub(0,"table",4),n.Sb(1,5),n.Jc(2,ni,1,0,"th",6),n.Jc(3,ai,4,0,"td",7),n.Rb(),n.Sb(4,8),n.Jc(5,ci,2,0,"th",9),n.Jc(6,si,3,1,"td",7),n.Rb(),n.Sb(7,10),n.Jc(8,oi,2,0,"th",6),n.Jc(9,li,3,1,"td",7),n.Rb(),n.Sb(10,11),n.Jc(11,ri,2,0,"th",9),n.Jc(12,bi,3,1,"td",7),n.Rb(),n.Sb(13,12),n.Jc(14,di,2,0,"th",6),n.Jc(15,hi,5,4,"td",7),n.Rb(),n.Sb(16,13),n.Jc(17,mi,2,0,"th",6),n.Jc(18,Ti,2,3,"td",7),n.Rb(),n.Sb(19,14),n.Jc(20,Ci,2,0,"th",6),n.Jc(21,Ui,2,1,"td",7),n.Rb(),n.Sb(22,15),n.Jc(23,Di,2,0,"th",6),n.Jc(24,vi,5,2,"td",7),n.Rb(),n.Jc(25,Ii,1,0,"tr",16),n.Jc(26,yi,1,1,"tr",17),n.Tb()),2&t){const t=n.gc();n.nc("dataSource",t.addedFolders),n.Cb(25),n.nc("matHeaderRowDef",n.qc(3,Li)),n.Cb(1),n.nc("matRowDefColumns",n.qc(4,Li))}}let Pi=(()=>{class t{constructor(t,e){this.projectService=t,this.infoService=e,this.navigateDataFile=new n.o,this.deleteDataFile=new n.o,this.updateDataFile=new n.o,this._subs=[]}ngOnInit(){this.highlightController={},this.updatingIndicator={},this.addedFolders=[],this._subs.push(this.infoService.incomingDataChange$.subscribe(t=>{if("update"===t.type&&"DataFile"===t.target){const e=t.data;for(let t=0;t<this.addedFolders.length;t++){const i=this.addedFolders[t];if(i&&e.id===i.id){i.prefix=e.prefix,i.name=e.name,i.suffix=e.suffix,i.desc=e.desc,i.tags=e.tags,this.highlightController[e.id]=!0;break}}}else if("remove"===t.type&&"DataFile"===t.target)for(let e=0;e<this.addedFolders.length;e++){const i=this.addedFolders[e];if(i&&i.id===t.data.id){this.removeRecords(e);break}}}))}createFolder(){this.projectService.createFolder(this.project.id,this.name,this.desc,this.prefix,this.suffix,this.tags,this.folder,this.keepFileName).subscribe(t=>{t.isError||(this.addedFolders.push(t.success),this.addedFolderTable&&this.addedFolderTable.renderRows())})}removeRecords(t){console.log(t),this.addedFolders.splice(t,1),this.addedFolderTable.renderRows()}resetState(t,e){e.id&&(delete this.highlightController[e.id],setTimeout(()=>{delete this.updatingIndicator[e.id]},1e3))}onTagChanged(t,e){e.tags=t}onUpdateDataFile(t){this.updatingIndicator[t.id]=!0,this.updateDataFile.emit(t)}onDeleteDataFile(t){for(let e=0;e<this.addedFolders.length;e++)if(this.addedFolders[e].id===t){this.addedFolders.splice(e,1);break}this.addedFolderTable.renderRows(),this.deleteDataFile.emit(t)}ngOnDestroy(){this._subs.map(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(c.a),n.Ob(w.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["chi-add-folder"]],viewQuery:function(t,e){var i;1&t&&n.Rc(F.n,!0),2&t&&n.xc(i=n.dc())&&(e.addedFolderTable=i.first)},inputs:{project:"project",allowedExtensions:"allowedExtensions",folder:"folder",keepFileName:"keepFileName",tags:"tags",name:"name",desc:"desc",prefix:"prefix",suffix:"suffix",tasks:"tasks"},outputs:{navigateDataFile:"navigateDataFile",deleteDataFile:"deleteDataFile",updateDataFile:"updateDataFile"},decls:5,vars:1,consts:[[1,"p-3"],["mat-raised-button","","color","primary",1,"mt-3",3,"click"],[1,"fas","fa-folder-plus","mr-3","fa-fw","fa-lg"],["mat-table","","style","width: 100%;","multiTemplateDataRows","",3,"dataSource",4,"ngIf"],["mat-table","","multiTemplateDataRows","",2,"width","100%",3,"dataSource"],["matColumnDef","deleteIcon"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","px-2",4,"matCellDef"],["matColumnDef","DataFilePrefix"],["mat-header-cell","","style","width: 80px;",4,"matHeaderCellDef"],["matColumnDef","DataFileName"],["matColumnDef","DataFileSuffix"],["matColumnDef","status"],["matColumnDef","tags"],["matColumnDef","link"],["matColumnDef","controls"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"px-2"],[1,"d-flex","justify-content-center","align-items-center"],["mat-icon-button","","color","accent",3,"click"],[1,"fas","fa-times","fa-fw","fa-lg"],["mat-header-cell","",2,"width","80px"],[2,"width","100%"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix for the data file",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix for the data file",3,"ngModel","ngModelChange"],[4,"ngIf"],["aria-hidden","true",1,"fas","fa-times","fa-fw","text-muted"],[1,"fas","fa-spin","fa-circle-o-notch","fa-fw"],["aria-hidden","true",1,"fas","fa-check","fa-fw","text-success"],["aria-hidden","true",1,"fas","fa-times","fa-fw","text-danger"],[3,"packages","tasks","tags","tagChange"],["mat-icon-button","","target","_blank",3,"routerLink",4,"ngIf"],["mat-icon-button","","target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","fa-fw","fa-lg"],["mat-icon-button","","type","button",3,"click"],[1,"far","fa-trash-alt","fa-fw","fa-lg"],["mat-icon-button","","type","button",3,"disabled","click",4,"ngIf"],["mat-icon-button","","type","button",3,"disabled","click"],[1,"fas","fa-save","fa-fw","fa-lg"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"button",1),n.cc("click",(function(){return e.createFolder()})),n.Pb(2,"span",2),n.Lc(3,"Add an empty folder "),n.Tb(),n.Jc(4,Ji,27,5,"table",3),n.Tb()),2&t&&(n.Cb(4),n.nc("ngIf",e.addedFolders.length>0))},directives:[h.b,o.n,F.n,F.c,F.i,F.b,F.k,F.m,F.h,F.a,r.b,b.a,d.b,d.e,d.i,d.l,T.a,h.a,s.f,F.j,F.l],encapsulation:2,data:{animation:[D]}}),t})();function Si(t,e){if(1&t&&(n.Ub(0,"div",34),n.Pb(1,"h1",35),n.Ub(2,"button",36),n.Ub(3,"mat-icon"),n.Lc(4,"close"),n.Tb(),n.Tb(),n.Tb()),2&t){const t=n.gc(2);n.Cb(1),n.nc("innerHTML",t.title,n.Cc)}}function Oi(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",5),n.Ub(1,"bdp-tag-input",37),n.cc("tagChange",(function(e){return n.Bc(t),n.gc(2).onTagChanged(e)})),n.Tb(),n.Tb()}if(2&t){const t=n.gc(2);n.Cb(1),n.nc("packages",t.project.packages)("tasks",t.tasks)("tags",t.tags)}}function Ri(t,e){if(1&t&&(n.Ub(0,"mat-option",24),n.Ub(1,"u",4),n.Lc(2),n.Tb(),n.Lc(3),n.Ub(4,"u",4),n.Lc(5),n.Tb(),n.Tb()),2&t){const t=e.$implicit;n.nc("value",t.id),n.Cb(2),n.Mc(t.prefix),n.Cb(1),n.Mc(t.name),n.Cb(2),n.Mc(t.suffix)}}function Mi(t,e){1&t&&(n.Sb(0),n.Ub(1,"span",38),n.Lc(2,"All extensions"),n.Tb(),n.Rb())}function ji(t,e){if(1&t&&(n.Ub(0,"span",40),n.Lc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.Mc(t)}}function $i(t,e){if(1&t&&n.Jc(0,ji,2,1,"span",39),2&t){const t=n.gc(2);n.nc("ngForOf",t.allowedFormats)}}function Bi(t,e){1&t&&(n.Ub(0,"div",41),n.Ub(1,"div",42),n.Ub(2,"span",43),n.Lc(3,"No valid extensions!"),n.Pb(4,"br"),n.Lc(5,"You might want to check if you have specify packages for this project."),n.Tb(),n.Tb(),n.Tb())}function Ei(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Ub(1,"chi-file-uploader",44),n.cc("updateDataFile",(function(e){return n.Bc(t),n.gc(2).onUpdateDataFile(e)}))("navigateDataFile",(function(e){return n.Bc(t),n.gc(2).onNavigateDataFile(e)}))("deleteDataFile",(function(e){return n.Bc(t),n.gc(2).onDeleteDataFile(e)})),n.Tb(),n.Rb()}if(2&t){const t=n.gc(2);n.Cb(1),n.nc("project",t.project)("allowedExtensions",t.allowedFormats)("fileLimits",t.sysConfig.fileLimits)("tasks",t.tasks)("tags",t.tags)("folder",t.parentDataFileID)("keepFileName",t.keepFileName)("name",t.name)("desc",t.desc)("prefix",t.prefix)("suffix",t.suffix)}}function Vi(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Ub(1,"chi-google-picker",45),n.cc("updateDataFile",(function(e){return n.Bc(t),n.gc(2).onUpdateDataFile(e)}))("navigateDataFile",(function(e){return n.Bc(t),n.gc(2).onNavigateDataFile(e)}))("deleteDataFile",(function(e){return n.Bc(t),n.gc(2).onDeleteDataFile(e)})),n.Tb(),n.Rb()}if(2&t){const t=n.gc(2);n.Cb(1),n.nc("project",t.project)("allowedExtensions",t.allowedFormats)("apiKey",t.sysConfig.googlePickerAPIKey)("tasks",t.tasks)("tags",t.tags)("folder",t.parentDataFileID)("keepFileName",t.keepFileName)("name",t.name)("desc",t.desc)("prefix",t.prefix)("suffix",t.suffix)}}function Ai(t,e){if(1&t){const t=n.Vb();n.Ub(0,"chi-path-importer",47),n.cc("updateDataFile",(function(e){return n.Bc(t),n.gc(3).onUpdateDataFile(e)}))("navigateDataFile",(function(e){return n.Bc(t),n.gc(3).onNavigateDataFile(e)}))("deleteDataFile",(function(e){return n.Bc(t),n.gc(3).onDeleteDataFile(e)})),n.Tb()}if(2&t){const t=n.gc(3);n.nc("project",t.project)("allowedExtensions",t.allowedFormats)("tasks",t.tasks)("tags",t.tags)("folder",t.parentDataFileID)("keepFileName",t.keepFileName)("name",t.name)("desc",t.desc)("prefix",t.prefix)("suffix",t.suffix)}}function Ni(t,e){if(1&t&&(n.Sb(0),n.Jc(1,Ai,1,10,"chi-path-importer",46),n.Rb()),2&t){const t=n.gc(2);n.Cb(1),n.nc("ngIf",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp&&t.currentUser.auths.bdp>=3)}}function _i(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Ub(1,"chi-add-folder",47),n.cc("updateDataFile",(function(e){return n.Bc(t),n.gc(2).onUpdateDataFile(e)}))("navigateDataFile",(function(e){return n.Bc(t),n.gc(2).onNavigateDataFile(e)}))("deleteDataFile",(function(e){return n.Bc(t),n.gc(2).onDeleteDataFile(e)})),n.Tb(),n.Rb()}if(2&t){const t=n.gc(2);n.Cb(1),n.nc("project",t.project)("allowedExtensions",t.allowedFormats)("tasks",t.tasks)("tags",t.tags)("folder",t.parentDataFileID)("keepFileName",t.keepFileName)("name",t.name)("desc",t.desc)("prefix",t.prefix)("suffix",t.suffix)}}function zi(t,e){1&t&&(n.Ub(0,"div",41),n.Ub(1,"span",43),n.Lc(2,"No valid extensions!"),n.Pb(3,"br"),n.Lc(4,"You might want to check if you have specify packages for this project."),n.Tb(),n.Tb())}function Hi(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Jc(1,Si,5,1,"div",1),n.Ub(2,"div",2),n.Ub(3,"div",3),n.Ub(4,"strong"),n.Lc(5,"1. Specify file information (optional)"),n.Tb(),n.Pb(6,"br"),n.Ub(7,"small",4),n.Lc(8,"*You may specify the basic information latter."),n.Tb(),n.Pb(9,"br"),n.Ub(10,"small",4),n.Lc(11,"*All files will be uploaded with the information"),n.Tb(),n.Tb(),n.Ub(12,"div",5),n.Ub(13,"mat-form-field",6),n.Ub(14,"input",7),n.cc("ngModelChange",(function(e){return n.Bc(t),n.gc().prefix=e})),n.Tb(),n.Ub(15,"span",8),n.Lc(16,"Prefix: "),n.Tb(),n.Tb(),n.Ub(17,"mat-form-field",6),n.Ub(18,"input",9),n.cc("ngModelChange",(function(e){return n.Bc(t),n.gc().suffix=e})),n.Tb(),n.Ub(19,"span",8),n.Lc(20,"Suffix: "),n.Tb(),n.Tb(),n.Ub(21,"mat-form-field",10),n.Ub(22,"input",11),n.cc("ngModelChange",(function(e){return n.Bc(t),n.gc().name=e})),n.Tb(),n.Ub(23,"b",12),n.Lc(24,"Name: "),n.Tb(),n.Ub(25,"span",13),n.Pb(26,"u",14),n.Tb(),n.Ub(27,"span",15),n.Pb(28,"u",14),n.Tb(),n.Ub(29,"mat-hint",16),n.Lc(30,"Leave it blank if using the original file name(s)."),n.Tb(),n.Ub(31,"mat-hint",17),n.Lc(32,"Max 80 characters"),n.Tb(),n.Tb(),n.Ub(33,"mat-form-field",10),n.Ub(34,"textarea",18),n.cc("ngModelChange",(function(e){return n.Bc(t),n.gc().desc=e})),n.Lc(35),n.Tb(),n.Ub(36,"mat-hint",16),n.Lc(37,"You may specify the description latter."),n.Tb(),n.Ub(38,"mat-hint",17),n.Lc(39,"Max 300 characters"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(40,"div",2),n.Ub(41,"div",3),n.Ub(42,"strong"),n.Lc(43,"2. Define tags for your files (optional)"),n.Tb(),n.Pb(44,"br"),n.Ub(45,"small",4),n.Lc(46,"*You may also specify tags for your files."),n.Tb(),n.Tb(),n.Jc(47,Oi,2,3,"div",19),n.Tb(),n.Ub(48,"div",2),n.Ub(49,"div",3),n.Ub(50,"strong"),n.Lc(51,"3. Set a folder to upload (optional)"),n.Tb(),n.Pb(52,"br"),n.Ub(53,"small",4),n.Lc(54,"*Only needed when your expect your files in a folder."),n.Tb(),n.Tb(),n.Ub(55,"div",5),n.Ub(56,"mat-form-field",10),n.Ub(57,"mat-select",20),n.cc("ngModelChange",(function(e){return n.Bc(t),n.gc().parentDataFileID=e})),n.Ub(58,"mat-option"),n.Lc(59,"--- No folder ---"),n.Tb(),n.Jc(60,Ri,6,4,"mat-option",21),n.Tb(),n.Tb(),n.Ub(61,"mat-checkbox",22),n.cc("ngModelChange",(function(e){return n.Bc(t),n.gc().keepFileName=e})),n.Lc(62,"Keep the underlying filename in the folder"),n.Tb(),n.Pb(63,"br"),n.Ub(64,"small",4),n.Lc(65,"*Note: The uploading will fail if the filename already exists in the folder"),n.Tb(),n.Tb(),n.Tb(),n.Ub(66,"div",2),n.Ub(67,"div",3),n.Ub(68,"strong"),n.Lc(69,"4. Specify the file source"),n.Tb(),n.Tb(),n.Ub(70,"div",5),n.Ub(71,"mat-button-toggle-group",23),n.cc("ngModelChange",(function(e){return n.Bc(t),n.gc().onImportTypeChanged(e)})),n.Ub(72,"mat-button-toggle",24),n.Pb(73,"i",25),n.Lc(74," Your Computer "),n.Tb(),n.Ub(75,"mat-button-toggle",24),n.Pb(76,"i",26),n.Lc(77," Add a folder "),n.Tb(),n.Ub(78,"mat-button-toggle",24),n.Pb(79,"i",27),n.Lc(80," Google Drive "),n.Tb(),n.Ub(81,"mat-button-toggle",24),n.Pb(82,"i",28),n.Lc(83," Server Path "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(84,"div",2),n.Ub(85,"div",3),n.Ub(86,"strong"),n.Lc(87,"5. Upload and set files"),n.Tb(),n.Pb(88,"br"),n.Tb(),n.Ub(89,"div",5),n.Lc(90," The Valid file extensions: "),n.Jc(91,Mi,3,0,"ng-container",29),n.Jc(92,$i,1,1,"ng-template",null,30,n.Kc),n.Tb(),n.Jc(94,Bi,6,0,"div",31),n.Ub(95,"div",32),n.Jc(96,Ei,2,11,"ng-container",33),n.Jc(97,Vi,2,11,"ng-container",33),n.Jc(98,Ni,2,1,"ng-container",33),n.Jc(99,_i,2,10,"ng-container",33),n.Tb(),n.Jc(100,zi,5,0,"div",31),n.Tb(),n.Rb()}if(2&t){const t=n.yc(93),e=n.gc();n.Cb(1),n.nc("ngIf",e.dialogRef),n.Cb(13),n.nc("ngModel",e.prefix),n.Cb(4),n.nc("ngModel",e.suffix),n.Cb(4),n.nc("ngModel",e.name),n.Cb(4),n.nc("innerHTML",e.prefix,n.Cc),n.Cb(2),n.nc("innerHTML",e.suffix,n.Cc),n.Cb(6),n.nc("ngModel",e.desc),n.Cb(1),n.Mc(e.desc),n.Cb(12),n.nc("ngIf",e.project&&e.project.packages.length>0),n.Cb(10),n.nc("ngModel",e.parentDataFileID),n.Cb(3),n.nc("ngForOf",e.folders),n.Cb(1),n.nc("ngModel",e.keepFileName)("disabled",!e.parentDataFileID),n.Cb(10),n.nc("ngModel",e.importType),n.Cb(1),n.nc("value","local"),n.Cb(3),n.nc("value","folder"),n.Cb(3),n.nc("value","google"),n.Cb(3),n.nc("value","server"),n.Cb(10),n.nc("ngIf",e.allowedFormats.indexOf("*")>=0)("ngIfElse",t),n.Cb(3),n.nc("ngIf",0==e.allowedFormats.length),n.Cb(1),n.nc("ngSwitch",e.importType),n.Cb(1),n.nc("ngSwitchCase","local"),n.Cb(1),n.nc("ngSwitchCase","google"),n.Cb(1),n.nc("ngSwitchCase","server"),n.Cb(1),n.nc("ngSwitchCase","folder"),n.Cb(1),n.nc("ngIf",0==e.allowedFormats.length)}}function qi(t,e){1&t&&(n.Ub(0,"mat-dialog-actions"),n.Ub(1,"button",48),n.Ub(2,"mat-icon"),n.Lc(3,"close"),n.Tb(),n.Lc(4," Close"),n.Tb(),n.Tb())}let Ki=(()=>{class t{constructor(t,e,i,a){this.projectService=t,this.router=e,this.dialogRef=i,this.data=a,this.importTypeChanged=new n.o,this.keepFileName=!0,this._subs=[],this.tags=[],a?(this.project=a.project,this.allowedFormats=a.allowedFormats.indexOf("*")>=0?["*"]:a.allowedFormats,this.sysConfig=a.sysConfig,this.importType=a.importType||"local",this.tasks=a.tasks,this.parentDataFileID=a.parentDataFileID||"",this.currentUser=a.currentUser,this.name=a.name||"",this.desc=a.desc||"",this.prefix=a.prefix||"",this.suffix=a.suffix||"",this.title=a.title||"Import data files "+(a.project&&a.project.name?`to the project: ${a.project.name}.`:""),this.tags=Array.isArray(a.tags)?a.tags:[],console.log(this.tags)):(this.allowedFormats=[],this.tasks=[],this.prefix="",this.suffix="",this.desc="",this.name="",this.parentDataFileID="",this.importType="local",this.tags=[],this.title="")}ngOnInit(){}get folders(){return this.project&&this.project.dataFiles?this.project.dataFiles.filter(t=>"Folder"===t.format):[]}onImportTypeChanged(t){this.importType=t,this.importTypeChanged.emit(t)}onTagChanged(t){console.log(t),this.tags=t}onUpdateDataFile(t){const e=this.projectService.updateDataFileInfo(t).subscribe(()=>e.unsubscribe())}onDeleteDataFile(t){const e=this.projectService.deleteDataFileById(t).subscribe(()=>e.unsubscribe())}onNavigateDataFile(t){this.dialogRef&&this.dialogRef.close(),this.router.navigate(["/dataFile",t,"info"])}ngOnDestroy(){this._subs.map(t=>t&&t.unsubscribe?t.unsubscribe():"")}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(c.a),n.Ob(s.c),n.Ob(a.g,8),n.Ob(a.a,8))},t.\u0275cmp=n.Ib({type:t,selectors:[["bdp-file-importer"]],inputs:{allowedFormats:"allowedFormats",project:"project",sysConfig:"sysConfig",importType:"importType",tasks:"tasks",currentUser:"currentUser",name:"name",desc:"desc",prefix:"prefix",suffix:"suffix",keepFileName:"keepFileName",title:"title",tags:"tags",parentDataFileID:"parentDataFileID"},outputs:{importTypeChanged:"importTypeChanged"},decls:3,vars:2,consts:[[4,"ngIf"],["class","d-flex flex-row justify-content-between",4,"ngIf"],[1,"row","my-5"],[1,"col-lg-2","col-xl-3"],[1,"text-muted"],[1,"col-lg-10","col-xl-9"],[2,"width","50%"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix for the data file(s)",3,"ngModel","ngModelChange"],["matPrefix","",1,"mr-2"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix for the data file(s)",3,"ngModel","ngModelChange"],[2,"width","100%"],["matInput","","type","text","maxlength","80","size","80","placeholder","The name for the data file(s)",3,"ngModel","ngModelChange"],["matPrefix","",1,"mr-2","text-primary"],["matPrefix",""],[1,"text-muted",2,"white-space","pre",3,"innerHTML"],["matSuffix",""],["align","start"],["align","end"],["matInput","","placeholder","The description for the data file(s). (max length: 300 characters)","maxlength","300","rows","4",3,"ngModel","ngModelChange"],["class","col-lg-10 col-xl-9",4,"ngIf"],["placeholder","select a folder to import",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","disabled","ngModelChange"],["name","fileSource","aria-label","File Source",1,"ml-3",3,"ngModel","ngModelChange"],[3,"value"],[1,"far","fa-hdd","fa-fw","mr-2"],[1,"fas","fa-folder-plus","fa-fw","mr-2"],[1,"fab","fa-google-drive","fa-fw","mr-2"],[1,"fas","fa-server","fa-fw","mr-2"],[4,"ngIf","ngIfElse"],["extBlock",""],["class","col-12",4,"ngIf"],[1,"col-12",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"d-flex","flex-row","justify-content-between"],["mat-dialog-title","",2,"font-weight","800",3,"innerHTML"],["mat-icon-button","","mat-dialog-close",""],[3,"packages","tasks","tags","tagChange"],[1,"badge","badge-success","mx-1"],["class","badge badge-primary mx-1",4,"ngFor","ngForOf"],[1,"badge","badge-primary","mx-1"],[1,"col-12"],[1,"ml-3"],[1,"text-danger"],[3,"project","allowedExtensions","fileLimits","tasks","tags","folder","keepFileName","name","desc","prefix","suffix","updateDataFile","navigateDataFile","deleteDataFile"],[3,"project","allowedExtensions","apiKey","tasks","tags","folder","keepFileName","name","desc","prefix","suffix","updateDataFile","navigateDataFile","deleteDataFile"],[3,"project","allowedExtensions","tasks","tags","folder","keepFileName","name","desc","prefix","suffix","updateDataFile","navigateDataFile","deleteDataFile",4,"ngIf"],[3,"project","allowedExtensions","tasks","tags","folder","keepFileName","name","desc","prefix","suffix","updateDataFile","navigateDataFile","deleteDataFile"],["mat-stroked-button","","mat-dialog-close",""]],template:function(t,e){1&t&&(n.Jc(0,Hi,101,27,"ng-container",0),n.Pb(1,"mat-divider"),n.Jc(2,qi,5,0,"mat-dialog-actions",0)),2&t&&(n.nc("ngIf",e.project&&e.currentUser),n.Cb(2),n.nc("ngIf",e.dialogRef))},directives:[o.n,l.a,r.b,b.a,d.b,d.e,d.i,d.l,r.f,r.g,r.e,f.a,u.k,o.m,g.a,p.b,p.a,o.p,o.q,a.h,h.b,a.d,m.a,T.a,yt,ve,ii,Pi,a.c],encapsulation:2}),t})()},I7HA:function(t,e,i){"use strict";i.d(e,"a",(function(){return z}));var n=i("fXoL"),a=i("+mqT"),c=i("FtGj"),s=i("0IaG"),o=i("ofXK"),l=i("f0Cb"),r=i("kmnG"),b=i("d3UM"),d=i("3Pt+"),f=i("bTqV"),u=i("A5z7"),g=i("NFeN"),p=i("FKr1");function h(t,e){1&t&&(n.Ub(0,"mat-icon",27),n.Lc(1,"cancel"),n.Tb())}function m(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-chip",25),n.cc("removed",(function(){n.Bc(t);const i=e.$implicit;return n.gc(2).toggleTag(i)})),n.Lc(1),n.Jc(2,h,2,0,"mat-icon",26),n.Tb()}if(2&t){const t=e.$implicit,i=n.gc(2);n.nc("removable",!0)("selectable",!1),n.Cb(1),n.Nc(" ",t," "),n.Cb(1),n.nc("ngIf",i.tags.indexOf(t)>=0&&"Folder"!==t)}}function T(t,e){if(1&t&&(n.Ub(0,"div",21),n.Ub(1,"h3"),n.Lc(2,"Current selected tags: "),n.Tb(),n.Ub(3,"mat-chip-list",22,23),n.Jc(5,m,3,4,"mat-chip",24),n.Tb(),n.Tb()),2&t){const t=n.gc();n.Cb(3),n.nc("selectable",!1),n.Cb(2),n.nc("ngForOf",t.tags)}}function C(t,e){if(1&t&&(n.Ub(0,"mat-option",28),n.Ub(1,"b"),n.Lc(2),n.Tb(),n.Tb()),2&t){const t=e.$implicit;n.nc("value",t),n.Cb(2),n.Mc(null==t?null:t.name)}}function k(t,e){if(1&t&&(n.Ub(0,"div"),n.Lc(1," Package name: "),n.Ub(2,"b"),n.Lc(3),n.Tb(),n.Pb(4,"br"),n.Lc(5," Package description: "),n.Pb(6,"div",29),n.Tb()),2&t){const t=n.gc();n.Cb(3),n.Mc(t.selectedPackage.name),n.Cb(3),n.nc("innerHTML",t.selectedPackage.desc,n.Cc)}}function F(t,e){1&t&&n.Pb(0,"i",37)}function U(t,e){1&t&&n.Pb(0,"i",38)}function D(t,e){1&t&&n.Pb(0,"i",39)}function x(t,e){1&t&&n.Pb(0,"i",40)}function w(t,e){if(1&t&&(n.Ub(0,"mat-option",31),n.Jc(1,F,1,0,"i",32),n.Jc(2,U,1,0,"i",33),n.Jc(3,D,1,0,"i",34),n.Jc(4,x,1,0,"i",35),n.Ub(5,"b",36),n.Lc(6),n.Tb(),n.Tb()),2&t){const t=e.$implicit;n.nc("value",t),n.Cb(1),n.nc("ngIf","workflow"==t.type),n.Cb(1),n.nc("ngIf","standard"==t.type),n.Cb(1),n.nc("ngIf","child"==t.type),n.Cb(1),n.nc("ngIf","system"==t.type),n.Cb(2),n.Mc(null==t?null:t.name)}}function v(t,e){if(1&t&&(n.Sb(0),n.Jc(1,w,7,6,"mat-option",30),n.Rb()),2&t){const t=n.gc();n.Cb(1),n.nc("ngForOf",t.taskPkgDict[t.selectedPackage.id])}}function I(t,e){if(1&t&&(n.Ub(0,"div"),n.Lc(1," Task name: "),n.Ub(2,"b"),n.Lc(3),n.Tb(),n.Pb(4,"br"),n.Lc(5," Task description: "),n.Pb(6,"div",29),n.Pb(7,"br"),n.Tb()),2&t){const t=n.gc();n.Cb(3),n.Mc(t.selectedTask.name),n.Cb(3),n.nc("innerHTML",t.selectedTask.desc,n.Cc)}}function y(t,e){if(1&t&&(n.Ub(0,"mat-option",42),n.Pb(1,"i",43),n.Ub(2,"b"),n.Lc(3),n.Tb(),n.Tb()),2&t){const t=n.gc().$implicit,e=n.gc();n.Ic("background-color","outFile"===t.type?"#28a745":"#047AFB"),n.nc("value",t),n.Cb(1),n.nc("ngClass",e.cssArgTypeToIcon(t)),n.Cb(2),n.Mc(t.name+" "+("inFile"===t.type?"(input)":"(output)"))}}function L(t,e){if(1&t&&(n.Sb(0),n.Jc(1,y,4,5,"mat-option",41),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.nc("ngIf","inFile"===t.type||"outFile"===t.type)}}function J(t,e){if(1&t&&(n.Ub(0,"div"),n.Lc(1," Argument name: "),n.Ub(2,"b"),n.Lc(3),n.Tb(),n.Pb(4,"br"),n.Lc(5," Argument description: "),n.Pb(6,"div",29),n.Pb(7,"br"),n.Tb()),2&t){n.gc();const t=n.yc(27);n.Cb(3),n.Mc(null==t||null==t.selected?null:t.selected.value.name),n.Cb(3),n.nc("innerHTML",null==t||null==t.selected?null:t.selected.value.desc,n.Cc)}}function P(t,e){1&t&&(n.Ub(0,"mat-icon",27),n.Lc(1,"add_circle"),n.Tb())}function S(t,e){1&t&&(n.Ub(0,"mat-icon",27),n.Pb(1,"i",46),n.Tb())}function O(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Ub(1,"mat-chip",45),n.cc("removed",(function(){n.Bc(t);const i=e.$implicit;return n.gc(2).toggleTag(i)})),n.Lc(2),n.Jc(3,P,2,0,"mat-icon",26),n.Jc(4,S,2,0,"mat-icon",26),n.Tb(),n.Rb()}if(2&t){const t=e.$implicit,i=n.gc(2);n.Cb(1),n.nc("selectable",!1),n.Cb(1),n.Nc(" ",t," "),n.Cb(1),n.nc("ngIf",i.tags.indexOf(t)<0&&"Folder"!==t),n.Cb(1),n.nc("ngIf",i.tags.indexOf(t)>=0&&"Folder"!==t)}}function R(t,e){if(1&t&&(n.Ub(0,"div",44),n.Ub(1,"h2"),n.Lc(2,"Suggested tags:"),n.Tb(),n.Ub(3,"mat-chip-list"),n.Jc(4,O,5,4,"ng-container",15),n.Tb(),n.Tb()),2&t){n.gc();const t=n.yc(27);n.Cb(4),n.nc("ngForOf",null==t||null==t.selected?null:t.selected.value.tags)}}function M(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",47),n.cc("click",(function(){n.Bc(t);const e=n.gc(),i=n.yc(27);return e.addAllTags(null==i||null==i.selected?null:i.selected.value.tags)})),n.Lc(1," Add all suggested tags "),n.Tb()}}function j(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",48),n.cc("click",(function(){n.Bc(t);const e=n.gc(),i=n.yc(27);return e.removeAllTags(null==i||null==i.selected?null:i.selected.value.tags)})),n.Lc(1," Remove all suggested tags "),n.Tb()}}let $=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.tagToggleEvent=new n.o,e?(this.packages=e.packages||[],this.taskPkgDict=e.taskPkgDict||{},this.tags=e.tags||[]):(this.packages=[],this.taskPkgDict={},this.tags=[])}ngOnInit(){this.packages[0]&&(this.selectedPackage=this.packages[0],this.selectedTask=Array.isArray(this.taskPkgDict[this.selectedPackage.id])?this.taskPkgDict[this.selectedPackage.id][0]:void 0)}onPackageSelctChange(t){this.selectedPackage=t,setTimeout(()=>this.selectedTask=Array.isArray(this.taskPkgDict[t.id])?this.taskPkgDict[t.id][0]:void 0)}toggleTag(t){"Folder"!==t&&this.tagToggleEvent.emit(t)}addAllTags(t){t.filter(t=>this.tags.indexOf(t)<0).forEach(t=>this.toggleTag(t))}removeAllTags(t){t.filter(t=>this.tags.indexOf(t)>=0).forEach(t=>this.toggleTag(t))}cssArgTypeToIcon(t){if(t&&t.type)return{"fa-file-import":"inFile"===t.type,"fa-file-export":"outFile"===t.type}}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(s.g),n.Ob(s.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["bdp-tag-helper-dialog"]],inputs:{packages:"packages",taskPkgDict:"taskPkgDict",tags:"tags"},outputs:{tagToggleEvent:"tagToggleEvent"},decls:37,vars:12,consts:[["mat-dialog-title",""],[1,"container-fluid"],[1,"row"],["class","col-12",4,"ngIf"],[1,"my-2"],[1,"row","mt-3"],[1,"col-lg-4"],[2,"width","100%"],["placeholder","Please select the package",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Please select the desired task",3,"ngModel","ngModelChange"],["taskSelect",""],["placeholder","Please select the input"],["inputFileSelect",""],[4,"ngFor","ngForOf"],["class","col-12 my-3","style","border-left: 1px solid black",4,"ngIf"],["mat-dialog-actions","",1,"my-3"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"col-12"],[3,"selectable"],["tagList",""],[3,"removable","selectable","removed",4,"ngFor","ngForOf"],[3,"removable","selectable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],[3,"innerHTML"],["class","text-black","style","background-color: #ffc107",3,"value",4,"ngFor","ngForOf"],[1,"text-black",2,"background-color","#ffc107",3,"value"],["class","fas fa-cogs fa-fw mr-1",4,"ngIf"],["class","fas fa-cog fa-fw mr-1",4,"ngIf"],["class","fas fa-puzzle-piece fa-fw mr-1",4,"ngIf"],["class","fas fa-server fa-fw mr-1",4,"ngIf"],[1,"ml-3"],[1,"fas","fa-cogs","fa-fw","mr-1"],[1,"fas","fa-cog","fa-fw","mr-1"],[1,"fas","fa-puzzle-piece","fa-fw","mr-1"],[1,"fas","fa-server","fa-fw","mr-1"],["class","text-white",3,"value","background-color",4,"ngIf"],[1,"text-white",3,"value"],[1,"fas",3,"ngClass"],[1,"col-12","my-3",2,"border-left","1px solid black"],[3,"selectable","removed"],[1,"far","fa-check-circle","fa-fw","text-success"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){if(1&t&&(n.Ub(0,"h1",0),n.Lc(1,"DataFile Tag helper"),n.Tb(),n.Ub(2,"div",1),n.Ub(3,"div",2),n.Jc(4,T,6,2,"div",3),n.Tb(),n.Pb(5,"mat-divider",4),n.Ub(6,"div",5),n.Ub(7,"div",6),n.Ub(8,"h3"),n.Lc(9,"1. Whcih package do you plan to use for this file?"),n.Tb(),n.Ub(10,"mat-form-field",7),n.Ub(11,"mat-select",8),n.cc("ngModelChange",(function(t){return e.onPackageSelctChange(t)})),n.Jc(12,C,3,2,"mat-option",9),n.Tb(),n.Tb(),n.Jc(13,k,7,2,"div",10),n.Tb(),n.Ub(14,"div",6),n.Ub(15,"h3"),n.Lc(16,"2. Which task do you like to execute for this file?"),n.Tb(),n.Ub(17,"mat-form-field",7),n.Ub(18,"mat-select",11,12),n.cc("ngModelChange",(function(t){return e.selectedTask=t})),n.Jc(20,v,2,1,"ng-container",10),n.Tb(),n.Tb(),n.Jc(21,I,8,2,"div",10),n.Tb(),n.Ub(22,"div",6),n.Ub(23,"h3"),n.Lc(24,"3. Which input would this file be used as?"),n.Tb(),n.Ub(25,"mat-form-field",7),n.Ub(26,"mat-select",13,14),n.Jc(28,L,2,1,"ng-container",15),n.Tb(),n.Tb(),n.Jc(29,J,8,2,"div",10),n.Tb(),n.Jc(30,R,5,1,"div",16),n.Tb(),n.Pb(31,"mat-divider"),n.Ub(32,"div",17),n.Ub(33,"button",18),n.Lc(34,"Close"),n.Tb(),n.Jc(35,M,2,0,"button",19),n.Jc(36,j,2,0,"button",20),n.Tb(),n.Tb()),2&t){const t=n.yc(19),i=n.yc(27);n.Cb(4),n.nc("ngIf",e.tags.length>0),n.Cb(7),n.nc("ngModel",e.selectedPackage),n.Cb(1),n.nc("ngForOf",e.packages),n.Cb(1),n.nc("ngIf",e.selectedPackage),n.Cb(5),n.nc("ngModel",e.selectedTask),n.Cb(2),n.nc("ngIf",e.selectedPackage),n.Cb(1),n.nc("ngIf",e.selectedTask),n.Cb(7),n.nc("ngForOf",null==t||null==t.selected?null:t.selected.value.arguments),n.Cb(1),n.nc("ngIf",null==i||null==i.selected?null:i.selected.value),n.Cb(1),n.nc("ngIf",null==i||null==i.selected?null:i.selected.value),n.Cb(5),n.nc("ngIf",null==i||null==i.selected?null:i.selected.value.tags),n.Cb(1),n.nc("ngIf",null==i||null==i.selected?null:i.selected.value.tags)}},directives:[s.h,o.n,l.a,r.b,b.a,d.i,d.l,o.m,s.c,f.b,s.d,u.c,u.a,g.a,u.d,p.k,o.l],encapsulation:2}),t})();var B=i("/1cH");function E(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-icon",13),n.cc("click",(function(){n.Bc(t);const e=n.gc().$implicit;return n.gc().removeFromTags(e)})),n.Lc(1,"cancel"),n.Tb()}}function V(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-chip",11),n.cc("click",(function(i){n.Bc(t);const a=e.$implicit;return n.gc().onTagClick(i,a)})),n.Lc(1),n.Jc(2,E,2,0,"mat-icon",12),n.Tb()}if(2&t){const t=e.$implicit,i=n.gc();n.nc("color",i.highlightTags.indexOf(t)>=0?"primary":"default")("removable",!0)("selected",!0),n.Cb(1),n.Nc(" ",t," "),n.Cb(1),n.nc("ngIf",!i.disabled&&"Folder"!==t)}}function A(t,e){1&t&&(n.Ub(0,"mat-hint",14),n.Lc(1,"Valid characters: a-z, dash (-), and underline (_)."),n.Tb())}function N(t,e){if(1&t&&(n.Ub(0,"mat-option",15),n.Lc(1),n.Tb()),2&t){const t=e.$implicit;n.nc("value",t),n.Cb(1),n.Nc(" ",t," ")}}function _(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",16),n.cc("click",(function(){return n.Bc(t),n.gc().openTagHelperDialog()})),n.Ub(1,"mat-icon"),n.Pb(2,"i",17),n.Tb(),n.Tb()}}let z=(()=>{class t{constructor(t){this.dialogRef=t,this.tagChange=new n.o,this.tagClicked=new n.o,this.separatorKeysCodes=[c.g,c.c],this.highlightTags=[],this.filteredTags=[],this.tags=[],this.tasks=[],this.taskPkgDict={},this.validTags=[]}ngOnInit(){}ngOnChanges(t){for(const e in t)"packages"===e?this.packages=t[e].currentValue:"tasks"===e?(this.tasks=t[e].currentValue,this.updatePkgTaskDict()):"tags"===e?Array.isArray(t[e].currentValue)&&(this.tags=[],t[e].currentValue.forEach(t=>this.addTag(t,!0))):"disabled"===e&&(this.disabled=t[e].currentValue)}updatePkgTaskDict(){if(this.taskPkgDict={},Array.isArray(this.tasks)){for(let t=0;t<this.tasks.length;t++){const e=this.tasks[t],i=e.package&&e.package.id?e.package.id:null;i&&(Array.isArray(this.taskPkgDict[i])||(this.taskPkgDict[i]=[]),this.taskPkgDict[i].push(e))}Object.keys(this.taskPkgDict).forEach(t=>this.taskPkgDict[t]=Object(a.a)(this.taskPkgDict[t],[t=>t.name],["asc"])),this.validTags=this.getValidTags(this.tasks)}}getValidTags(t){const e={};return t.forEach(t=>[...new Set([].concat.apply([],t.arguments.filter(t=>"inFile"===t.type||"outFile"===t.type).map(t=>t.tags)))].forEach(t=>e[t.toString()]=1)),Object(a.a)(Object.keys(e),"asc")}onTagInputChange(t,e){let i=e.value;i=i.replace(/[^a-z0-9\-]/g,""),this.filteredTags=this.validTags.filter(t=>t.indexOf(i)>=0&&this.tags.indexOf(t)<0&&"Folder"!==t),e.value=i}addTag(t,e){if("Folder"!==t){if(""===(t=(t=t.toLowerCase().replace(/[^a-z0-9\.\-\_]/g,"")).trim()))return;for(let e=0;e<this.tags.length;e++)if(t===this.tags[e])return}this.tags.push(t),this.tags=this.tags.slice(),e||this.tagChange.emit(this.tags)}addToTags(t){const e=t.input;this.addTag(t.value),e&&setTimeout(()=>e.value="")}onTagSelect(t,e){this.removeFromTags(e.value,!0),e.value="",this.addTag(t.option.value)}removeFromTags(t,e){for(let i=0;i<this.tags.length;i++)if(t===this.tags[i]){this.tags.splice(i,1);break}this.tags=this.tags.slice(),e||(console.log(this.tags),this.tagChange.emit(this.tags))}onTagClick(t,e){t.stopPropagation(),this.tagClicked.emit(e)}openTagHelperDialog(){const t=this.dialogRef.open($,{width:"90vw",height:"90vh",data:{packages:this.packages,taskPkgDict:this.taskPkgDict,tags:this.tags}});t.componentInstance.tagToggleEvent.subscribe(e=>{if("Folder"===e)return;const i=this.tags.indexOf(e);i>=0?this.tags.splice(i,1):this.tags.push(e),t.componentInstance.tags=this.tags,this.tagChange.emit(this.tags)}),t.afterClosed().subscribe(()=>{})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(s.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["bdp-tag-input"]],inputs:{packages:"packages",tasks:"tasks",tags:"tags",disabled:"disabled",highlightTags:"highlightTags"},outputs:{tagChange:"tagChange",tagClicked:"tagClicked"},features:[n.Ab],decls:11,vars:11,consts:[[2,"width","100%"],[3,"selectable"],["tagList",""],[3,"color","removable","selected","click",4,"ngFor","ngForOf"],["matInput","",2,"width","100%",3,"placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matAutocomplete","disabled","matChipInputTokenEnd","keyup"],["tagInput",""],["align","end",4,"ngIf"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matPrefix","","class","mr-3",3,"click",4,"ngIf"],[3,"color","removable","selected","click"],["matChipRemove","",3,"click",4,"ngIf"],["matChipRemove","",3,"click"],["align","end"],[3,"value"],["mat-icon-button","","matPrefix","",1,"mr-3",3,"click"],[1,"fas","fa-search-plus","fa-fw","fa-lg"]],template:function(t,e){if(1&t){const t=n.Vb();n.Ub(0,"mat-form-field",0),n.Ub(1,"mat-chip-list",1,2),n.Jc(3,V,3,5,"mat-chip",3),n.Ub(4,"input",4,5),n.cc("matChipInputTokenEnd",(function(t){return e.addToTags(t)}))("keyup",(function(i){n.Bc(t);const a=n.yc(5);return e.onTagInputChange(i,a)})),n.Tb(),n.Tb(),n.Jc(6,A,2,0,"mat-hint",6),n.Ub(7,"mat-autocomplete",7,8),n.cc("optionSelected",(function(i){n.Bc(t);const a=n.yc(5);return e.onTagSelect(i,a)})),n.Jc(9,N,2,2,"mat-option",9),n.Tb(),n.Jc(10,_,3,0,"button",10),n.Tb()}if(2&t){const t=n.yc(2),i=n.yc(8);n.Cb(1),n.nc("selectable",!0),n.Cb(2),n.nc("ngForOf",e.tags),n.Cb(1),n.nc("placeholder",e.disabled?"":"Add new tags here...")("matChipInputFor",t)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",!1)("matAutocomplete",i)("disabled",e.disabled),n.Cb(2),n.nc("ngIf",!e.disabled),n.Cb(3),n.nc("ngForOf",e.filteredTags),n.Cb(1),n.nc("ngIf",!e.disabled)}},directives:[r.b,u.c,o.m,u.b,B.c,o.n,B.a,u.a,g.a,u.d,r.e,p.k,f.b,r.f],encapsulation:2}),t})()},nNey:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("tyNb"),a=i("ofXK"),c=i("3Pt+"),s=i("bTqV"),o=i("Wp6s"),l=i("A5z7"),r=i("fXoL");let b=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[a.c,c.d,n.g,s.c,o.h,l.e]]}),t})()},pkYj:function(t,e,i){"use strict";i.d(e,"a",(function(){return x}));var n=i("ofXK"),a=i("3Pt+"),c=i("bTqV"),s=i("qFsG"),o=i("bSwM"),l=i("+0xr"),r=i("A5z7"),b=i("NFeN"),d=i("/1cH"),f=i("kmnG"),u=i("Xa2L"),g=i("4wla"),p=i("tyNb"),h=i("wkOn"),m=i("fXoL");let T=(()=>{class t{}return t.\u0275mod=m.Mb({type:t}),t.\u0275inj=m.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,a.d,s.b,c.c,o.b,l.o,r.e,b.b,d.b,f.d,u.b,h.a,p.g,g.a]]}),t})();var C=i("wZkO"),k=i("0IaG"),F=i("d3UM"),U=i("jaxi"),D=i("f0Cb");let x=(()=>{class t{}return t.\u0275mod=m.Mb({type:t}),t.\u0275inj=m.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,a.d,C.g,k.f,F.b,b.b,s.b,f.d,U.c,c.c,o.b,D.b,T,h.a]]}),t})()},wkOn:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("ofXK"),a=i("3Pt+"),c=i("7EHt"),s=i("kmnG"),o=i("d3UM"),l=i("A5z7"),r=i("NFeN"),b=i("0IaG"),d=i("bTqV"),f=i("f0Cb"),u=i("/1cH"),g=i("fXoL");let p=(()=>{class t{}return t.\u0275mod=g.Mb({type:t}),t.\u0275inj=g.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,a.d,c.b,s.d,o.b,l.e,r.b,u.b,b.f,d.c,f.b]]}),t})()}}]);